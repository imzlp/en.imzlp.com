<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="Module is the basic element that constitutes Unreal. Each Module encapsulates and implements a set of functions, which can be used by other Modules. The entire Unreal Engine is driven by the combinati">
<meta property="og:type" content="article">
<meta property="og:title" content="UE Build System：Target and Module">
<meta property="og:url" content="https://en.imzlp.com/posts/16643/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="Module is the basic element that constitutes Unreal. Each Module encapsulates and implements a set of functions, which can be used by other Modules. The entire Unreal Engine is driven by the combinati">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230323191402.webp">
<meta property="article:published_time" content="2019-09-12T13:14:22.000Z">
<meta property="article:modified_time" content="2019-09-12T13:14:22.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="UBT">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230323191402.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/16643/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>UE Build System：Target and Module | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/16643/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          UE Build System：Target and Module<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2019-09-12-16643.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/16643/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-09-12 13:14 13:14:22:14" itemprop="dateCreated datePublished" datetime="2019-09-12T13:14:22+00:00">2019-09-12 13:14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/Build-System/" itemprop="url" rel="index"><span itemprop="name">Build System</span></a>
                </span>
            </span>

          
            <span id="/posts/16643/" class="post-meta-item leancloud_visitors" data-flag-title="UE Build System：Target and Module" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>16k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>40 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Module is the basic element that constitutes Unreal. Each Module encapsulates and implements a set of functions, which can be used by other Modules. The entire Unreal Engine is driven by the combination of various Modules, and even the game project that we create is a separate Module.</p>
<p>So how does UE create and build these Modules? This is the main purpose of writing this article, to study Unreal’s build system and the various properties they support (Target and Module).</p>
<p>It is recommended to read my previous article before looking at this one: <a target="_blank" rel="noopener" href="https://imzlp.com/posts/6362/">Build flow of the Unreal Engine4 project</a>, which mainly outlines the build process of UE; this article is merely one part of the UE build system.</p>
<span id="more"></span>
<p>Anyone familiar with UE projects knows that when a C++ game project is created using UE, a <code>Source</code> folder is created under the project path, which by default contains the following files:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Example\GWorld\Source&gt;tree /a /f</span><br><span class="line">|   GWorld.Target.cs</span><br><span class="line">|   GWorldEditor.Target.cs</span><br><span class="line">|</span><br><span class="line">\---GWorld</span><br><span class="line">        GWorld.Build.cs</span><br><span class="line">        GWorld.cpp</span><br><span class="line">        GWorld.h</span><br><span class="line">        GWorldGameModeBase.cpp</span><br><span class="line">        GWorldGameModeBase.h</span><br></pre></td></tr></table></figure>
<p>Among them, <code>*.Target.cs</code> and <code>*.Build.cs</code> are the actual controllers of the Unreal build system. UBT determines the entire compilation environment by scanning these two files, and they are the focus of this article. Their responsibilities differ:</p>
<ul>
<li><code>*.Target.cs</code> controls the external compilation environment of the generated executable, known as the <strong>Target</strong>. For example, what <code>Type</code> (Game/Client/Server/Editor/Program) is generated, whether to enable RTTI (<code>bForceEnableRTTI</code>), how CRT is linked (<code>bUseStaticCRT</code>), etc.</li>
<li><code>*.Build.cs</code> controls the Module compilation process, managing dependencies, file inclusions, linking, macro definitions, and other related operations for the associated Module. <code>*.Build.cs</code> informs the UE build system that it is a Module and specifies what actions to take during compilation.</li>
</ul>
<p>In short: Anything related to the external compilation environment falls under <code>*.target.cs</code> and anything related to the Module itself falls under <code>*.build.cs</code>.</p>
<p>As a side note, the actual execution logic of the Module is defined in <code>GWorld.h</code> and <code>GWorld.cpp</code>, using <code>IMPLEMENT_MODULE</code>. All Modules in UE inherit from <code>IModuleInterface</code> and have the following interface:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">IModuleInterface</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">IModuleInterface</span>();</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">StartupModule</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PreUnloadCallback</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PostLoadCallback</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">ShutdownModule</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">SupportsDynamicReloading</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">SupportsAutomaticShutdown</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">IsGameModule</span><span class="params">()</span></span>; <span class="type">const</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>The <code>IModuleInterface</code> drives the startup and shutdown of Modules, but generally, <code>Game Module</code> does not use this to control the game flow. Detailed content on this can be found in my previous article: <a target="_blank" rel="noopener" href="https://imzlp.com/posts/24007/">UE4 Modules: Load and Startup</a></p>
<h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h2><p>Each project based on Unreal has a <code>Tergat.cs</code>, which contains a class definition inheriting from <code>TargetRules</code>; it is also recommended to associate this with a Module definition of the same name (though not strictly necessary) to avoid compilation errors for undefined Modules. Its implication is to compile the specified Module into the Target:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UnrealBuildTool : error : Could not find definition for module &#x27;GWorld&#x27; (referenced via GWorld.Target.cs)</span><br></pre></td></tr></table></figure>
<p>The name of the Module associated with <code>Target</code> can be specified through <code>ExtraModuleNames</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GWorldTarget</span> : <span class="title">TargetRules</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">GWorldTarget</span>(<span class="params">TargetInfo Target</span>) : <span class="title">base</span>(<span class="params">Target</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    Type = TargetType.Game;</span><br><span class="line">    ExtraModuleNames.AddRange( <span class="keyword">new</span> <span class="built_in">string</span>[] &#123; <span class="string">&quot;GWorld&quot;</span> &#125; );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The above specifies <code>GWorld</code>, so when UBT parses it, it will look for the definition of the <code>GWorld</code> Module in the <code>GWorld.build.cs</code> file, which contains the <code>GWorld</code> class definition. If it’s not found, the aforementioned Module undefined error will occur.</p>
<blockquote>
<p>Note: The Module associated with <code>Target</code> is not just a simple specified name; all code that uses <code>XXXX_API</code> is related to the Module’s name.</p>
</blockquote>
<p>If I make the following change: <code>ExtraModuleNames.AddRange( new string[] &#123; &quot;GWorldAAA&quot; &#125; );</code>, then the changes required in all source files in the project are:</p>
<ol>
<li>Rename the existing <code>GWorld.build.cs</code> file to <code>GWorldAAA.build.cs</code> and replace all occurrences of <code>GWorld</code> in the file content with <code>GWorldAAA</code>;</li>
<li>Rename all <code>GWORLD_API</code> in the project’s header files to <code>GWORLDAAA_API</code>, because the <code>XXX_API</code> export symbols depend on the <code>ModuleName</code>;</li>
</ol>
<p>This is indeed a considerable amount of work, so it is advisable to keep the name specified in <code>ExtraModuleNames</code> the same as the <code>Game Module</code>.<br>Through the above, we understand how <code>Target.cs</code> is linked to <code>Build.cs</code>. In fact, the <code>Game</code>/<code>Server</code>/<code>Client</code>/<code>Editor</code> Targets can share the same Module; just set their <code>ExtraModuleNames</code> to be the same (if you want to write them separately for each Target type, that’s fine too).</p>
<p>The code for <code>TargetRules</code> can be found in <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Programs/UnrealBuildTool/Configuration/TargetRules.cs">UnrealBuildTools/Configuration/ModuleRules</a> (and <code>ReadOnlyTargetRules</code> is defined there as well), where you can see the default values for supported parameters; UE’s documentation describing properties for <code>Target</code>: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/en-US/Programming/BuildTools/UnrealBuildTool/TargetFiles/index.html">Targets</a>.</p>
<p>However, the official documentation from UE only includes comments from the code, and some descriptions are a bit hard to grasp after reading; I will analyze the meanings of some <code>TargetRule</code> properties later on, so let’s leave that for now.</p>
<h3 id="Type-TargetType"><a href="#Type-TargetType" class="headerlink" title="Type(TargetType)"></a>Type(TargetType)</h3><p>The property <code>Type</code> in <code>TargetRules</code> is of type <code>TargetType</code>, defined in <code>TargetRules.cs</code>, which specifies what program the project is to build.</p>
<ul>
<li><strong>Game</strong> - A standalone game which requires cooked data to run.</li>
<li><strong>Client</strong> - Same as Game, but does not include any server code. Useful for networked games.</li>
<li><strong>Server</strong> - Same as Game, but does not include any client code. Useful for dedicated servers in networked games.</li>
<li><strong>Editor</strong> - A target which extends the Unreal Editor.</li>
<li><strong>Program</strong> - A standalone utility program built on top of the Unreal Engine.</li>
</ul>
<h3 id="LinkType-TargetLinkType"><a href="#LinkType-TargetLinkType" class="headerlink" title="LinkType(TargetLinkType)"></a>LinkType(TargetLinkType)</h3><p>The <code>LinkType</code> in <code>TargetRules</code> is of type <code>TargetLinkType</code>, defined in <code>TargetRules.cs</code>, specifying the linking type of the project.</p>
<p><code>TargetLinkType</code> has three enumeration values:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;summary&gt;</span></span><br><span class="line"><span class="comment">/// Specifies how to link all the modules in this target</span></span><br><span class="line"><span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">[Serializable]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">TargetLinkType</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">    <span class="comment">/// Use the default link type based on the current target type</span></span><br><span class="line">    <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">    Default,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">    <span class="comment">/// Link all modules into a single binary</span></span><br><span class="line">    <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">    Monolithic,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">    <span class="comment">/// Link modules into individual dynamic libraries</span></span><br><span class="line">    <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">    Modular,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>TargetLinkType.Default</code> is the default value for <code>LinkType</code>; in this state, if the current <code>Target</code>‘s <code>Type</code> is <code>Editor</code>, it uses the <code>Modular</code> type, linking all modules as dynamic link libraries.</li>
<li><code>TargetLinkType.Modular</code>: Links Modules as dynamic link libraries.</li>
<li><code>TargetLinkType.Monolithic</code>: Links all modules into a single file (static link).</li>
</ul>
<p>You can modify <code>LinkType</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;summary&gt;</span></span><br><span class="line"><span class="comment">/// Backing storage for the LinkType property.</span></span><br><span class="line"><span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">[RequiresUniqueBuildEnvironment]</span><br><span class="line">[<span class="built_in">CommandLine</span>(<span class="string">&quot;-Monolithic&quot;</span>, Value =<span class="string">&quot;Monolithic&quot;</span>)]</span><br><span class="line">[<span class="built_in">CommandLine</span>(<span class="string">&quot;-Modular&quot;</span>, Value =<span class="string">&quot;Modular&quot;</span>)]</span><br><span class="line">TargetLinkType LinkTypePrivate = TargetLinkType.Default;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// &lt;summary&gt;</span></span><br><span class="line"><span class="comment">/// Specifies how to link modules in this target (monolithic or modular). This is currently protected for backwards compatibility. Call the GetLinkType() accessor</span></span><br><span class="line"><span class="comment">/// until support for the deprecated ShouldCompileMonolithic() override has been removed.</span></span><br><span class="line"><span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line"><span class="keyword">public</span> TargetLinkType LinkType</span><br><span class="line">&#123;</span><br><span class="line">    get</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> (LinkTypePrivate != TargetLinkType.Default) ? LinkTypePrivate : ((Type == global::UnrealBuildTool.TargetType.Editor) ? TargetLinkType.Modular : TargetLinkType.Monolithic);</span><br><span class="line">    &#125;</span><br><span class="line">    set</span><br><span class="line">    &#123;</span><br><span class="line">        LinkTypePrivate = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Name-string"><a href="#Name-string" class="headerlink" title="Name(string)"></a>Name(string)</h3><p>The name of the Target is a read-only property, coming from the project name.</p>
<h3 id="Platform-UnrealTargetPlatform"><a href="#Platform-UnrealTargetPlatform" class="headerlink" title="Platform(UnrealTargetPlatform)"></a>Platform(UnrealTargetPlatform)</h3><p>The <code>Platform</code> is of type <code>UnrealTargetPlatform</code>, which is an enumeration defined in <code>UnrealBuildTool\Configuration\UEBuildTarget.cs</code>.</p>
<p>It records the current Target’s platform information, such as Win32/Win64, and currently, the supported platforms in version <code>UE_4.22</code> are:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> UnrealTargetPlatform</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Unknown target platform</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Unknown,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> 32-bit Windows</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Win32,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> 64-bit Windows</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Win64,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Mac</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Mac,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> XboxOne</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  XboxOne,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Playstation 4</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  PS4,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> iOS</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  IOS,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Android</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Android,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> HTML5</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  HTML5,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Linux</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Linux,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> All desktop platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  AllDesktop,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> TVOS</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  TVOS,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Nintendo Switch</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Switch,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> NDA&#x27;d platform Quail</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Quail,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Confidential platform</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Lumin,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In <code>build.cs</code> or <code>target.cs</code>, we can perform different actions based on the Platform.</p>
<p>For example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Target.Platform != UnrealTargetPlatform.Win32 &amp;&amp; Target.Platform != UnrealTargetPlatform.Win64)</span><br><span class="line">&#123;</span><br><span class="line">  PublicDefinitions.<span class="built_in">Add</span>(<span class="string">&quot;HAVE_PTHREAD&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="IsInPlatformGroup"><a href="#IsInPlatformGroup" class="headerlink" title="IsInPlatformGroup"></a>IsInPlatformGroup</h3><p>This is a function <code>bool IsInPlatformGroup(UnrealPlatformGroup Group)</code>, defined in <code>TargetRules.cs</code>, which is used to determine whether the current <code>Platform</code> is part of a specific group.</p>
<p>The parameter required is of the enumeration type <code>UnrealTargetformGroup</code>, which is defined in <code>UEBuildTarget.cs</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Platform groups</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> UnrealPlatformGroup</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> this group is just to lump Win32 and Win64 into Windows directories, removing the special Windows logic in MakeListOfUnsupportedPlatforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Windows,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Microsoft platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Microsoft,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Apple platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Apple,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> making IOS a group allows TVOS to compile IOS code</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  IOS,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Unix platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Unix,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Android platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Android,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Sony platforms</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  Sony,</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> Target all desktop platforms (Win64, Mac, Linux) simultaneously</span></span><br><span class="line">  <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">  AllDesktop,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Configuration-UnrealTargetConfiguration"><a href="#Configuration-UnrealTargetConfiguration" class="headerlink" title="Configuration(UnrealTargetConfiguration)"></a>Configuration(UnrealTargetConfiguration)</h3><p>The current compilation configuration is of type <code>UnrealTargetConfiguration</code>, defined in <code>UEBuildTarget.cs</code> and constructed from the <code>Configuration</code> in VS, such as:</p>
<ul>
<li>Development</li>
<li>Shipping</li>
<li>DebugGame</li>
<li>Debug</li>
<li>Test</li>
<li>Unknow</li>
</ul>
<p>It is through this setting that UBT adds the following macros in the compilation environment:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="type">void</span> <span class="title">SetUpConfigurationEnvironment</span><span class="params">(ReadOnlyTargetRules Target, CppCompileEnvironment GlobalCompileEnvironment, LinkEnvironment GlobalLinkEnvironment)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// other code</span></span><br><span class="line">	UnrealTargetConfiguration CheckConfig = Target.Configuration;</span><br><span class="line">	<span class="keyword">switch</span> (CheckConfig)</span><br><span class="line">	&#123;</span><br><span class="line">	  <span class="keyword">default</span>:</span><br><span class="line">	  <span class="keyword">case</span> UnrealTargetConfiguration.Debug:</span><br><span class="line">	    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;UE_BUILD_DEBUG=1&quot;</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> UnrealTargetConfiguration.DebugGame:</span><br><span class="line">	  <span class="comment">// Default to Development; can be overridden by individual modules.</span></span><br><span class="line">	  <span class="keyword">case</span> UnrealTargetConfiguration.Development:</span><br><span class="line">	    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;UE_BUILD_DEVELOPMENT=1&quot;</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> UnrealTargetConfiguration.Shipping:</span><br><span class="line">	    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;UE_BUILD_SHIPPING=1&quot;</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> UnrealTargetConfiguration.Test:</span><br><span class="line">	    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;UE_BUILD_TEST=1&quot;</span>);</span><br><span class="line">	  <span class="keyword">break</span>;bUseDebugCRT</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// other code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Architecture-string"><a href="#Architecture-string" class="headerlink" title="Architecture(string)"></a>Architecture(string)</h3><p>The architecture information of the platform on which it runs: <code>x86</code>/<code>arm</code>, etc.</p>
<h3 id="CppStandard-CppStandardVersion"><a href="#CppStandard-CppStandardVersion" class="headerlink" title="CppStandard(CppStandardVersion)"></a>CppStandard(CppStandardVersion)</h3><p>Used to specify the C++ standard version used when compiling the project (available only in newer engine versions (4.23)).<br><code>CppStandardVersion</code>:</p>
<ul>
<li><code>Latast</code></li>
<li><code>Cpp17</code></li>
<li><code>Cpp14</code></li>
</ul>
<p>This option essentially adds <code>/std:c++xxx</code> to the VS compilation options.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AppendCLArguments_CPP</span><span class="params">(CppCompileEnvironment CompileEnvironment, List&lt;string&gt; Arguments)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// other code...</span></span><br><span class="line">  <span class="keyword">if</span>(CompileEnvironment.CppStandard &gt;= CppStandardVersion.Latest)</span><br><span class="line">  &#123;</span><br><span class="line">    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/std:c++latest&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(CompileEnvironment.CppStandard &gt;= CppStandardVersion.Cpp17)</span><br><span class="line">  &#123;</span><br><span class="line">    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/std:c++17&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(CompileEnvironment.CppStandard &gt;= CppStandardVersion.Cpp14)</span><br><span class="line">  &#123;</span><br><span class="line">    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/std:c++14&quot;</span>);</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="comment">// other code...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="bUseDebugCRT-bool"><a href="#bUseDebugCRT-bool" class="headerlink" title="bUseDebugCRT(bool)"></a>bUseDebugCRT(bool)</h3><p>Used to control whether the output <code>Runtime Library</code> type is <code>MT</code> or <code>MD</code>; it also controls the addition of <code>_DEBUG</code> and <code>NODEBUG</code> macros:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="type">void</span> <span class="title">SetUpConfigurationEnvironment</span><span class="params">(ReadOnlyTargetRules Target, CppCompileEnvironment GlobalCompileEnvironment, LinkEnvironment GlobalLinkEnvironment)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (GlobalCompileEnvironment.bUseDebugCRT)</span><br><span class="line">  &#123;</span><br><span class="line">    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;_DEBUG=1&quot;</span>); <span class="comment">// the engine doesn&#x27;t use this, but lots of 3rd party stuff does</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    GlobalCompileEnvironment.Definitions.<span class="built_in">Add</span>(<span class="string">&quot;NDEBUG=1&quot;</span>); <span class="comment">// the engine doesn&#x27;t use this, but lots of 3rd party stuff does</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// other code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ProjectDefinitions-List"><a href="#ProjectDefinitions-List" class="headerlink" title="ProjectDefinitions(List)"></a>ProjectDefinitions(List<string>)</h3><p>Macro definitions added for the current project, available throughout the project.</p>
<h3 id="GlobalDefinitions-List"><a href="#GlobalDefinitions-List" class="headerlink" title="GlobalDefinitions(List)"></a>GlobalDefinitions(List<string>)</h3><p>Macro definitions that can be used throughout the entire Target.</p>
<h3 id="bShouldCompileAsDLL-bool"><a href="#bShouldCompileAsDLL-bool" class="headerlink" title="bShouldCompileAsDLL(bool)"></a>bShouldCompileAsDLL(bool)</h3><p>Compilers the Target as a DLL, requiring <code>LinkType</code> to be <code>Monolithic</code> when <code>true</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// &lt;summary&gt;</span></span><br><span class="line"><span class="comment">/// Whether this target should be compiled as a DLL.  Requires LinkType to be set to TargetLinkType.Monolithic.</span></span><br><span class="line"><span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line">[RequiresUniqueBuildEnvironment]</span><br><span class="line"><span class="keyword">public</span> <span class="type">bool</span> bShouldCompileAsDLL = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="AdditionalCompilerArguments-String"><a href="#AdditionalCompilerArguments-String" class="headerlink" title="AdditionalCompilerArguments(String)"></a>AdditionalCompilerArguments(String)</h3><p>Arguments passed to the compiler.</p>
<h3 id="AdditionalLinkerArguments-String"><a href="#AdditionalLinkerArguments-String" class="headerlink" title="AdditionalLinkerArguments(String)"></a>AdditionalLinkerArguments(String)</h3><p>Arguments passed to the linker.</p>
<h3 id="bUsesSlate-bool"><a href="#bUsesSlate-bool" class="headerlink" title="bUsesSlate(bool)"></a>bUsesSlate(bool)</h3><p>Controls whether <code>Slate</code> related image resources are packaged into the pak during packaging.</p>
<h3 id="bUseInlining-bool"><a href="#bUseInlining-bool" class="headerlink" title="bUseInlining(bool)"></a>bUseInlining(bool)</h3><p>Whether to enable inline optimization; inlining essentially reduces function call overhead by expanding functions.</p>
<p>However, there may be some issues, such as in the engine’s <code>Engine</code> module, the <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/463443057fb97f1af0d2951705324ce8818d2a55/Engine/Source/Runtime/Engine/Classes/Engine/World.h#L784-L844">FStreamingLevelsToConsider</a> function, which does not export the symbol <code>ENGINE_API</code>.</p>
<p>In the <code>Engine/World.h</code>, the function <code>IsStreamingLevelBeingConsidered</code> calls it as defined in the header file:</p>
<figure class="highlight cpp"><figcaption><span>Engine/World.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Returns true if StreamingLevel is part of the levels being considered for update */</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsStreamingLevelBeingConsidered</span><span class="params">(ULevelStreaming* StreamingLevel)</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> StreamingLevelsToConsider.<span class="built_in">Contains</span>(StreamingLevel); &#125;</span><br></pre></td></tr></table></figure>
<p>The function defined in the header file is implicitly inlined by the compiler, and if the call to <code>World-&gt;IsStreamingLevelBeingConsidered</code> is inlined in other modules, it leads to a linking error:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Undefined symbols for architecture x86_64:</span><br><span class="line">  &quot;FStreamingLevelsToConsider::Contains(ULevelStreaming*) const&quot;, referenced from:</span><br><span class="line">      UWorldMgr::WorldCompositionTick(float) in Module.FGame.8_of_8.cpp.o</span><br><span class="line">ld: symbol(s) not found for architecture x86_64</span><br><span class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</span><br></pre></td></tr></table></figure>
<p>Because inlining expands to directly execute at the calling site, with the <code>FStreamingLevelsToConsider</code> symbol not being exported, it leads to a linking error.</p>
<p>To resolve such issues, you can either modify the engine to export the symbol or disable inlining in the target.cs:</p>
<figure class="highlight csharp"><figcaption><span>target.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bOverrideBuildEnvironment = <span class="literal">true</span>;</span><br><span class="line">bUseInlining = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<p>In the UBT code, there is a check for its value, then actual compilation parameters will be added:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="keyword">if</span> (!CompileEnvironment.bUseInlining)</span><br><span class="line">&#123;</span><br><span class="line">	Result += <span class="string">&quot; -fno-inline-functions&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>Similar to <code>Target</code>, each Unreal <code>Module</code> has a dedicated <code>ModuleName.Build.cs</code> where a dedicated <code>ModuleName</code> class is defined, inheriting from <code>ModuleRules</code>. The operations we perform during the module build are controlled through it.</p>
<blockquote>
<p>Note: Whether it’s a Game Module or a Plugin Module, as long as it’s a <strong>project-dependent</strong> Module, it will receive the current <code>Target</code> information during compilation.</p>
</blockquote>
<p>The code for <code>ModuleRules</code> can be found in <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Programs/UnrealBuildTool/Configuration/ModuleRules.cs">UnrealBuildTools/Configuration/ModuleRules</a>, and you can also look at the default values for supported properties there; UE’s official documentation describing <code>Modules</code>: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/en-US/Programming/BuildTools/UnrealBuildTool/ModuleFiles/index.html">Modules</a> only contains comments in the code without actual examples. I will analyze some common properties in <strong>Build.cs</strong> in practical projects.</p>
<p>In <code>*.Build.cs</code>, you can retrieve property information from <code>*.Target.cs</code> through the <code>ReadOnlyTargetRules Target</code> parameter.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnrealBuildTool;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GWorld</span> : <span class="title">ModuleRules</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">GWorld</span>(<span class="params">ReadOnlyTargetRules ReadOnlyTargetRules</span>) : <span class="title">base</span>(<span class="params">Target</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    PCHUsage = PCHUsageMode.UseExplicitOrSharedPCHs;</span><br><span class="line">    <span class="comment">// something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Through the <code>Target</code> object, you can manage operations on the Module based on different platforms (Platform), architectures (Architecture), and other options (such as defining different macros, including different ThirdParty libraries, linking different libraries, etc.).</p>
<h3 id="ModuleDirectory"><a href="#ModuleDirectory" class="headerlink" title="ModuleDirectory"></a>ModuleDirectory</h3><ul>
<li><code>string ModuleDirectory</code>: The absolute path to the project source path <code>PROJECT_NAME/Source/PROJECT_NAME</code>.</li>
</ul>
<h3 id="EngineDirectory"><a href="#EngineDirectory" class="headerlink" title="EngineDirectory"></a>EngineDirectory</h3><ul>
<li><code>string EngineDirectory</code>: The absolute path of the engine directory <code>Engine/</code> in the current environment.</li>
</ul>
<h3 id="PublicAdditionalLibraries"><a href="#PublicAdditionalLibraries" class="headerlink" title="PublicAdditionalLibraries"></a>PublicAdditionalLibraries</h3><p>Adding static link library files (note the difference from <code>PublicLibraryPaths</code>), generally used for linking third-party libraries.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PublicAdditionalLibraries.<span class="built_in">AddRange</span>(</span><br><span class="line">  <span class="keyword">new</span> string[]</span><br><span class="line">  &#123;</span><br><span class="line">    Path.<span class="built_in">Combine</span>(ThridPartyPath,<span class="string">&quot;protobuf/lib/Win64/MD/Release&quot;</span>,<span class="string">&quot;libprotobuf.lib&quot;</span>),</span><br><span class="line">    Path.<span class="built_in">Combine</span>(ThridPartyPath,<span class="string">&quot;protobuf/lib/Win64/MD/Release&quot;</span>,<span class="string">&quot;libprotobuf-lite.lib&quot;</span>),</span><br><span class="line">    Path.<span class="built_in">Combine</span>(ThridPartyPath,<span class="string">&quot;protobuf/lib/Win64/MD/Release&quot;</span>,<span class="string">&quot;libprotoc.lib&quot;</span>),</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>For detailed information, you can read: <a target="_blank" rel="noopener" href="https://wiki.unrealengine.com/Linking_Static_Libraries_Using_The_Build_System">Linking Static Libraries Using The Build System</a></p>
<blockquote>
<p>It can also be used for DLL import libraries, in combination with <code>PublicDelayLoadDLLs</code> and <code>RuntimeDependencies</code>.</p>
</blockquote>
<h3 id="PublicAdditionalShadowFiles"><a href="#PublicAdditionalShadowFiles" class="headerlink" title="PublicAdditionalShadowFiles"></a>PublicAdditionalShadowFiles</h3><p>When executing remote compilation, specify the files that need to be copied to the remote server for the current module to ensure a successful link.</p>
<p>For instance, when remotely packaging for iOS platforms, you need to add the statically linked libraries that the current module depends on (e.g., the Game module depends on a plugin’s <code>External</code> module).</p>
<h3 id="RuntimeDependencies"><a href="#RuntimeDependencies" class="headerlink" title="RuntimeDependencies"></a>RuntimeDependencies</h3><ul>
<li><code>list&lt;RuntimeDependency&gt; RuntimeDependencies</code>: Files (<code>.so</code>/<code>.dll</code>, etc.) that the Module depends on at runtime, which will be copied to the storage directory during packaging.</li>
</ul>
<p>When packaging for Windows, the files will be copied directly to the corresponding directory, but on Android, the files will be placed in the Apk package’s main.obb.webp.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/16643/android-runtimedependencies.webp"></p>
<h3 id="PublicDelayLoadDLLs"><a href="#PublicDelayLoadDLLs" class="headerlink" title="PublicDelayLoadDLLs"></a>PublicDelayLoadDLLs</h3><ul>
<li><code>List&lt;string&gt; PublicDelayLoadDLLs</code>: A list of DLLs to be loaded lazily, usually used for third-party libraries.</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// build.cs</span></span><br><span class="line">PublicAdditionalLibraries.Add(Path.Combine(LibrariesPath, <span class="string">&quot;myExternalLib.lib&quot;</span>));</span><br><span class="line">PublicDelayLoadDLLs.Add(<span class="string">&quot;myExternalLib.dll&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The meaning is that the DLLs in the list are not loaded immediately upon program startup; instead, they are loaded once their symbols are needed for the first time. This allows them to be loaded in the <code>StartupModule</code> method as needed, without placing the DLL next to the executable.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FString AbsPath = FileManager::<span class="built_in">Get</span>().<span class="built_in">ConvertToAbsolutePathForExternalAppForRead</span>(*MyLibPath);</span><br><span class="line">FPlatformProcess::<span class="built_in">AddDllDirectory</span>(AbsPath)</span><br><span class="line">FPlatformProcess::<span class="built_in">PushDllDirectory</span>(*AbsPath);</span><br><span class="line"><span class="comment">// direct call dll function</span></span><br><span class="line"><span class="comment">// or load dll handle</span></span><br><span class="line"><span class="comment">// void* DLLHandle3 = FPlatformProcess::GetDllHandle( L&quot;myExternalLib.dll&quot; );</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>PS: For DLL usage with import libraries, the process is as follows:</p>
</blockquote>
<ol>
<li>Use <code>PublicAdditionalLibraries</code> to add the lib.</li>
<li>Add the DLL to <code>PublicDelayLoadDLLs</code>.</li>
<li>Use <code>RuntimeDependencies</code> to copy the DLL during packaging.</li>
<li>If the copied location is not the exe path, <code>AddDllDirectory</code> and <code>PushDllDirectory</code> should be executed in <code>StartupModule</code> to add the DLL’s path there.<blockquote>
<p><code>PublicDelayLoadDLLs</code> only needs the DLL name (xxxx.dll), no path is required.</p>
</blockquote>
</li>
</ol>
<p>I tested using DLL + import library and placed the DLL in a non-exe directory in <code>GoogleInstantPreview</code>. Here are some examples: <a href="ue4-plugin-GoogleInstanceIns.7z">ue4-plugin-GoogleInstanceIns.7z</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/49172258/runtime-error-when-referencing-external-library-in-unreal-engine">Runtime error when referencing external library in Unreal Engine</a></li>
<li><a target="_blank" rel="noopener" href="https://forums.unrealengine.com/development-discussion/c-gameplay-programming/121369-how-unreal-build-tool-works">How Unreal Build Tool works</a></li>
</ul>
<h3 id="PublicDefinitions"><a href="#PublicDefinitions" class="headerlink" title="PublicDefinitions"></a>PublicDefinitions</h3><ul>
<li><code>List&lt;string&gt; PublicDefinitions</code>: Adds public macro definitions to the current Module, equivalent to adding a preprocessor macro in traditional VS project settings.</li>
</ul>
<p>Once analyzed by UBT, it produces a <code>Definitions.PROJECT_NAME.h</code> header file, which defines various macros.</p>
<figure class="highlight pp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Intermediate\Build\Win64\UE4Editor\Development\ReflectionExample\Definitions.ReflectionExample.h</span><br></pre></td></tr></table></figure>

<h3 id="PublicSystemIncludePaths"><a href="#PublicSystemIncludePaths" class="headerlink" title="PublicSystemIncludePaths"></a>PublicSystemIncludePaths</h3><ul>
<li><code>List&lt;string&gt; PublicSystemIncludePaths</code>: The documentation states it is for adding system include paths, but unlike <code>PublicIncludePaths</code>, it skips header file resolution checks (however, my testing shows that code included this way still detects the following errors (UE_4.20)):</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error : Expected mpack-platform.h to be first header included.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note: If the paths are not specified, the default IncludePath is <code>Engine/Source</code>.</p>
</blockquote>
<p>For example:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PublicSystemIncludePaths.AddRange(</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">string</span>[] &#123;</span><br><span class="line">    <span class="string">&quot;TEST_LIB&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>This indicates the path is:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\UnrealEngine\Epic\UE_4.21\Engine\Source\TEST_LIB</span><br></pre></td></tr></table></figure>
<p>The default path for any specified <code>*IncludePaths</code> in <code>*.build.cs</code> is <code>Engine/Source</code>.</p>
<h3 id="PrivateRuntimeLibraryPaths"><a href="#PrivateRuntimeLibraryPaths" class="headerlink" title="PrivateRuntimeLibraryPaths"></a>PrivateRuntimeLibraryPaths</h3><ul>
<li><code>List&lt;string&gt; PrivateRuntimeLibraryPaths</code>: The search path for runtime libraries, e.g., <code>.so</code> or <code>.dll</code>.</li>
</ul>
<h3 id="PublicRuntimeLibraryPaths"><a href="#PublicRuntimeLibraryPaths" class="headerlink" title="PublicRuntimeLibraryPaths"></a>PublicRuntimeLibraryPaths</h3><ul>
<li><code>List&lt;string&gt; PublicRuntimeLibraryPaths</code>: The search path for runtime libraries, e.g., <code>.so</code> or <code>.dll</code>.</li>
</ul>
<p>Because the default search paths for dynamic link libraries are:</p>
<ol>
<li>The system PATH;</li>
<li>The current directory of the executable;</li>
</ol>
<p>If our dynamic link library resides elsewhere, runtime errors will occur. We can add the library directories using <code>PublicRuntimeLibraryPaths</code> or <code>PrivateRuntimeLibraryPaths</code>.</p>
<h3 id="PublicLibraryPaths"><a href="#PublicLibraryPaths" class="headerlink" title="PublicLibraryPaths"></a>PublicLibraryPaths</h3><p>To add the <strong>path</strong> for linking library files, such as using in source code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib,<span class="string">&quot;Lua.lib&quot;</span>)</span></span><br></pre></td></tr></table></figure>

<p>You can use <code>PublicLibraryPaths</code> to add the dependent Lib.</p>
<h3 id="DynamicallyLoadedModuleNames"><a href="#DynamicallyLoadedModuleNames" class="headerlink" title="DynamicallyLoadedModuleNames"></a>DynamicallyLoadedModuleNames</h3><ul>
<li><code>List&lt;string&gt; DynamicallyLoadedModuleNames</code>: Adds Modules that need to be dynamically loaded at runtime, using functions like <code>FModuleManager::LoadModuleChecked&lt;MODULE_TYPE&gt;(TEXT(&quot;MODULE_NAME&quot;))</code> to start.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// e.g</span></span><br><span class="line">FModuleManager::<span class="built_in">LoadModuleChecked</span>&lt; IAIModule &gt;( <span class="string">&quot;AIModule&quot;</span> );</span><br></pre></td></tr></table></figure>

<h3 id="PublicDependencyModuleNames"><a href="#PublicDependencyModuleNames" class="headerlink" title="PublicDependencyModuleNames"></a>PublicDependencyModuleNames</h3><ul>
<li><code>List&lt;string&gt; PublicDependencyModuleNames</code>: Adds the source file dependencies of the executing Module, automatically adding the <code>Public</code> and <code>Private</code> source file inclusions of the dependent Modules.</li>
</ul>
<h3 id="PrivateDependencyModuleNames"><a href="#PrivateDependencyModuleNames" class="headerlink" title="PrivateDependencyModuleNames"></a>PrivateDependencyModuleNames</h3><ul>
<li><code>List&lt;string&gt; PrivateDependencyModuleNames</code>: Unlike <code>PublicDependencyModuleNames</code>, it implies that the source files in the dependent Module can only be used in <code>Private</code>.</li>
</ul>
<p>For instance, if there is a Module A and another Module B, both structured with <code>UE&#39;s Module/Public</code> and <code>Module/Private</code> file systems.</p>
<ul>
<li>If B depends on A and the dependency was added using <code>PrivateDependencyModuleNames</code>, then A’s source files can only be used in B’s <code>Private</code> files, leading to <code>No such file or directory</code> errors when used in B’s <code>Public</code> files.</li>
<li>Conversely, if A is added through <code>PublicDependencyModuleNames</code>, its files are available in both B’s <code>Public</code> and <code>Private</code> directories.</li>
</ul>
<p>In addition to the difference, it also affects modules dependent on B. When a module C depends on B, it can only access classes exposed from B’s PublicDependencyModule.<br>For example, C depends on B, and B depends on A; if C wants to access classes in A, there are two options:</p>
<ol>
<li>Add A module to C’s dependencies.</li>
<li>Ensure B’s dependency on A is added to PublicDependencyModuleNames, allowing C indirect access to A.</li>
</ol>
<p>Testing reveals that for <strong>Game Modules</strong> (<code>PROJECT_NAME/Source/PROJECT_NAME.target.cs</code>), it doesn’t significantly matter whether the dependent Module is added through <code>PublicDependencyModuleNames</code> or <code>PrivateDependencyModuleNames</code>; headers from the Module can still be used in Game Modules’ <code>Public</code> directory under certain conditions (unless the dependent module is set with <code>bUsePrecompiled</code>, which alters accessibility).</p>
<p>Relevant discussions:</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://answers.unrealengine.com/questions/23384/what-is-the-difference-between-publicdependencymod.html">What is the difference between PublicDependencyModuleNames and PrivateDependencyModuleNames</a></li>
<li><a target="_blank" rel="noopener" href="https://answers.unrealengine.com/questions/20310/explanation-of-source-code-folder-structure.html">Explanation of Source Code folder structure?</a></li>
</ol>
<h3 id="bPrecompile-and-bUsePrecompiled"><a href="#bPrecompile-and-bUsePrecompiled" class="headerlink" title="bPrecompile and bUsePrecompiled"></a>bPrecompile and bUsePrecompiled</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Whether this module should be precompiled. Defaults to the bPrecompile flag from the target. Clear this flag to prevent a module being precompiled.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> bPrecompile;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Whether this module should use precompiled data. Always true for modules created from installed assemblies.</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> bUsePrecompiled;</span><br></pre></td></tr></table></figure>

<p>These two properties need to be used together.</p>
<p>Consider this scenario:<br>If we want to provide a Module A to others for use, but do not wish to disclose the complete code, what should we do?</p>
<p>In the traditional C++ domain, we would say: compile the code into a DLL and only release the headers and DLL to the users.<br>Exactly! The <code>bPrecompile</code> and <code>bUsePrecompiled</code> serve a similar purpose.</p>
<p>When compiling Module A, we add to its <code>*.build.cs</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">ModuleRules</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">A</span>(<span class="params">ReadOnlyTargetRules Target</span>) : <span class="title">base</span>(<span class="params">Target</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    bPrecompile=<span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After completing the compilation, delete the <code>Source/Private</code> folder in Module A (ensure you back it up first), and remove the <code>Intermediate</code> folder while keeping the <code>Binaries</code>. Finally, open Module A’s <code>A.build.cs</code>, delete <code>bPrecompile=true;</code>, and add:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">ModuleRules</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">A</span>(<span class="params">ReadOnlyTargetRules Target</span>) : <span class="title">base</span>(<span class="params">Target</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    bUsePrecompiled=<span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>With this, our objective is achieved: the implementation code (<code>Private</code>) is not released, and pre-compiled binaries are provided, but this does not allow for static linking. If it’s only exposed for Blueprint usage, that can work, but using its symbols in other Modules will lead to undefined symbol errors.</p>
<h3 id="OptimizeCode-CodeOptimization"><a href="#OptimizeCode-CodeOptimization" class="headerlink" title="OptimizeCode(CodeOptimization)"></a>OptimizeCode(CodeOptimization)</h3><p>This property is used to control whether to enable code optimization for the current module. When debugging in VS, you may sometimes see “Variable has been optimized away and is therefore unavailable,” which is due to optimization.</p>
<p>It can be used to disable optimization:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// build.cs</span></span><br><span class="line">OptimizeCode = CodeOptimization.Never;</span><br></pre></td></tr></table></figure>

<p><code>CodeOptimization</code> supports several values, with the default being <code>Default</code>, enabling optimization:</p>
<ul>
<li>Never</li>
<li>Default</li>
<li>InNonDebugBuilds</li>
<li>InShippingBuildsOnly</li>
</ul>
<p>Related code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UnrealBuildTool/Configutation/UEBuildModuleCPP.cs</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">bool</span> <span class="title">ShouldEnableOptimization</span><span class="params">(ModuleRules.CodeOptimization Setting, UnrealTargetConfiguration Configuration, <span class="type">bool</span> bIsEngineModule)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(Setting)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">case</span> ModuleRules.CodeOptimization.Never:</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">case</span> ModuleRules.CodeOptimization.Default:</span><br><span class="line">    <span class="keyword">case</span> ModuleRules.CodeOptimization.InNonDebugBuilds:</span><br><span class="line">      <span class="keyword">return</span> (Configuration == UnrealTargetConfiguration.Debug)? <span class="literal">false</span> : (Configuration != UnrealTargetConfiguration.DebugGame || bIsEngineModule);</span><br><span class="line">    <span class="keyword">case</span> ModuleRules.CodeOptimization.InShippingBuildsOnly:</span><br><span class="line">      <span class="keyword">return</span> (Configuration == UnrealTargetConfiguration.Shipping);</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This function is called in <code>UEBuildModuleCPP.cs</code>‘s <code>CreateModuleCompileEnvironment</code>, and the result is assigned to <code>CppCompileEnvironment.bOptimizeCode</code>, which is subsequently used in <code>VCToolChain.cs</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">UnrealBuildTool\Platform\Windows\VCToolChain.<span class="function">cs</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AppendCLArguments_Global</span><span class="params">(CppCompileEnvironment CompileEnvironment, List&lt;string&gt; Arguments)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// other code ...</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//  Debug</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="keyword">if</span> (CompileEnvironment.Configuration == CppConfiguration.Debug)</span><br><span class="line">	&#123;</span><br><span class="line">	  <span class="comment">// Disable compiler optimization.</span></span><br><span class="line">	  Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Od&quot;</span>);</span><br><span class="line"></span><br><span class="line">	  <span class="comment">// Favor code size (especially useful for embedded platforms).</span></span><br><span class="line">	  Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Os&quot;</span>);</span><br><span class="line"></span><br><span class="line">	  <span class="comment">// Allow inline method expansion unless E&amp;C support is requested</span></span><br><span class="line">	  <span class="keyword">if</span> (!CompileEnvironment.bSupportEditAndContinue &amp;&amp; CompileEnvironment.bUseInlining)</span><br><span class="line">	  &#123;</span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Ob2&quot;</span>);</span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  <span class="keyword">if</span> ((CompileEnvironment.Platform == CppPlatform.Win32) ||</span><br><span class="line">	    (CompileEnvironment.Platform == CppPlatform.Win64))</span><br><span class="line">	  &#123;</span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/RTCs&quot;</span>);</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//  Development and LTCG</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">	  <span class="keyword">if</span>(!CompileEnvironment.bOptimizeCode)</span><br><span class="line">	  &#123;</span><br><span class="line">	    <span class="comment">// Disable compiler optimization.</span></span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Od&quot;</span>);</span><br><span class="line">	  &#125;</span><br><span class="line">	  <span class="keyword">else</span></span><br><span class="line">	  &#123;</span><br><span class="line">	    <span class="comment">// Maximum optimizations.</span></span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Ox&quot;</span>);</span><br><span class="line"></span><br><span class="line">	    <span class="comment">// Favor code speed.</span></span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Ot&quot;</span>);</span><br><span class="line"></span><br><span class="line">	    <span class="comment">// Coalesce duplicate strings</span></span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/GF&quot;</span>);</span><br><span class="line"></span><br><span class="line">	    <span class="comment">// Only omit frame pointers on the PC (which is implied by /Ox) if wanted.</span></span><br><span class="line">	    <span class="keyword">if</span> (CompileEnvironment.bOmitFramePointers == <span class="literal">false</span></span><br><span class="line">	    &amp;&amp; ((CompileEnvironment.Platform == CppPlatform.Win32) ||</span><br><span class="line">	      (CompileEnvironment.Platform == CppPlatform.Win64)))</span><br><span class="line">	    &#123;</span><br><span class="line">	      Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Oy-&quot;</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;</span><br><span class="line"></span><br><span class="line">	  <span class="comment">// Allow inline method expansion</span></span><br><span class="line">	  Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/Ob2&quot;</span>);</span><br><span class="line"></span><br><span class="line">	  <span class="comment">//</span></span><br><span class="line">	  <span class="comment">// LTCG</span></span><br><span class="line">	  <span class="comment">//</span></span><br><span class="line">	  <span class="keyword">if</span> (CompileEnvironment.bAllowLTCG)</span><br><span class="line">	  &#123;</span><br><span class="line">	    <span class="comment">// Enable link-time code generation.</span></span><br><span class="line">	    Arguments.<span class="built_in">Add</span>(<span class="string">&quot;/GL&quot;</span>);</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// other code...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As seen, optimization is disabled by default in the <code>Debug</code> environment. In non-<code>Debug</code> configurations, whether to enable optimization is determined by the value of <code>CompileEnvironment.bOptimizeCode</code>.<br>Debugging results:<br>When using the default (with <code>OptimizeCode = CodeOptimization.Default;</code>):<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/16643/UE-codeoptimize-default.webp"></p>
<p>When code optimization is disabled (<code>OptimizeCode = CodeOptimization.Never;</code>):<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/16643/UE-codeoptimize-never.webp"></p>
<p>It is recommended to use <code>OptimizeCode = CodeOptimization.InShippingBuildsOnly;</code>.</p>
<blockquote>
<p>Note: This option is the same as the setting for <code>Properties</code> - <code>Configuration</code> - <code>C/C++</code> - <code>Optimization</code> - <code>Optimization</code> in a regular C++ project in VS.</p>
</blockquote>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/16643/vs-disable-optimization.webp">### bEnableUndefinedIdentifierWarnings (bool)</p>
<p>Whether to enable warnings for the use of undefined identifiers in preprocessed code <code>#if</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> GOOGLE_PROTOBUF_USE_UNALIGNED</span></span><br></pre></td></tr></table></figure>

<p>If this macro is undefined, enabling <code>bEnableUndefinedIdentifierWarnings</code> will produce the <code>C4688</code> error.</p>
<p>The related code is defined in UBT’s code:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Source\Programs\UnrealBuildTool\Platform\Windows\VCToolChain.cs</span></span><br><span class="line"><span class="keyword">if</span>(WindowsPlatform.bUseVCCompilerArgs &amp;&amp; CompileEnvironment.bEnableUndefinedIdentifierWarnings)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (CompileEnvironment.bUndefinedIdentifierWarningsAsErrors)</span><br><span class="line">  &#123;</span><br><span class="line">    Arguments.Add(<span class="string">&quot;/we4668&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    Arguments.Add(<span class="string">&quot;/w44668&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="bUseRTTI-bool"><a href="#bUseRTTI-bool" class="headerlink" title="bUseRTTI (bool)"></a><strong>bUseRTTI</strong> (bool)</h4><p>UE4 disables RTTI by default, so when writing code with constructs like <code>typeid</code>, the following error will occur:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In file included from C:\UnrealProject_\Source\GWorld\Private\Modules\Flibs\FLibIniConfigHelper.cpp:<span class="number">10</span>:</span><br><span class="line">C:/UnrealProject_/Source/GWorld/Public/Modules/Flibs\FlibMateReflectionHelper.<span class="built_in">h</span>(<span class="number">29</span>,<span class="number">41</span>):  error: cannot use <span class="keyword">typeid</span> with -fno-rtti</span><br><span class="line">    FString EnumTypeName = <span class="built_in">ANSI_TO_TCHAR</span>(<span class="built_in">typeid</span>(ENUM_TYPE).<span class="built_in">name</span>());</span><br></pre></td></tr></table></figure>

<p>The only solutions are to either remove the <code>rtti</code> related code or set <code>bUseRTTI</code> to <code>true</code> in the current <code>Module</code>‘s <code>build.cs</code>.</p>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                未完待续，如有谬误请不吝指正。
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/16643/" target="_blank">UE Build System：Target and Module</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2019/09/12 13:14<br/>
             
             <span>Word Count:</span><span class="page-count">16k Words</span><br/>
             
             <span>Link:</span><a href="/posts/16643/" target="_blank" title="UE Build System：Target and Module">https://en.imzlp.com/posts/16643/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/16643/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/UBT/" rel="tag"># UBT</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/30042/" rel="prev" title="Oculus Quest Development with UE4">
      <i class="fa fa-chevron-left"></i> Oculus Quest Development with UE4
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/12143/" rel="next" title="UE tool chain configuration and development skills">
      UE tool chain configuration and development skills <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Target"><span class="nav-number">1.</span> <span class="nav-text">Target</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-TargetType"><span class="nav-number">1.1.</span> <span class="nav-text">Type(TargetType)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LinkType-TargetLinkType"><span class="nav-number">1.2.</span> <span class="nav-text">LinkType(TargetLinkType)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Name-string"><span class="nav-number">1.3.</span> <span class="nav-text">Name(string)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Platform-UnrealTargetPlatform"><span class="nav-number">1.4.</span> <span class="nav-text">Platform(UnrealTargetPlatform)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IsInPlatformGroup"><span class="nav-number">1.5.</span> <span class="nav-text">IsInPlatformGroup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuration-UnrealTargetConfiguration"><span class="nav-number">1.6.</span> <span class="nav-text">Configuration(UnrealTargetConfiguration)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Architecture-string"><span class="nav-number">1.7.</span> <span class="nav-text">Architecture(string)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CppStandard-CppStandardVersion"><span class="nav-number">1.8.</span> <span class="nav-text">CppStandard(CppStandardVersion)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bUseDebugCRT-bool"><span class="nav-number">1.9.</span> <span class="nav-text">bUseDebugCRT(bool)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProjectDefinitions-List"><span class="nav-number">1.10.</span> <span class="nav-text">ProjectDefinitions(List)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GlobalDefinitions-List"><span class="nav-number">1.11.</span> <span class="nav-text">GlobalDefinitions(List)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bShouldCompileAsDLL-bool"><span class="nav-number">1.12.</span> <span class="nav-text">bShouldCompileAsDLL(bool)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AdditionalCompilerArguments-String"><span class="nav-number">1.13.</span> <span class="nav-text">AdditionalCompilerArguments(String)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AdditionalLinkerArguments-String"><span class="nav-number">1.14.</span> <span class="nav-text">AdditionalLinkerArguments(String)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bUsesSlate-bool"><span class="nav-number">1.15.</span> <span class="nav-text">bUsesSlate(bool)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bUseInlining-bool"><span class="nav-number">1.16.</span> <span class="nav-text">bUseInlining(bool)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Module"><span class="nav-number">2.</span> <span class="nav-text">Module</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ModuleDirectory"><span class="nav-number">2.1.</span> <span class="nav-text">ModuleDirectory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EngineDirectory"><span class="nav-number">2.2.</span> <span class="nav-text">EngineDirectory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicAdditionalLibraries"><span class="nav-number">2.3.</span> <span class="nav-text">PublicAdditionalLibraries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicAdditionalShadowFiles"><span class="nav-number">2.4.</span> <span class="nav-text">PublicAdditionalShadowFiles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RuntimeDependencies"><span class="nav-number">2.5.</span> <span class="nav-text">RuntimeDependencies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicDelayLoadDLLs"><span class="nav-number">2.6.</span> <span class="nav-text">PublicDelayLoadDLLs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicDefinitions"><span class="nav-number">2.7.</span> <span class="nav-text">PublicDefinitions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicSystemIncludePaths"><span class="nav-number">2.8.</span> <span class="nav-text">PublicSystemIncludePaths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PrivateRuntimeLibraryPaths"><span class="nav-number">2.9.</span> <span class="nav-text">PrivateRuntimeLibraryPaths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicRuntimeLibraryPaths"><span class="nav-number">2.10.</span> <span class="nav-text">PublicRuntimeLibraryPaths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicLibraryPaths"><span class="nav-number">2.11.</span> <span class="nav-text">PublicLibraryPaths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DynamicallyLoadedModuleNames"><span class="nav-number">2.12.</span> <span class="nav-text">DynamicallyLoadedModuleNames</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PublicDependencyModuleNames"><span class="nav-number">2.13.</span> <span class="nav-text">PublicDependencyModuleNames</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PrivateDependencyModuleNames"><span class="nav-number">2.14.</span> <span class="nav-text">PrivateDependencyModuleNames</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bPrecompile-and-bUsePrecompiled"><span class="nav-number">2.15.</span> <span class="nav-text">bPrecompile and bUsePrecompiled</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OptimizeCode-CodeOptimization"><span class="nav-number">2.16.</span> <span class="nav-text">OptimizeCode(CodeOptimization)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#bUseRTTI-bool"><span class="nav-number">2.16.1.</span> <span class="nav-text">bUseRTTI (bool)</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/16643/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

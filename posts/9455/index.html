<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="PixelStreaming is a technology supported by UE_4.21 that enables games to run on a server, allowing players to play via a browser. The player side requires no additional operation, only needing a brow">
<meta property="og:type" content="article">
<meta property="og:title" content="PixelStreaming: Basic Concepts and Getting Started">
<meta property="og:url" content="https://en.imzlp.com/posts/9455/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="PixelStreaming is a technology supported by UE_4.21 that enables games to run on a server, allowing players to play via a browser. The player side requires no additional operation, only needing a brow">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/blog/posts/9455/pixelstreaming-cloud-simplified.webp">
<meta property="article:published_time" content="2019-07-30T17:48:27.000Z">
<meta property="article:modified_time" content="2019-07-30T17:48:27.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="Pixel Streaming">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/blog/posts/9455/pixelstreaming-cloud-simplified.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/9455/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>PixelStreaming: Basic Concepts and Getting Started | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/9455/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          PixelStreaming: Basic Concepts and Getting Started<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2019-07-30-9455.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/9455/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        
          <div class="post-subtitle" style="text-align: center;line-height: 1;">
            <sub text-align="center" style="font-size: 15px;align-content: center;font-style: italic;bottom: 0em;">PixelStreaming：基本概念与上手初探</sub>
          </div>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-30 17:48 17:48:27:48" itemprop="dateCreated datePublished" datetime="2019-07-30T17:48:27+00:00">2019-07-30 17:48</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/PixelStreaming/" itemprop="url" rel="index"><span itemprop="name">PixelStreaming</span></a>
                </span>
            </span>

          
            <span id="/posts/9455/" class="post-meta-item leancloud_visitors" data-flag-title="PixelStreaming: Basic Concepts and Getting Started" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>7.8k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>19 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
              <img src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/pixelstreaming-cloud-simplified.webp" itemprop="contentUrl" style="border-radius: 20px;">
         </div>
        <p>PixelStreaming is a technology supported by UE_4.21 that enables games to run on a server, allowing players to play via a browser. The player side requires no additional operation, only needing a browser, while all logic processing and rendering occurs in the “cloud.” It is not merely a plugin (although there is the PixelStreamingPlugin, which is just one part of the <strong>PixelStreaming</strong> implementation). Its implementation has a distinct design and organizational approach independent of UE games.<br>This article mainly introduces the basic concepts of PixelStreaming and shares practical experiences with the Demo using PixelStreaming.</p>
<span id="more"></span>

<p>Let’s take a look at UE’s own introduction:</p>
<blockquote>
<p>Run your Unreal Engine application on a server in the cloud, and stream its rendered frames and audio to browsers and mobile devices over WebRTC.</p>
</blockquote>
<p>The data transmission of PixelStreaming uses <a target="_blank" rel="noopener" href="https://webrtc.org/">WebRTC</a>, which results in lower latency for P2P connections.</p>
<blockquote>
<p>Note: The testing engine described in this article is UE_4.22.3, and currently, PixelStreaming can only run on the Windows platform (dependent on the <code>D3DX11</code> and <code>NvVideoEncoder</code> libraries).</p>
</blockquote>
<p>The code provided by UE for the PixelStreaming demo is divided into several parts:</p>
<ul>
<li><strong>PixelStreamingPlugin</strong>: Provides capturing and encoding of rendered frames and audio data, creating a link to pass audio and rendered frame data to the WebRTC server, written and used in UE’s plugin style.</li>
<li><strong>WebRTCProxy</strong>: The middleware for communication between the application/game and the WebServer, serving to pass the game-encoded rendered frame data (.h264) and audio data to the WebServer, and also passing user inputs received from the WebServer back to the application/game, allowing control of the game from the browser. This is written using UE’s Program style.</li>
<li><strong>WebServer</strong>: In the organizational design of PixelStreaming, the <strong>WebServer</strong> consists of two modules: <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/tree/4.22/Engine/Source/Programs/PixelStreaming/WebServers/SignallingWebServer">SignalingWebServer</a> and <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/tree/4.22/Engine/Source/Programs/PixelStreaming/WebServers/Matchmaker">Matchmaker</a>, both written in nodejs.</li>
<li><strong>SignallingWebServer</strong>: Starts an HTTP service, receives rendered frames and audio data from WebRTC to pass to the browser client, and receives remote user inputs (keyboard, mouse, etc.) to pass back to WebRTC.</li>
<li><strong>MatchMakerServer</strong>: If only a single game instance and a single <strong>SignallingWebServer</strong> are started, players accessing via the browser will be interacting with the same game instance, and their keyboard and mouse inputs will interfere with each other. The solution to this problem is to use the <strong>MatchMakerServer</strong>, which requires launching multiple sets of <strong>game instances</strong>/<strong>WebRTCProxy</strong> and <strong>SignallingWebServer</strong> to provide different game instances for each external user, ensuring that each browser accesses a unique client connection.</li>
</ul>
<p>The process for a user accessing a single instance is shown in the diagram below:<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/pixel-streaming-flow.webp"></p>
<p>In the future, I will analyze the code implementations of each component (I did a simple analysis last weekend on the implementation of PixelStreamingPlugin). The purpose of this article is to introduce the basic concepts and get started with a simple PixelStreaming demo.</p>
<p>The references for this article mainly include the introduction to <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/en-US/Platforms/PixelStreaming/index.html">PixelStreaming</a> from the UE documentation library, as well as my understanding of the implementation from code reading. Currently, the official documentation page is not particularly detailed, omitting some details and usable parameter commands, so it’s still best to look at the code.</p>
<h2 id="PixelStreamingDemo"><a href="#PixelStreamingDemo" class="headerlink" title="PixelStreamingDemo"></a>PixelStreamingDemo</h2><p>With the basic concepts introduced, let’s move on to the practical hands-on section.</p>
<h3 id="Launch-Game"><a href="#Launch-Game" class="headerlink" title="Launch Game"></a>Launch Game</h3><p>First, create a C++ project; I chose a Third-Person template:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/create-pixelstreaming.webp"></p>
<p>Once created, open <code>Edit</code> - <code>Plugins</code> and search to enable <code>PixelStreaming</code>:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/enable-pixel-streaming-plugin.webp"></p>
<p>Then restart the editor.</p>
<p>Unlike the packaging required as described on UE’s official website (<a target="_blank" rel="noopener" href="https://docs.unrealengine.com/en-US/Platforms/PixelStreaming/PixelStreamingIntro/index.html">Getting Started with Pixel Streaming</a>), simply launching the project in Standalone mode allows loading the <code>PixelStreamingPlugin</code>, which saves you the trouble of packaging each time.<br>To conveniently add launch parameters, you can use a tool I previously wrote: <a target="_blank" rel="noopener" href="https://github.com/hxhb/UE4Launcher">UE4 Launcher</a> and add the startup parameters <code>-game</code>/<code>-log</code>/<code>-AudioMixer</code> (the PixelStreamingPlugin requires this parameter):<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/launch-pixel-streaming-project-by-standalone.webp"></p>
<blockquote>
<p>Note: The PixelStreamingPlugin supports specifying the address and port of the WebRTCProxy to connect to at startup; you can add the following parameters to the startup parameter list.</p>
<ul>
<li><code>-PixelStreamingIP=&lt;value&gt;</code>: Specify the address of the WebRTCProxy server, defaults to <code>0.0.0.0</code>.</li>
<li><code>-PixelStreamingPort=&lt;value&gt;</code>: Specify the port of the WebRTCProxy server, defaults to <code>8124</code>.</li>
</ul>
</blockquote>
<p>Click <code>Launch Configuration</code> to start the project in Standalone mode.</p>
<p>After launching, you can see the PixelStreaming log output in the Log window:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/launch-pixel-streaming-project-by-standalone-log.webp"></p>
<h3 id="WebRTCProxy"><a href="#WebRTCProxy" class="headerlink" title="WebRTCProxy"></a>WebRTCProxy</h3><p>After the above operations, once the game has started, you can launch WebRTC by opening the engine directory:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine\Source\Programs\PixelStreaming\WebRTCProxy\bin</span><br></pre></td></tr></table></figure>

<p>You will see five files in this directory:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2019/07/29  01:21               110 Start_AWS_WebRTCProxy.bat</span><br><span class="line">2019/07/29  01:21               473 Start_AWS_WebRTCProxy.ps1</span><br><span class="line">2019/07/29  01:21                38 Start_WebRTCProxy.bat</span><br><span class="line">2019/07/29  01:21        18,032,016 WebRTCProxy.exe</span><br><span class="line">2019/07/29  01:21        15,511,552 WebRTCProxy.pdb</span><br></pre></td></tr></table></figure>

<p>All you need to do is double-click <code>Start_WebRTCProxy.bat</code> to start (which only starts <strong>WebRTCProxy.exe</strong>).</p>
<p>After launching, you can see the connection information:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/Launch-WebRTCProxy-log.webp"></p>
<p>At this point, you can see the following content in the Log window of the game project:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[2019.07.30-08.18.49:324][758]PixelStreamingNet: Accepted connection from WebRTC Proxy: 127.0.0.1:2703</span><br></pre></td></tr></table></figure>

<p>This indicates that the PixelStreamingPlugin has successfully connected to the WebRTCProxy.</p>
<p><strong>WebRTCProxy</strong> can also specify the port set by the <strong>PixelStreamingPlugin</strong> within the game, as well as the address/port of the <strong>SignallingWebServer</strong>, which can be viewed by using the <code>-help</code> parameter to see the parameters supported by WebRTCProxy (the implementation code for this part is located at <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/4.22/Engine/Source/Programs/PixelStreaming/WebRTCProxy/src/WebRTCProxy.cpp">Engine/Source/Programs/PixelStreaming/WebRTCProxy/src/WebRTCProxy.cpp</a>):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">E:\UnrealEngine\Epic\UE_4.22\Engine\Source\Programs\PixelStreaming\WebRTCProxy\bin&gt;WebRTCProxy.exe -<span class="built_in">help</span></span><br><span class="line">WebRTCProxy</span><br><span class="line">Copyright 1998-2019 Epic Games, Inc. All Rights Reserved.</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line"></span><br><span class="line">-<span class="built_in">help</span></span><br><span class="line">Shows this <span class="built_in">help</span></span><br><span class="line"></span><br><span class="line">-Cirrus=&lt;IP:Port&gt;</span><br><span class="line">The Cirrus server to connect to. If not specified, it defaults to 127.0.0.1:8888</span><br><span class="line"></span><br><span class="line">-StunServer=&lt;IP:Port&gt;</span><br><span class="line">Stun server to use.</span><br><span class="line"></span><br><span class="line">-UE4Port=&lt;Port&gt;</span><br><span class="line">The port UE4 is listening on</span><br><span class="line"></span><br><span class="line">-AutoSetBitrate</span><br><span class="line">If specified, it forcibly sends a bitrate request to UE4 once a client gets</span><br><span class="line">quality control ownership</span><br><span class="line"></span><br><span class="line">-PlanB</span><br><span class="line">If specified, it will use PlanB sdp semantics. Default is UnifiedPlan.</span><br><span class="line"></span><br><span class="line">-dbgwindow=[Proxy|WebRTC|All|None]</span><br><span class="line">If running under the debugger (e.g: Visual Studio), it specifies what logs to</span><br><span class="line">send to the Output Window.</span><br><span class="line">        Proxy - Only logs from WebRTCProxy itself will be displayed.</span><br><span class="line">        WebRTC - Only logs from WebRTC internals will be displayed.</span><br><span class="line">        All - (Default) Both WebRTCProxy and WebRTC internal logs are displayed.</span><br><span class="line">        None - No logs sent to the Output Window</span><br><span class="line"></span><br><span class="line">-LocalTime</span><br><span class="line">If specified, it will use <span class="built_in">local</span> time <span class="keyword">in</span> logging, instead of UTC.</span><br></pre></td></tr></table></figure>

<p>Among them:</p>
<ul>
<li><code>-Cirrus=&lt;IP:Port&gt;</code> is used to specify the port for communication with the <strong>SignallingWebServer</strong> (default is <code>127.0.0.1:8888</code>).</li>
<li><code>-UEPort=&lt;Port&gt;</code>: Used to specify the port associated with the UE application for this WebRTCProxy (the connection port in the PixelStreamingPlugin, default is <code>127.0.0.1:8124</code>).</li>
</ul>
<h3 id="SignallingWebServer"><a href="#SignallingWebServer" class="headerlink" title="SignallingWebServer"></a>SignallingWebServer</h3><p>Once both the game and <strong>WebRTCProxy</strong> are up and running, you need to start the actual HTTP server that is accessible from the browser.</p>
<p>First, you need to install <a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/">node</a>. After installation, add it to the system PATH and verify if it is installed successfully with the commands <code>node -v</code> and <code>npm -v</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\imzlp\Desktop&gt;node -v</span><br><span class="line">v10.16.0</span><br><span class="line">C:\Users\imzlp\Desktop&gt;npm -v</span><br><span class="line">6.9.0</span><br></pre></td></tr></table></figure>

<p>If it appears as shown, you can start the <strong>SignallingWebServer</strong>. Open the engine directory:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine\Source\Programs\PixelStreaming\WebServers\SignallingWebServer</span><br></pre></td></tr></table></figure>

<p>There will be many files, and you need to run <code>run.bat</code> or <code>runNoSetup.bat</code> (the only difference is whether to execute <code>npm install</code>). If you are opening it for the first time, run <code>run.bat</code> <strong>as administrator</strong>, and afterwards, you can directly use <code>runNoSetup.bat</code>.</p>
<p>After downloading and installing a variety of npm packages, it will start successfully:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/Launch-SignallingWebServer-runbat.webp"></p>
<p>Now if you open the <strong>WebRTCProxy</strong> window, you can see the following content:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/WebRTCProxy-connected-to-Cirrus.webp"></p>
<p>At this point, all necessary services have been successfully started.</p>
<blockquote>
<p>Note: The <strong>SignallingWebServer</strong> connects to the WebRTCProxy at <code>127.0.0.1:8888</code> by default and starts an HTTP service on port 80.</p>
<ul>
<li>Use <code>--proxyPort &lt;Port&gt;</code> to modify the listening WebRTCProxy port, or specify it in the <code>SignallingWebSerber/config.json</code> configuration.</li>
<li>Use <code>--httpPort &lt;Port&gt;</code> to modify the port of the HTTP server started.</li>
</ul>
</blockquote>
<p>Open your browser and access <a target="_blank" rel="noopener" href="http://127.0.0.1/">http://127.0.0.1</a> (using the default port 80; otherwise, you need to specify the port number <a href="http://127.0.0.1:xxxx">https://127.0.0.1:xxxx</a>), and you can see the following interface:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/webbrowser-127-0-0-1.webp"></p>
<p>Clicking with the mouse will bring you into the game screen:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/Final-Browser-view.webp"></p>
<p>Other mobile devices on the same network segment can also connect directly:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/mobile-webbrowser-view.webp"></p>
<p>I also recorded a simple video (operating on an iPad):</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/ag9wdNOge-8" frameborder="0" loading="lazy" allowfullscreen></iframe></div>

<h3 id="MatchMakerServer"><a href="#MatchMakerServer" class="headerlink" title="MatchMakerServer"></a>MatchMakerServer</h3><p>At the beginning of the article, I briefly explained the purpose of the <strong>MatchMakerServer</strong>, and below is a simple explanation of how to implement it.</p>
<p>First, let’s look at UE’s responsibility diagram for the <strong>MatchMakerServer</strong>:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/Matchmaker-cloud-multi-server.webp"></p>
<p>The usage is: when starting a single <strong>SignallingWebServer</strong>, specify the parameter to enable <code>Matchmaker</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runNoSetup.bat --UseMatchmaker --matchmakeAddress 127.0.0.1 --matchmakerPort 9999</span><br></pre></td></tr></table></figure>
<p>Then start the <strong>MatchmakerServer</strong>, located at:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine\Source\Programs\PixelStreaming\WebServers\Matchmaker</span><br></pre></td></tr></table></figure>

<p>Directly start <code>run.bat</code> with the default <code>httpPort</code> set to 90 and <code>matchmakerPort</code> set to 9999, which corresponds to the <code>--matchmakerPort 9999</code> specified when running the <strong>SignallingWebServer</strong>. You can also replace these parameters as needed.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run.bat --httpPort 88 --matchmakerPort 9988</span><br></pre></td></tr></table></figure>

<p>The following usage is with the default <code>httpPort</code>/<code>matchmakePort</code> ports.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/matchmaker-and-signllingServer.webp"></p>
<p>Then access <a target="_blank" rel="noopener" href="http://127.0.0.1:90/">http:127.0.0.1:90</a> to see the same interface as the separately started <strong>SignallingWebServer</strong>, but no other clients are allowed to join the current session, displaying the warning <code>WARNING: No empty Cirrus servers are available</code>.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9455/matchmaker-warrning-no-empty-signallingwebserver.webp"></p>
<p>Unless multiple <strong>games</strong>/<strong>WebRTCProxy</strong>/<strong>SignallingWebServer</strong> instances are being run simultaneously, allowing each player to occupy a set without interference, which is also the purpose of the <strong>MatchmakerServer</strong>.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The Pixel Streaming concept of cloud gaming is promising, but current hardware environments and bandwidth limitations remain significant issues. During my testing experience, connections in a local network were relatively smooth, reaching full frames at a set maximum of 60fps, though occasional frame drops did occur.</p>
<p>Google has also launched the cloud gaming platform <a target="_blank" rel="noopener" href="https://stadia.dev/">Stadia</a>, but it is still far from being fully realized. However, it can be applied in certain industry applications (such as Chevrolet’s car showcase <a target="_blank" rel="noopener" href="https://visualizer-west.chevrolet.com/ui?carline=corvette&modelyear=2020&brand=chevrolet&language=en&country=US&channel=b2c&fbclid=IwAR2bCJCcZe7GjggAemV6ht4RhqoPZF3cLlf643KTJd_7W_FlzXl1kVCVSL0">2020 CORVETTE STINGRAY</a>).</p>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/9455/" target="_blank">PixelStreaming: Basic Concepts and Getting Started</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2019/07/30 17:48<br/>
             
             <span>Word Count:</span><span class="page-count">7.8k Words</span><br/>
             
             <span>Link:</span><a href="/posts/9455/" target="_blank" title="PixelStreaming: Basic Concepts and Getting Started">https://en.imzlp.com/posts/9455/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/9455/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/Pixel-Streaming/" rel="tag"># Pixel Streaming</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/9050/" rel="prev" title="Analyzing the content distribution restrictions of EULA in UBT">
      <i class="fa fa-chevron-left"></i> Analyzing the content distribution restrictions of EULA in UBT
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/31203/" rel="next" title="UE Modules:Find the DLL and load it">
      UE Modules:Find the DLL and load it <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#PixelStreamingDemo"><span class="nav-number">1.</span> <span class="nav-text">PixelStreamingDemo</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Launch-Game"><span class="nav-number">1.1.</span> <span class="nav-text">Launch Game</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WebRTCProxy"><span class="nav-number">1.2.</span> <span class="nav-text">WebRTCProxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SignallingWebServer"><span class="nav-number">1.3.</span> <span class="nav-text">SignallingWebServer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MatchMakerServer"><span class="nav-number">1.4.</span> <span class="nav-text">MatchMakerServer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">2.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/9455/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="In the context of the large-scale project and the remote working demand caused by the pandemic, collaborative editing under development has become particularly important. In UE’s resource mechanism, m">
<meta property="og:type" content="article">
<meta property="og:title" content="UE Multi-User Collaborative Editing Service Deployment Guide">
<meta property="og:url" content="https://en.imzlp.com/posts/25226/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="In the context of the large-scale project and the remote working demand caused by the pandemic, collaborative editing under development has become particularly important. In UE’s resource mechanism, m">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2022/202302051839284.webp">
<meta property="article:published_time" content="2021-08-05T16:15:28.000Z">
<meta property="article:modified_time" content="2021-08-05T16:15:28.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="UnrealMultiUserServer">
<meta property="article:tag" content="多用户协同">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/picgo/2022/202302051839284.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/25226/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>UE Multi-User Collaborative Editing Service Deployment Guide | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/25226/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          UE Multi-User Collaborative Editing Service Deployment Guide<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2021-08-05-25226.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/25226/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        
          <div class="post-subtitle" style="text-align: center;line-height: 1;">
            <sub text-align="center" style="font-size: 15px;align-content: center;font-style: italic;bottom: 0em;">UE多用户协同编辑服务部署指南</sub>
          </div>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-05 16:15 16:15:28:15" itemprop="dateCreated datePublished" datetime="2021-08-05T16:15:28+00:00">2021-08-05 16:15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/%E5%B7%A5%E5%85%B7%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">工具开发</span></a>
                </span>
            </span>

          
            <span id="/posts/25226/" class="post-meta-item leancloud_visitors" data-flag-title="UE Multi-User Collaborative Editing Service Deployment Guide" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>8.9k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>22 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>In the context of the large-scale project and the remote working demand caused by the pandemic, collaborative editing under development has become particularly important. In UE’s resource mechanism, maps are single resources; although they can be split using the Sub-level format, the smallest element remains a single resource. When different designers modify the same resource, it can lead to file conflicts, and merging is not as straightforward as with text. Furthermore, when each person is responsible for editing a single sub-level, there is no way to preview the entire scene’s effect in real-time, which is a bottleneck in collaborative development.</p>
<p>After UE4.23, UE officially launched a multi-user collaboration mechanism that allows multiple people to edit the same map simultaneously without causing conflicts. It can also synchronize other changing resources and take effect in real time. As a supplement to version control, it effectively resolves issues of synchronized collaboration.</p>
<p>This article records the enabling process, usage specifications, network strategies, and other issues. It will also extract an independent server-side program without relying on the complete engine, allowing for convenient deployment of the server side.</p>
<span id="more"></span>
<p>UE’s official multi-user editing is implemented as a C/S architecture solution. Official documentation: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.26/en-US/ProductionPipelines/MultiUserEditing/">Multi-User Editing</a>。</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210729202731.webp"></p>
<p>Essentially, it creates a server process to manage the multi-user editing sessions and transmit changing data between multiple clients. Each session represents one “room” for collaborative editing, and only those who join this “room” can preview and synchronize other people’s submissions in real time. Multiple sessions can be created on each server, which can be created and joined by different users.</p>
<p><strong>Note</strong>: UE does not directly copy the changing resources to each client but achieves the same performance by transmitting the changing data to each client. This approach is more efficient in terms of data transmission, but there is a problem: for resources with the same operations, the uasset may not be completely identical. For instance, if user A modifies Weapon.uasset, the changing data will be synchronized to user B. If both A and B submit the Weapon resource, their binaries will not be exactly the same, leading to conflicts during the merge process. Submission specifications still need to be noted.</p>
<h2 id="Usage-Process"><a href="#Usage-Process" class="headerlink" title="Usage Process"></a>Usage Process</h2><p>Multi-user editing support relies on UE’s <code>Multi-User Editing</code> plugin:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729203335300.webp"></p>
<p>After enabling, you can see the <code>Multi-User Editing</code> and <code>Multi-User Transactions</code> options in <code>Project Settings</code>-<code>Plugins</code>:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729203605963.webp" alt="Multi-User Editing"></p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729203703864.webp" alt="Multi-User Transactions"></p>
<p>You can configure parameters for multi-user collaboration.</p>
<p>Once the plugin is enabled, you can see the <code>Multi-User Browser</code> option in the editor under <code>Windows</code>-<code>Developer Tools</code> (you can also enable <code>Enable Multi-User Toolbar Button</code> in <code>Project Settings</code>-<code>Plugins</code>-<code>Multi-User Editing</code>):</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729204709785.webp"></p>
<p>After startup, it will automatically search for visible <code>UnrealMultiUserServer</code> servers in the network:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729204942481.webp" alt="Multi-User Browser"></p>
<p>You can also launch an <code>UnrealMultiUserServer</code> process locally by using <code>Launch a Server</code>. Typically, there will be an independent machine serving as the server for other users to connect.</p>
<p><code>Multi-User Browser</code> connects to the server as a client using the UDP protocol, with a default connection port number of <code>6666</code> (the default for <code>Launch a Server</code> is also 6666). You can modify it to specify another port number, and the client will automatically detect the list of reachable servers in the network to choose from when creating a session.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210729205737922.webp" alt="Launch a Server"></p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210730101133.webp"></p>
<p><strong>Note</strong>: <code>Multi-User Browser</code> relies on the <code>UDP Messaging</code> plugin for network transmission, so if we want to change the default connection port number, we need to modify the default port number in <code>UDP Messaging</code>.</p>
<p>You can modify it in <code>Project Settings</code>-<code>Plugins</code>-<code>Networking</code> (change <code>230.0.0.1:6666</code> to <code>230.0.0.1:XXXXX</code>):</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210729192239.webp"></p>
<p><strong>Note</strong>: 230.0.0.1 is a multicast address defined by RFC 5771 (IPV4) and RFC 4291 (IPV6) and cannot be changed to any other address.</p>
<p>Modifying the <code>UDP Messaging</code> port settings in the editor is preserved in <code>Saved/Config/Windows/Engine.ini</code>:</p>
<figure class="highlight ini"><figcaption><span>Saved/Config/Windows/Engine.ini</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[/Script/UdpMessaging.UdpMessagingSettings]</span></span><br><span class="line"><span class="attr">EnableTransport</span>=<span class="literal">True</span></span><br><span class="line"><span class="attr">bAutoRepair</span>=<span class="literal">True</span></span><br><span class="line"><span class="attr">bStopServiceWhenAppDeactivates</span>=<span class="literal">True</span></span><br><span class="line"><span class="attr">UnicastEndpoint</span>=<span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">0</span></span><br><span class="line"><span class="attr">MulticastEndpoint</span>=<span class="number">230.0</span>.<span class="number">0.1</span>:<span class="number">11111</span></span><br><span class="line"><span class="attr">MessageFormat</span>=CborPlatformEndianness</span><br><span class="line"><span class="attr">MulticastTimeToLive</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">EnableTunnel</span>=<span class="literal">False</span></span><br><span class="line"><span class="attr">TunnelUnicastEndpoint</span>=</span><br><span class="line"><span class="attr">TunnelMulticastEndpoint</span>=</span><br><span class="line"></span><br><span class="line"><span class="section">[/Script/Concert.ConcertClientConfig]</span></span><br><span class="line"><span class="attr">bInstallEditorToolbarButton</span>=<span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>This will not be stored in the project’s <code>Config</code>. If you want this configuration to be included with the project submission, you can add the above configuration to <code>Config/DefaultEngine.ini</code> (the same applies to <code>Enable Multi-user Toolbar Button</code>).</p>
<p>After modification, start UnrealMultiUserServer to use the changed port:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210729192422.webp"></p>
<h2 id="Network-Strategy"><a href="#Network-Strategy" class="headerlink" title="Network Strategy"></a>Network Strategy</h2><p>Multi-User Editing primarily targets users on the same LAN or VPN network. However, there are some distinctions concerning different types of networks within the same LAN.</p>
<h3 id="Same-Subnet-of-LAN"><a href="#Same-Subnet-of-LAN" class="headerlink" title="Same Subnet of LAN"></a>Same Subnet of LAN</h3><p>If the server and clients are all on the same subnet, for instance, the server is at 192.168.2.123 and clients at 192.168.2.X, in this case, you only need to set the <code>UnicastEndpoint</code> to <code>0.0.0.0:0</code> or <code>192.168.2.X:0</code>, while keeping the <code>MulticastEndpoint</code> as 230.0.0.1:11111. This setup allows clients to successfully locate the server, as previously described.</p>
<h3 id="Different-Subnets-of-LAN"><a href="#Different-Subnets-of-LAN" class="headerlink" title="Different Subnets of LAN"></a>Different Subnets of LAN</h3><p>In situations where the server and some clients are on the same subnet, but others are not, it becomes more complex. For example:<br>Server: 192.168.2.123<br>Client A: 192.168.2.124<br>Client B: 192.168.3.125</p>
<p>In this case, if you use the previous configuration intended for the same subnet, it will prevent Client B from finding the server. Thus, you need to set <code>UnicastEndpoint</code> separately.</p>
<p>First, the server cannot set <code>UnicastEndpoint</code> to <code>0.0.0.0:0</code> upon startup; instead, it needs to specify the current Server’s IP and link port, such as:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine/Binaries/Win64/UnrealMultiUserServer.exe -UDPMESSAGING_TRANSPORT_UNICAST=192.168.2.123:11112 -UDPMESSAGING_TRANSPORT_MULTICAST=230.0.0.1:11111</span><br></pre></td></tr></table></figure>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210805160920.webp"></p>
<p>Clients then need to set the server’s <code>Static EndPoints</code> in the UE editor under <code>Project Settings</code>-<code>Plugins</code>-<code>UDP Messaging</code>:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210805161239.webp"></p>
<p>The value for <code>Static EndPoints</code> should take the form <code>ServerIP:UNICAST_PORT</code>, such as the server’s startup configuration of <code>192.168.2.123:11112</code>. </p>
<p>By employing this configuration, different subnets under the same LAN can successfully locate the started server (though keep in mind to add the UNICAST/MULTICAST ports in the firewall allowance).</p>
<h2 id="Firewall-Strategy"><a href="#Firewall-Strategy" class="headerlink" title="Firewall Strategy"></a>Firewall Strategy</h2><p>Be aware that since Multi-User Editing utilizes the UDP protocol, the specified ports must be allowed through the firewall to detect the server.</p>
<p>Windows users can employ the following batch file to add firewall rules, saving it as <code>.bat</code> and executing it with administrative privileges:</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">netsh advfirewall firewall add rule name=&quot;allowMultiUserServer&quot; protocol=TCP <span class="built_in">dir</span>=out localport=<span class="number">11111</span>,<span class="number">11112</span> action=allow</span><br><span class="line">netsh advfirewall firewall add rule name=&quot;allowMultiUserServer&quot; protocol=TCP <span class="built_in">dir</span>=<span class="keyword">in</span> localport=<span class="number">11111</span>,<span class="number">11112</span> action=allow</span><br><span class="line">netsh advfirewall firewall add rule name=&quot;allowMultiUserServer&quot; protocol=UDP <span class="built_in">dir</span>=out localport=<span class="number">11111</span>,<span class="number">11112</span> action=allow</span><br><span class="line">netsh advfirewall firewall add rule name=&quot;allowMultiUserServer&quot; protocol=UDP <span class="built_in">dir</span>=<span class="keyword">in</span> localport=<span class="number">11111</span>,<span class="number">11112</span> action=allow</span><br></pre></td></tr></table></figure>

<p>Mac and Linux users can utilize ufw for firewall configuration:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ufw allow 11111/udp</span><br><span class="line">$ ufw allow 11111/tcp</span><br></pre></td></tr></table></figure>

<h2 id="Independent-Server-Process"><a href="#Independent-Server-Process" class="headerlink" title="Independent Server Process"></a>Independent Server Process</h2><p>The previous section discussed starting a server via the <code>Multi-User Browser</code> in the UE editor. However, the server does not necessarily require the editor to be launched. UE can also start the server by launching a new process with command line parameters, allowing for manual command line initiation of the <code>Multi-User Server</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine/Binaries/Win64/UnrealMultiUserServer.exe -UDPMESSAGING_TRANSPORT_UNICAST=0.0.0.0:0 -UDPMESSAGING_TRANSPORT_MULTICAST=230.0.0.1:11111</span><br></pre></td></tr></table></figure>
<p>The server’s configuration can be specified through command line parameters or configuration files. The configuration file for the standalone server process can be found at:</p>
<figure class="highlight ini"><figcaption><span>Engine/Programs/UnrealMultiUserServer/Saved/Config/WindowsNoEditor/Engine.ini</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[/Script/UdpMessaging.UdpMessagingSettings]</span></span><br><span class="line"><span class="attr">EnableTransport</span>=<span class="literal">True</span></span><br><span class="line"><span class="attr">UnicastEndpoint</span>=<span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">0</span></span><br><span class="line"><span class="attr">MulticastEndpoint</span>=<span class="number">230.0</span>.<span class="number">0.1</span>:<span class="number">11111</span></span><br><span class="line"><span class="attr">MulticastTimeToLive</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">EnableTunnel</span>=<span class="literal">False</span></span><br><span class="line"><span class="attr">TunnelUnicastEndpoint</span>=</span><br><span class="line">TunnelMulticastEndpoint=</span><br></pre></td></tr></table></figure>
<p>This is equivalent to specifying through the command line.</p>
<h2 id="Independent-Server-Program"><a href="#Independent-Server-Program" class="headerlink" title="Independent Server Program"></a>Independent Server Program</h2><p>Since UE’s Multi-User Server launches a separate <code>UnrealMultiUserServer</code> process, we need to clone and download the entire engine to run the <code>Multi-User Server</code> program. This can be wasteful for our requirements, as we only need the independent server program with no need for complete engine functionality. Thus, we can find a way to extract it.</p>
<p><code>UnrealMultiUserServer</code> is a <code>Programs</code> type program in the engine. I previously wrote articles about related content: <a target="_blank" rel="noopener" href="https://imzlp.com/posts/31962/">Create A Standalone Application in UE4</a>. It essentially uses UE’s codebase and plugins as an independent program, akin to UE4Editor, but by default, its <code>LinkType</code> is <code>Modular</code>, meaning that all modules referenced in the code are contained in separate DLLs. This aligns with UE editor’s design model.</p>
<p>Thus, by default, the <code>UnrealMultiUserServer</code> program is only a few dozen KB. The actual functionality is implemented via dynamically linked libraries; we need to modify the compilation mode to compile all the engine modules it requires into a single executable by changing <code>UnrealMultiUserServer.target.cs</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// from</span></span><br><span class="line">LinkType = TargetLinkType.Modular;</span><br><span class="line"><span class="comment">// to</span></span><br><span class="line">LinkType = TargetLinkType.Monolithic;</span><br></pre></td></tr></table></figure>

<p>After changing to <code>Monolithic</code> and executing the compilation, UBT will link all the Program’s referenced modules into a single executable program. This part is discussed in more detail in another article of mine: <a target="_blank" rel="noopener" href="https://imzlp.com/posts/16643/">UE Build System：Target and Module</a>.</p>
<p>This operation <strong>can only</strong> resolve references to <strong>internal engine modules</strong>. The <code>UnrealMultiUserServer</code> program still references other plugins, so <code>Program</code> plugin support must be enabled in <code>target.cs</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bCompileWithPluginSupport = <span class="literal">true</span>;</span><br><span class="line">bBuildDeveloperTools = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>To see which specific plugins it depends on, you can view the <code>RuntimeDependencies</code> section within <code>UnrealMultiUserServer.target</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;RuntimeDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(EngineDir)/Plugins/Messaging/UdpMessaging/UdpMessaging.uplugin&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UFS&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(EngineDir)/Plugins/Developer/Concert/ConcertSync/ConcertSyncServer/ConcertSyncServer.uplugin&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UFS&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(EngineDir)/Plugins/Developer/Concert/ConcertMain/ConcertMain.uplugin&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UFS&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(EngineDir)/Plugins/Developer/Concert/ConcertSync/ConcertSyncCore/ConcertSyncCore.uplugin&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UFS&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">&#123;</span></span><br><span class="line">		<span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(EngineDir)/Plugins/Runtime/Database/SQLiteCore/SQLiteCore.uplugin&quot;</span><span class="punctuation">,</span></span><br><span class="line">		<span class="attr">&quot;Type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UFS&quot;</span></span><br><span class="line">	<span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>This indicates that the <code>UnrealMultiUserServer</code> references these several plugins, and we need to place the directories of these plugins from the engine into the corresponding folder of the standalone program while maintaining the relative paths as in the engine.</p>
<p>Still, this isn’t sufficient; we need to add the plugins to the enable list to ensure the program loads them at startup, avoiding module loading errors:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">LogPaths: Warning: No paths for game localization data were specifed in the game configuration.</span><br><span class="line">LogInit: Warning: No paths for engine localization data were specifed in the engine configuration.</span><br><span class="line">LogInit: WinSock: version 1.1 (2.2), MaxSocks=32767, MaxUdp=65467</span><br><span class="line">LogUdpMessaging: Initializing bridge on interface 0.0.0.0:0 to multicast group 230.0.0.1:6666.</span><br><span class="line">LogSyncServer: Error: ConcertSyncServer Module is needed for proper execution. Initialization failed!</span><br><span class="line">LogSyncServer: Error: ConcertSyncServer Module is needed for proper execution. Initialization failed!</span><br><span class="line">LogSyncServer: Display: Multi-User Editing Server Shutdown</span><br><span class="line">LogSyncServer: Display: Multi-User Editing Server Shutdown</span><br><span class="line">LogExit: Preparing to exit.</span><br><span class="line">LogExit: Object subsystem successfully closed.</span><br></pre></td></tr></table></figure>

<p>The solution is to add the <code>EnablePlugins</code> list in <code>target.cs</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EnablePlugins.AddRange(<span class="keyword">new</span> <span class="built_in">string</span>[]</span><br><span class="line">&#123;</span><br><span class="line">	<span class="string">&quot;UdpMessaging&quot;</span>,</span><br><span class="line">	<span class="string">&quot;ConcertSyncServer&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>With this adjustment, the standalone program we extracted will load the two required plugins at startup. Lastly, we also need to extract the original <code>Internationalization</code> and <code>Localization</code> folders from <code>Engine/Content</code>.</p>
<p>We don’t require code or debug symbols; hence we can remove excess files:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find . -name <span class="string">&quot;Source&quot;</span>|xargs <span class="built_in">rm</span> -rf</span><br><span class="line">find . -name <span class="string">&quot;Intermediate&quot;</span>|xargs <span class="built_in">rm</span> -rf</span><br><span class="line">find . -name <span class="string">&quot;*.pdb&quot;</span>|xargs <span class="built_in">rm</span> -rf</span><br><span class="line">find . -name <span class="string">&quot;*.modules&quot;</span>|xargs <span class="built_in">rm</span> -rf</span><br></pre></td></tr></table></figure>

<p>The final directory structure of the standalone <code>UnrealMultiUserServer</code> program would be:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">+---Binaries</span><br><span class="line">|   \---Win64</span><br><span class="line">|           UnrealMultiUserServer.exe</span><br><span class="line">+---Content</span><br><span class="line">|   +---Internationalization</span><br><span class="line">|   +---Localization</span><br><span class="line">|           </span><br><span class="line">\---Plugins</span><br><span class="line">    +---ConcertMain</span><br><span class="line">    |   |   ConcertMain.uplugin</span><br><span class="line">    |   |   </span><br><span class="line">    |   \---Binaries</span><br><span class="line">    |       \---Win64</span><br><span class="line">    |               UE4Editor-Concert.dll</span><br><span class="line">    |               UE4Editor-ConcertTransport.dll</span><br><span class="line">    |               UnrealMultiUserServer-Concert.dll</span><br><span class="line">    |               UnrealMultiUserServer-ConcertTransport.dll</span><br><span class="line">    |               </span><br><span class="line">    +---ConcertSyncCore</span><br><span class="line">    |   |   ConcertSyncCore.uplugin</span><br><span class="line">    |   |   </span><br><span class="line">    |   +---Binaries</span><br><span class="line">    |   |   \---Win64</span><br><span class="line">    |   |           UE4Editor-ConcertSyncCore.dll</span><br><span class="line">    |   |           UnrealMultiUserServer-ConcertSyncCore.dll</span><br><span class="line">    |   |           </span><br><span class="line">    |   \---Config</span><br><span class="line">    |           BaseConcertSyncCore.ini</span><br><span class="line">    |           </span><br><span class="line">    +---ConcertSyncServer</span><br><span class="line">    |   |   ConcertSyncServer.uplugin</span><br><span class="line">    |   |   </span><br><span class="line">    |   \---Binaries</span><br><span class="line">    |       \---Win64</span><br><span class="line">    |               UE4Editor-ConcertSyncServer.dll</span><br><span class="line">    |               UnrealMultiUserServer-ConcertSyncServer.dll</span><br><span class="line">    |               </span><br><span class="line">    +---SQLiteCore</span><br><span class="line">    |   |   SQLiteCore.uplugin</span><br><span class="line">    |   |   </span><br><span class="line">    |   \---Binaries</span><br><span class="line">    |       \---Win64</span><br><span class="line">    |               UE4Editor-SQLiteCore.dll</span><br><span class="line">    |               UnrealMultiUserServer-SQLiteCore.dll</span><br><span class="line">    |               </span><br><span class="line">    \---UdpMessaging</span><br><span class="line">        |   UdpMessaging.uplugin</span><br><span class="line">        |   </span><br><span class="line">        +---Binaries</span><br><span class="line">        |   \---Win64</span><br><span class="line">        |           UE4Editor-UdpMessaging.dll</span><br><span class="line">        |           UnrealFrontend-UdpMessaging.dll</span><br><span class="line">        |           UnrealLightmass-UdpMessaging.dll</span><br><span class="line">        |           UnrealMultiUserServer-UdpMessaging.dll</span><br><span class="line">        |           </span><br><span class="line">        \---Resources</span><br><span class="line">                Icon128.webp</span><br></pre></td></tr></table></figure>

<p>Execution effects:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\lipengzha\Desktop\UnrealMultiUserServer\Engine\Binaries\Win64&gt;UnrealMultiUserServer.exe</span><br><span class="line">LogPaths: Warning: No paths for game localization data were specifed in the game configuration.</span><br><span class="line">LogInit: Warning: No paths for engine localization data were specifed in the engine configuration.</span><br><span class="line">LogInit: WinSock: version 1.1 (2.2), MaxSocks=32767, MaxUdp=65467</span><br><span class="line">LogUdpMessaging: Initializing bridge on interface 0.0.0.0:0 to multicast group 230.0.0.1:6666.</span><br><span class="line">LogTemp: IConcertSyncServerModule::Get().ParseServerSettings</span><br><span class="line">LogSyncServer: Display: Multi-User Editing Server Initialized (Name: lipengzha-PC0, Version: 4.25, Role: MultiUser)</span><br><span class="line">LogSyncServer: Display: Multi-User Editing Server Initialized (Name: lipengzha-PC0, Version: 4.25, Role: MultiUser)</span><br></pre></td></tr></table></figure>

<h2 id="Session-Configuration-Storage"><a href="#Session-Configuration-Storage" class="headerlink" title="Session Configuration Storage"></a>Session Configuration Storage</h2><p>When the <code>Multi-User Server</code> is started, all sessions created by users will be stored on the server side by default in the following path:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\lipengzha\Desktop\UnrealMultiUserServer\Engine\Programs&gt;tree /a /f</span><br><span class="line">\---UnrealMultiUserServer</span><br><span class="line">    +---Intermediate</span><br><span class="line">    |   \---MultiUser</span><br><span class="line">    |       \---35E93D4D493990231B6D30B582298091</span><br><span class="line">    |               Session.db</span><br><span class="line">    |               Session.db-wal</span><br><span class="line">    |               SessionInfo.json</span><br><span class="line">    |</span><br><span class="line">    \---Saved</span><br><span class="line">        +---Logs</span><br><span class="line">        |       UnrealMultiUserServer.log</span><br><span class="line">        |</span><br><span class="line">        \---MultiUser</span><br><span class="line">                Repositories.json</span><br></pre></td></tr></table></figure>

<p>The next time the server is started, these sessions will automatically be created, avoiding the need to recreate them.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This article recorded the startup and configuration process of multi-user editing in UE, and extracted an independent Multi-User Server program without requiring the complete engine content, thereby facilitating the deployment of multi-user editing services. Future work will include a detailed analysis of the internal implementation mechanisms and synchronization strategies.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.26/en-US/ProductionPipelines/MultiUserEditing/">Multi-User Editing</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.26/en-US/ProductionPipelines/MultiUserEditing/Overview/">Multi-User Editing Overview</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=MPIpOdNmNGE&ab_channel=UnrealEngine">Explore Collaboration with Unreal Engine’s Multi-User Editor | Webinar</a></li>
<li><a target="_blank" rel="noopener" href="https://imzlp.com/posts/16643/">UE Build System：Target and Module</a></li>
<li><a target="_blank" rel="noopener" href="https://imzlp.com/posts/31962/">Create A Standalone Application in UE4</a></li>
</ul>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/25226/" target="_blank">UE Multi-User Collaborative Editing Service Deployment Guide</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2021/08/05 16:15<br/>
             
             <span>Word Count:</span><span class="page-count">8.9k Words</span><br/>
             
             <span>Link:</span><a href="/posts/25226/" target="_blank" title="UE Multi-User Collaborative Editing Service Deployment Guide">https://en.imzlp.com/posts/25226/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/25226/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/UnrealMultiUserServer/" rel="tag"># UnrealMultiUserServer</a>
              <a href="/tags/%E5%A4%9A%E7%94%A8%E6%88%B7%E5%8D%8F%E5%90%8C/" rel="tag"># 多用户协同</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/14154/" rel="prev" title="Profiling IOS With Unreal Insights">
      <i class="fa fa-chevron-left"></i> Profiling IOS With Unreal Insights
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/30732/" rel="next" title="Comparison of Zlib/Oodle/ZSTD algorithm performance">
      Comparison of Zlib/Oodle/ZSTD algorithm performance <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Usage-Process"><span class="nav-number">1.</span> <span class="nav-text">Usage Process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Network-Strategy"><span class="nav-number">2.</span> <span class="nav-text">Network Strategy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Same-Subnet-of-LAN"><span class="nav-number">2.1.</span> <span class="nav-text">Same Subnet of LAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Different-Subnets-of-LAN"><span class="nav-number">2.2.</span> <span class="nav-text">Different Subnets of LAN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Firewall-Strategy"><span class="nav-number">3.</span> <span class="nav-text">Firewall Strategy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Independent-Server-Process"><span class="nav-number">4.</span> <span class="nav-text">Independent Server Process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Independent-Server-Program"><span class="nav-number">5.</span> <span class="nav-text">Independent Server Program</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session-Configuration-Storage"><span class="nav-number">6.</span> <span class="nav-text">Session Configuration Storage</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">7.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">8.</span> <span class="nav-text">References</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/25226/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

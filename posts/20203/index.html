<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="The latest version supports UE5, see the UE5.0 branch on github: ue4-export-nav-data&#x2F;tree&#x2F;UE5.0.  Recast Navigation is an open-source game navigation&#x2F;pathfinding engine that provides pathfinding calc">
<meta property="og:type" content="article">
<meta property="og:title" content="Export Recast Navigation Data from UE4">
<meta property="og:url" content="https://en.imzlp.com/posts/20203/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="The latest version supports UE5, see the UE5.0 branch on github: ue4-export-nav-data&#x2F;tree&#x2F;UE5.0.  Recast Navigation is an open-source game navigation&#x2F;pathfinding engine that provides pathfinding calc">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/blog/posts/20203/diff-ue-nav-and-recastdemo-nav.webp">
<meta property="article:published_time" content="2019-11-01T09:18:13.000Z">
<meta property="article:modified_time" content="2019-11-01T09:18:13.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="Recast">
<meta property="article:tag" content="Navigation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/blog/posts/20203/diff-ue-nav-and-recastdemo-nav.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/20203/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Export Recast Navigation Data from UE4 | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/20203/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Export Recast Navigation Data from UE4<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2019-11-01-20203.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/20203/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-11-01 09:18 09:18:13:18" itemprop="dateCreated datePublished" datetime="2019-11-01T09:18:13+00:00">2019-11-01 09:18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
            </span>

          
            <span id="/posts/20203/" class="post-meta-item leancloud_visitors" data-flag-title="Export Recast Navigation Data from UE4" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>18 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
              <img src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/diff-ue-nav-and-recastdemo-nav.webp" itemprop="contentUrl" style="border-radius: 20px;">
         </div>
        <blockquote>
<p>The latest version supports UE5, see the UE5.0 branch on github: <a target="_blank" rel="noopener" href="https://github.com/hxhb/ue4-export-nav-data/tree/UE5.0">ue4-export-nav-data/tree/UE5.0</a>.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">Recast Navigation</a> is an open-source game navigation/pathfinding engine that provides pathfinding calculations for AI in games. Both UE and Unity integrate RecastNavigation to provide navigation and pathfinding calculations for games (of course, in modified versions). The UE modules <code>NavigationSystem</code> and <code>NavMesh</code> contain relevant code implementations. Recently, there was a requirement to export the client’s map information to a server with a non-UE network architecture, for verifying player locations on the server. It occurred to me that the navigation data generated by the client could be exported as a <strong>map</strong> of the client world, so I tinkered and wrote a UE plugin (open-sourced on Github: <strong><a target="_blank" rel="noopener" href="https://github.com/hxhb/ue4-export-nav-data">ue4-export-nav-data</a></strong>) that implements <strong>directly</strong> exporting the navigation data generated by UE. If interested, you can directly view the specific code. Based on the exported navigation data, pathfinding calculations based on <a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">Recast Navigation</a> can be fully implemented on the server with a non-UE network architecture, seamlessly integrated with UE.</p>
<blockquote>
<p><strong>2019.12.04 Update:</strong> This plugin has been listed on the Unreal Marketplace, purchase link <a target="_blank" rel="noopener" href="https://unrealengine.com/marketplace/en-US/slug/exportnavigation">ExportNavigation</a>. In support of programmer sentiment for open-source, this project’s repository on Github will not be closed, but it is unlikely to be updated. If this plugin is useful to you, feel free to purchase it on the marketplace to support the author.</p>
</blockquote>
<span id="more"></span>

<h2 id="Recast-Navigation"><a href="#Recast-Navigation" class="headerlink" title="Recast Navigation"></a>Recast Navigation</h2><p>First, let’s briefly introduce compiling the GitHub open-source version of Recast. The version of Recast used in the UE engine is based on this open-source version. Until <code>UE_4.22.3</code>, the version of Recast used by UE is <code>v1.4</code> (you can check the version information of Recast used by different engine versions from <code>Source/Runtime/Navmesh/Recast-Readme.txt</code>). The source code address of RecastNavigation on GitHub is: <a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">recastnavigation</a>. The code in <a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">recastnavigation</a> provides navigation mesh generation and pathfinding calculation tools <code>RecastDemo</code>, which can serve as an example of integrating RecastNavigation into a project.</p>
<p>The <code>README.md</code> mentions the compilation process for various platforms. I will detail the compilation process under Windows here.</p>
<ol>
<li>First, download <a target="_blank" rel="noopener" href="https://premake.github.io/download.html">premake5</a> and add it to the system PATH.</li>
<li>Clone the RecastNavigation code.</li>
<li>Download <a target="_blank" rel="noopener" href="https://www.libsdl.org/download-2.0.php">SDL2</a> (choose Development Libraries) and unzip it to the <code>recastnavigation\RecastDemo\Contrib</code> directory, renaming the folder to <code>SDL</code>, resulting in the following directory structure:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:\recastnavigation\RecastDemo\Contrib\SDL&gt;tree /a</span><br><span class="line">+---docs</span><br><span class="line">+---include</span><br><span class="line">\---lib</span><br><span class="line">    +---x64</span><br><span class="line">    \---x86</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><p>In the <code>recastnavigation\RecastDemo</code> directory, run the command <code>premake5 vs2017</code> (vs201x depends on the version you have installed), which will create a <code>build/vs2017</code> directory in the <code>RecastDemo</code> directory containing the VS project solution.<br> <img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/recast-premake-generate-vs-solution.webp"></p>
</li>
<li><p>Open <code>RecastDemo\Build\vs2017\recastnavigation.sln</code> and compile it.<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/build-recastnavigation.webp"></p>
</li>
<li><p>The compiled <code>RecastDemo.exe</code> will be located in <code>RecastDemo\Bin</code>.</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\imzlp\<span class="built_in">source</span>\repos\recastnavigation\RecastDemo\Bin&gt;tree /a /f</span><br><span class="line">File Index List</span><br><span class="line">Volume Serial Number is 000002D0 ECDB:6872</span><br><span class="line">C:.</span><br><span class="line">|   .gitignore</span><br><span class="line">|   DroidSans.ttf</span><br><span class="line">|   RecastDemo.exe</span><br><span class="line">|   RecastDemo.pdb</span><br><span class="line">|   SDL2.dll</span><br><span class="line">|   Tests.exe</span><br><span class="line">|   Tests.pdb</span><br><span class="line">|</span><br><span class="line">+---Meshes</span><br><span class="line">|       dungeon.obj</span><br><span class="line">|       nav_test.obj</span><br><span class="line">|       undulating.obj</span><br><span class="line">|</span><br><span class="line">\---TestCases</span><br><span class="line">        movement_test.txt</span><br><span class="line">        nav_mesh_test.txt</span><br><span class="line">        raycast_test.txt</span><br></pre></td></tr></table></figure>

<p>Key files include: <code>DroidSans.ttf</code>/<code>RecastDemo.exe</code>/<code>SDL2.dll</code>/<code>Meshs/</code>.</p>
<blockquote>
<p>Note: The obj files must be placed in the <code>Meshs/</code> directory to be recognized by <code>RecastDemo</code>.</p>
</blockquote>
<p>Then, you can run <code>RecastDemo.exe</code> to test navigation data generation on the three default provided <code>obj</code> models by clicking <code>Build</code>, and saving will create a <code>.bin</code> file in the directory where <code>RecastDemo.exe</code> is located, which contains navigation data generated by Recast.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/recast-navigation-RecastDemo.webp"></p>
<p><strong>Note</strong>: Exporting Navmesh from UE means exporting models within the UE pathfinding range, and then using <code>RecastDemo</code> to generate pathfinding data based on that model. This also results in the inability to export Navmesh effectively when adding boxes that affect pathfinding in UE during RecastDemo generation.<br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/diff-ue-nav-and-recastdemo-nav.webp"></p>
<h2 id="Plugin-ue-export-nav-data"><a href="#Plugin-ue-export-nav-data" class="headerlink" title="Plugin: ue-export-nav-data"></a>Plugin: ue-export-nav-data</h2><p>This plugin serves as a tool for exporting RecastNavigation from UE and consists of two modules: <code>ExportNavRuntime</code> and <code>ExportNavEditor</code>. The editor module provides buttons in the UE editor <code>ToolBar</code> for exporting navigation data.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/ue-export-nav-plugin-button.webp"></p>
<p>After clicking, you can select a path, and it will generate two files: <code>.bin</code> and <code>obj</code> in the selected path, automatically opening the export directory in Windows Explorer.</p>
<ul>
<li>bin: Navigation data generated by UE, for use by external servers.</li>
<li>obj: The mesh used for pathfinding in UE, which can be used to generate bin files in RecastDemo.</li>
</ul>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/ue-export-nav-plugin-button-2.webp"><br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/ue-export-nav-plugin-button-3.webp"></p>
<p>Additionally, I provided <code>NavData</code> that can be exported at runtime, but <code>NavMesh</code> is unsupported due to UE’s navigation being precomputed. Specific methods can be found in <code>UFlibExportNavData</code>.</p>
<p>I also provided two methods in C++ and Blueprint to validate whether a position exported from the bin is a valid navigation point:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">UFlibExportNavData::IsValidNavigationPointInNavbin</span><span class="params">(<span class="type">const</span> FString&amp; InNavBinPath, <span class="type">const</span> FVector&amp; Point, <span class="type">const</span> FVector InExtern = FVector::ZeroVector)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">UFlibExportNavData::IsValidNavigationPointInNavObj</span><span class="params">(<span class="keyword">class</span> UdtNavMeshWrapper* InDtNavObject ,<span class="type">const</span> FVector&amp; Point, <span class="type">const</span> FVector InExtern = FVector::ZeroVector)</span></span>;</span><br></pre></td></tr></table></figure>
<p>These can be compared with the UE function <code>UNavigationSystemV1::ProjectPointToNavigation</code> to verify if the exported data matches.</p>
<p>There’s also a method to pass a starting point to retrieve navigation path points:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">FindDetourPathByNavMesh</span><span class="params">(dtNavMesh* InNavMesh ,<span class="type">const</span> FVector3&amp; InStart, <span class="type">const</span> FVector3&amp; InEnd, std::vector&lt;FVector3&gt;&amp; OutPaths)</span></span>;</span><br></pre></td></tr></table></figure>

<p>This can yield results consistent with <code>UNavigationSystemV1::FindPathToLocationSynchrously</code>, passing world coordinates from the game, and the function internally handles transformation, returning world coordinates as well.</p>
<p>The advantages of this plugin include:</p>
<ul>
<li>It directly exports <code>bin</code> files from UE instead of exporting NavMesh’s <code>.obj</code> and then using <code>RecastDemo</code> for generation. Of course, I also retained the ability to export NavMesh as <code>obj</code>.</li>
<li>Since the navigation data is exported directly from UE, it is what you see is what you get, resolving issues where certain areas do not produce pathfinding when exporting NavMesh then generating navigation meshes in RecastDemo, and avoiding inconsistencies in pathfinding data caused by various parameters between UE and RecastDemo.</li>
<li>Additionally, the ue-detour version that I’ve extracted can be seamlessly integrated into external servers, and there’s no need to convert client coordinates and server coordinates (though UE’s coordinates and Recast’s coordinates need conversion, which is already handled internally—manual conversion is unnecessary).</li>
</ul>
<p>The conversion between UE’s coordinate system and Recast’s coordinate system can be achieved using two functions from <code>UE4RecastHelper</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> UE4RecastHelper</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">FCustomVector <span class="title">Recast2UnrealPoint</span><span class="params">(<span class="type">const</span> FCustomVector&amp; Vector)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">FCustomVector</span>(-Vector.X, -Vector.Z, Vector.Y);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">FCustomVector <span class="title">Unreal2RecastPoint</span><span class="params">(<span class="type">const</span> FCustomVector&amp; Vector)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">FCustomVector</span>(-Vector.X, Vector.Z, -Vector.Y);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="Library-ue-recast-detour"><a href="#Library-ue-recast-detour" class="headerlink" title="Library: ue-recast-detour"></a>Library: ue-recast-detour</h2><p>This is the recast detour library I extracted from UE code, located at <code>Runtime/Navmesh/Detour</code> in the UE source code. The main purpose is to ensure that the UE client and the external server use consistent verification methods.</p>
<p>Since the version of <a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">RecastNavigation</a> on GitHub is newer than the one used by UE, and as mentioned earlier, UE made significant modifications to Recast, I extracted the modified version used by UE to prevent discrepancies in results caused by code differences. This ensures that the client and server results are consistent.</p>
<p>The code is hosted on GitHub: <a target="_blank" rel="noopener" href="https://github.com/hxhb/ue4-recast-detour">ue4-recast-detour</a>, with the <code>Detour/</code> directory containing all the code for the Detour library. The remaining code includes the <code>UE4RecastHelper</code> class that I implemented for verification and coordination transformation between UE and Recast, as well as a simple command-line program to test if world positions in UE are valid within the navigation data contained in the bin.</p>
<p><code>UE4RecastHelper</code> currently (2019.11.01) provides methods to <code>serialize</code>/<code>deserialize</code> between <code>dtNavMesh</code> and <code>bin</code> files, as well as a function <code>UE4RecastHelper::dtIsValidNavigationPoint</code> which serves the same purpose as <code>UNavigationSystemV1::ProjectPointToNavigation</code> for verifying whether a point is a valid navigation point, ensuring consistency between the UE client and the external server verification methods.</p>
<p>All operations supported by <code>Detour</code> can be implemented on the server (as navigation data has already been retrieved from UE), and it can be expanded according to specific needs.</p>
<p>Lastly, a brief introduction to how to use the <code>ue-detour.exe</code> tool: simply start <code>ue4-detour.exe</code> from the command line to see usage instructions. First, you need to export navigation data from UE, requiring only the <code>.bin</code> file, generated at, for example, <code>D:\NavData</code>. Then locate <code>ue4-detour.exe</code> to use the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:\&gt;ue4-detour.exe</span><br><span class="line">Usage:</span><br><span class="line">        ue4-detour.exe dtNavMesh.bin Loc.X Loc.Y Loc.Z Extern.X Extern.Y Extern.Z</span><br><span class="line">PS: &#123;Extern.X, Extern.Y, Extern.Z&#125; can be ignored, default is &#123;10.f, 10.f, 10.f&#125;</span><br><span class="line">For Example:</span><br><span class="line">        ue4-detour.exe dtNavMesh.bin -770.003 -593.709 130.267 10.0 10.0 10.0</span><br></pre></td></tr></table></figure>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/verify-ue-location-in-nav-data.webp"><br><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/verify-ue-location-in-nav-data-1.webp"></p>
<p>In Blueprint, you can also directly load the <code>.bin</code> for testing:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/20203/verify-ue-location-in-nav-data-in-blueprint.webp"></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>The open-source repositories utilized in this article:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/recastnavigation/recastnavigation">Recast Navigation</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/hxhb/ue4-export-nav-data">ue4-export-nav-data</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/hxhb/ue4-recast-detour">ue4-recast-detour</a></li>
</ul>
<h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><p><strong>2021.05.27 Update</strong>:</p>
<ul>
<li>The plugin supports UE5 and can export UE5’s NavMesh data and navigation meshes.</li>
<li>Data was successfully verified using ue-detour.</li>
</ul>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210527144337.webp"><br><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210527144040.webp"></p>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/20203/" target="_blank">Export Recast Navigation Data from UE4</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2019/11/01 09:18<br/>
             
             <span>Word Count:</span><span class="page-count">7k Words</span><br/>
             
             <span>Link:</span><a href="/posts/20203/" target="_blank" title="Export Recast Navigation Data from UE4">https://en.imzlp.com/posts/20203/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/20203/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/Recast/" rel="tag"># Recast</a>
              <a href="/tags/Navigation/" rel="tag"># Navigation</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/1927/" rel="prev" title="Become a content creator for the Unreal Engine Marketplace">
      <i class="fa fa-chevron-left"></i> Become a content creator for the Unreal Engine Marketplace
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/30042/" rel="next" title="Oculus Quest Development with UE4">
      Oculus Quest Development with UE4 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Recast-Navigation"><span class="nav-number">1.</span> <span class="nav-text">Recast Navigation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Plugin-ue-export-nav-data"><span class="nav-number">2.</span> <span class="nav-text">Plugin: ue-export-nav-data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Library-ue-recast-detour"><span class="nav-number">3.</span> <span class="nav-text">Library: ue-recast-detour</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#End"><span class="nav-number">4.</span> <span class="nav-text">End</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Update"><span class="nav-number">5.</span> <span class="nav-text">Update</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/20203/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

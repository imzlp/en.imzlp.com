<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="WWise is Audiokinetic’s cross-platform audio engine that interacts well with game engines, allowing audio designers to handle audio solely within WWise. This separates game logic from audio production">
<meta property="og:type" content="article">
<meta property="og:title" content="UE integrated WWise: concept and code analysis">
<meta property="og:url" content="https://en.imzlp.com/posts/9809/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="WWise is Audiokinetic’s cross-platform audio engine that interacts well with game engines, allowing audio designers to handle audio solely within WWise. This separates game logic from audio production">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230323183954.webp">
<meta property="article:published_time" content="2020-09-12T15:31:46.000Z">
<meta property="article:modified_time" content="2020-09-12T15:31:46.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="Wwise">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230323183954.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/9809/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>UE integrated WWise: concept and code analysis | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/9809/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          UE integrated WWise: concept and code analysis<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2020-09-12-9809.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/9809/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        
          <div class="post-subtitle" style="text-align: center;line-height: 1;">
            <sub text-align="center" style="font-size: 15px;align-content: center;font-style: italic;bottom: 0em;">UE集成WWise：概念与代码分析</sub>
          </div>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-12 15:31 15:31:46:31" itemprop="dateCreated datePublished" datetime="2020-09-12T15:31:46+00:00">2020-09-12 15:31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/Wwise/" itemprop="url" rel="index"><span itemprop="name">Wwise</span></a>
                </span>
            </span>

          
            <span id="/posts/9809/" class="post-meta-item leancloud_visitors" data-flag-title="UE integrated WWise: concept and code analysis" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>29 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/products/wwise/">WWise</a> is Audiokinetic’s cross-platform audio engine that interacts well with game engines, allowing audio designers to handle audio solely within WWise. This separates game logic from audio production and management, providing events and parameters for use in game engines, achieving decoupling with business logic and precision control over audio.</p>
<p>This article mainly introduces the integration of WWise with UE4, remote building, resource analysis, documentation collection, the control interaction between WWise and UE, and code analysis of generated Banks.</p>
<span id="more"></span>

<h2 id="Integration-into-UE4"><a href="#Integration-into-UE4" class="headerlink" title="Integration into UE4"></a>Integration into UE4</h2><p>WWise supports all platforms, including Linux/Lumin/PS4/Switch/XboxOne/Windows/Android/iOS/Mac. However, most games do not require support for so many platforms, and the WWise link library is large. Therefore, I’ve trimmed down the official multi-platform version by removing support for the following platforms:</p>
<ul>
<li>Linux</li>
<li>Lumin</li>
<li>PS4</li>
<li>Switch</li>
<li>XboxOne</li>
</ul>
<p>For the Android and Windows platforms, the following adjustments were made:</p>
<ul>
<li>Removed support for arm64-v8a and android_x86/x86_64 link libraries</li>
<li>Removed all link libraries for Win32/removed support for vc140/vc150</li>
</ul>
<p>For iOS, the following adjustments were made:</p>
<ul>
<li>Removed all iphonesimulator, saving 2.31G of space</li>
</ul>
<p>For Mac support:</p>
<p>The current project does not require support for Mac (using iOS for remote builds), but to avoid issues with compiling the project on Mac, the Mac link library and module support have been retained, and keeping it will not affect the packaging for Android/iOS.</p>
<h3 id="Link-Libraries"><a href="#Link-Libraries" class="headerlink" title="Link Libraries"></a>Link Libraries</h3><p>In the trimmed version, I support the following platforms:</p>
<ul>
<li>Android_armabi_v7a</li>
<li>iOS</li>
<li>Mac</li>
<li>Win vc160</li>
</ul>
<p>Each platform supports <code>Debug</code>/<code>Profile</code>/<code>Release</code>, corresponding to UE’s <code>Debug</code>/<code>Development</code>/<code>Shipping</code> configuration.</p>
<p>In the Android Development configuration, including the WWise link library, the APK size increases by approximately 30M.</p>
<h3 id="WWise-Version-Issues"><a href="#WWise-Version-Issues" class="headerlink" title="WWise Version Issues"></a>WWise Version Issues</h3><blockquote>
<p>The WWise version is Wwise 2019.1.9.7221</p>
</blockquote>
<p>In <code>AkAudio_Android.build.cs</code>, the link library support for Android has a path error under <code>UE_4_25_OR_LATER</code>.</p>
<p>Original path:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path.Combine(ThirdPartyFolder, <span class="string">&quot;Android&quot;</span>, <span class="string">&quot;armeabi-v7a&quot;</span>, akConfigurationDir, <span class="string">&quot;lib&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Actual path:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Path.Combine(ThirdPartyFolder, <span class="string">&quot;Android_armeabi-v7a&quot;</span>, akConfigurationDir, <span class="string">&quot;lib&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>However, this modification will result in link errors when simultaneously supporting armv7 and arm64. The solution is discussed in the next section.</p>
<h3 id="Android-Support-for-armv7-and-arm64"><a href="#Android-Support-for-armv7-and-arm64" class="headerlink" title="Android Support for armv7 and arm64"></a>Android Support for armv7 and arm64</h3><p>When supporting both <code>arm64</code> and <code>armv7</code> in the UE project settings for Android, the above modifications result in link errors. It is necessary to change the link library paths in WWise. For specific methods, refer to my note: <a target="_blank" rel="noopener" href="https://imzlp.com/notes/ue/#%E5%90%8C%E6%97%B6%E6%94%AF%E6%8C%81armv7%E5%92%8Carm64%E7%9A%84%E9%93%BE%E6%8E%A5%E5%BA%93">Simultaneously Supporting armv7 and arm64 Link Libraries</a>.</p>
<h3 id="Copying-Android-Link-Libraries"><a href="#Copying-Android-Link-Libraries" class="headerlink" title="Copying Android Link Libraries"></a>Copying Android Link Libraries</h3><p>The WWise SDK simultaneously uses UPL and RuntimeDependencies to add link libraries, causing duplication. Therefore, you can remove the moving platform entries from RuntimeDependencies:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AkAudio</span>(<span class="params">ReadOnlyTargetRules Target</span>) : <span class="title">base</span>(<span class="params">Target</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">	<span class="keyword">if</span> (Target.Platform == UnrealTargetPlatform.Win64)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">foreach</span>(<span class="keyword">var</span> RuntimeDependency <span class="keyword">in</span> AkUEPlatformInstance.GetRuntimeDependencies())</span><br><span class="line">		&#123;</span><br><span class="line">			RuntimeDependencies.Add(RuntimeDependency);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Remote-Building-for-iOS"><a href="#Remote-Building-for-iOS" class="headerlink" title="Remote Building for iOS"></a>Remote Building for iOS</h3><p>In my previous notes, I mentioned that remote building for iOS involves uploading files to Mac for compilation. However, a problem arises if the files involved in the build are not uploaded to Mac, which unfortunately occurs with WWise. The solution is to upload the files that WWise depends on to Mac.</p>
<p>Since UE uses <code>RSync</code> for file synchronization between the build machine and local files, I previously discussed this in the article <a target="_blank" rel="noopener" href="https://imzlp.com/posts/1948/#%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8B%E6%9E%84%E5%BB%BA">UE4 Development Notes: Mac/iOS Section # Configuring Remote Builds</a>, you can create a file <code>&lt;ProjectDir&gt;/Build/Rsync/RsyncProject.txt</code> to write RSync’s file synchronization rules, uploading the required files to Mac.</p>
<p>The rules for WWise are as follows:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ /Plugins/Wwise/ThirdParty/include/**</span><br><span class="line">+ /Plugins/Wwise/ThirdParty/iOS/**</span><br></pre></td></tr></table></figure>
<p>This just specifies that the WWise link library and Include directories are fully uploaded to Mac.</p>
<h2 id="WWise-Resources"><a href="#WWise-Resources" class="headerlink" title="WWise Resources"></a>WWise Resources</h2><p>WWise has two resource formats in UE: one is <code>UAkAudioEvent</code>, used to execute specified Events in WWise, and the other is <code>UAkAudioBank</code>, which records which Events are included in the Bank, marking them to be packed together during generation.</p>
<h3 id="UAkAudioEvent"><a href="#UAkAudioEvent" class="headerlink" title="UAkAudioEvent"></a>UAkAudioEvent</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/library/edge/?source=SDK&id=concept_events.html">AudioEvent</a></li>
</ul>
<p><code>UAkAudioEvent</code>: Its main function is to designate the Bank for the current Event. Its only function is <code>LoadBank</code>, which loads the Bank specified for the current Event (if you see its usage, it’s just to retrieve its name). The WWise integration into UE’s plugin also binds the <code>UAkAudioEvent</code> object’s name to the <code>UAkAudioBank</code> for generating bnk files, which is why the naming of resources in UE must exactly match the naming of Events in WWise.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UCLASS</span>(meta=(BlueprintSpawnableComponent))</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AKAUDIO_API</span> UAkAudioEvent : <span class="keyword">public</span> UObject</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_UCLASS_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">/** Bank to which this event should be added. */</span></span><br><span class="line">	<span class="built_in">UPROPERTY</span>(EditAnywhere, BlueprintReadWrite, Category=<span class="string">&quot;Bank&quot;</span>)</span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">UAkAudioBank</span> * RequiredBank;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** Maximum attenuation radius for this event */</span></span><br><span class="line">	<span class="built_in">UPROPERTY</span>(BlueprintReadOnly, Category=<span class="string">&quot;AkAudioEvent&quot;</span>)</span><br><span class="line">	<span class="type">float</span> MaxAttenuationRadius;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** Whether this event is infinite (looping) or finite (duration parameters are valid) */</span></span><br><span class="line">	<span class="built_in">UPROPERTY</span>(BlueprintReadOnly, Category = <span class="string">&quot;AkAudioEvent&quot;</span>)</span><br><span class="line">	<span class="type">bool</span> IsInfinite;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** Minimum duration */</span></span><br><span class="line">	<span class="built_in">UPROPERTY</span>(BlueprintReadOnly, Category = <span class="string">&quot;AkAudioEvent&quot;</span>)</span><br><span class="line">	<span class="type">float</span> MinimumDuration;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** Maximum duration */</span></span><br><span class="line">	<span class="built_in">UPROPERTY</span>(BlueprintReadOnly, Category = <span class="string">&quot;AkAudioEvent&quot;</span>)</span><br><span class="line">	<span class="type">float</span> MaximumDuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> CPP</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Load the required bank.</span></span><br><span class="line"><span class="comment">	 *</span></span><br><span class="line"><span class="comment">	 * @return true if the bank was loaded, otherwise false</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">LoadBank</span><span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>By obtaining the name of the Event and passing it to the deeper PostEvent:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">int32 <span class="title">UAkGameplayStatics::PostEvent</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">	  <span class="keyword">class</span> UAkAudioEvent* AkEvent</span></span></span><br><span class="line"><span class="params"><span class="function">	, <span class="keyword">class</span> AActor* Actor</span></span></span><br><span class="line"><span class="params"><span class="function">	, int32 CallbackMask</span></span></span><br><span class="line"><span class="params"><span class="function">	, <span class="type">const</span> FOnAkPostEventCallback&amp; PostEventCallback</span></span></span><br><span class="line"><span class="params"><span class="function">	, <span class="type">const</span> TArray&lt;FAkExternalSourceInfo&gt;&amp; ExternalSources</span></span></span><br><span class="line"><span class="params"><span class="function">	, <span class="type">bool</span> bStopWhenAttachedToDestroyed</span></span></span><br><span class="line"><span class="params"><span class="function">	, FString EventName</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (AkEvent == <span class="literal">NULL</span> &amp;&amp; EventName.<span class="built_in">IsEmpty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">UE_LOG</span>(LogScript, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;UAkGameplayStatics::PostEvent: No Event specified!&quot;</span>));</span><br><span class="line">		<span class="keyword">return</span> AK_INVALID_PLAYING_ID;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (Actor == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">UE_LOG</span>(LogScript, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;UAkGameplayStatics::PostEvent: NULL Actor specified!&quot;</span>));</span><br><span class="line">		<span class="keyword">return</span> AK_INVALID_PLAYING_ID;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">AkDeviceAndWorld <span class="title">DeviceAndWorld</span><span class="params">(Actor)</span></span>;</span><br><span class="line">	<span class="keyword">if</span> (DeviceAndWorld.<span class="built_in">IsValid</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		AkCallbackType AkCallbackMask = AkCallbackTypeHelpers::<span class="built_in">GetCallbackMaskFromBlueprintMask</span>(CallbackMask);</span><br><span class="line">		<span class="keyword">if</span> (ExternalSources.<span class="built_in">Num</span>() &gt; <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="function">FAkSDKExtrernalSourceArray <span class="title">SDKExternalSrcInfo</span><span class="params">(ExternalSources)</span></span>;</span><br><span class="line">			<span class="keyword">return</span> DeviceAndWorld.AkAudioDevice-&gt;<span class="built_in">PostEvent</span>(<span class="built_in">GET_AK_EVENT_NAME</span>(AkEvent, EventName), Actor, PostEventCallback, AkCallbackMask, <span class="literal">false</span>, SDKExternalSrcInfo.ExternalSourceArray);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> DeviceAndWorld.AkAudioDevice-&gt;<span class="built_in">PostEvent</span>(<span class="built_in">GET_AK_EVENT_NAME</span>(AkEvent, EventName), Actor, PostEventCallback, AkCallbackMask);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> AK_INVALID_PLAYING_ID;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="UAkAudioBank"><a href="#UAkAudioBank" class="headerlink" title="UAkAudioBank"></a>UAkAudioBank</h3><p><code>UAkAudioBank</code> is used to call <code>AkAudioDevice</code> to load the Bank. If AutoLoad is enabled in UE, it will execute the loading in the UObject’s <code>PostLoad</code>.</p>
<p>The official introduction to SoundBanks can be found here: <a target="_blank" rel="noopener" href="https://www.audiokinetic.com/library/edge/?source=SDK&id=concept_banks.html">SoundBank</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Called after load process is complete.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UAkAudioBank::PostLoad</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Super::<span class="built_in">PostLoad</span>();</span><br><span class="line">	<span class="keyword">if</span> ( AutoLoad &amp;&amp; !<span class="built_in">HasAnyFlags</span>(RF_ClassDefaultObject))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">Load</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Loads an AkBank.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @return Returns true if the load was successful, otherwise false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">UAkAudioBank::Load</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!<span class="built_in">IsRunningCommandlet</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		FAkAudioDevice * AudioDevice = FAkAudioDevice::<span class="built_in">Get</span>();</span><br><span class="line">		<span class="keyword">if</span> (AudioDevice)</span><br><span class="line">		&#123;</span><br><span class="line">			AkBankID BankID;</span><br><span class="line">			AKRESULT eResult = AudioDevice-&gt;<span class="built_in">LoadBank</span>(<span class="keyword">this</span>, AK_DEFAULT_POOL_ID, BankID);</span><br><span class="line">			<span class="keyword">return</span> (eResult == AK_Success) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Moreover, LoadBank similarly uses the Event name for passing to <code>FAkAudioDevices</code>.</p>
<h3 id="Analysis-of-Bank-Generation"><a href="#Analysis-of-Bank-Generation" class="headerlink" title="Analysis of Bank Generation"></a>Analysis of Bank Generation</h3><p>So how does <code>AkAudioEvent</code> associate with <code>SoundBank</code>? In the code, I see the need for <code>LoadBank</code>, but I don’t see where <code>SoundBank</code> and Event are associated in UE resources, and the naming of SoundBank has no relation in WWise.</p>
<p>The answer lies in the files generated by <code>AkSoundBank</code>. When generating <code>AkSoundBank</code> resources with <code>Generate Selected SoundBank</code>:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-generate-wwise-bank.webp"></p>
<p>It creates the following files under the <code>WwiseSoundBankFolder</code> directory in project settings:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">D:\WWise\WwiseDemoGame\Content\WwiseAudio\Windows&gt;tree /a /f</span><br><span class="line">D:.</span><br><span class="line">|   Init.bnk</span><br><span class="line">|   Init.json</span><br><span class="line">|   Init.txt</span><br><span class="line">|   Init.xml</span><br><span class="line">|   PluginInfo.json</span><br><span class="line">|   PluginInfo.xml</span><br><span class="line">|   SoundbanksInfo.json</span><br><span class="line">|   SoundbanksInfo.xml</span><br><span class="line">|   SwitchBank.bnk</span><br><span class="line">|   SwitchBank.json</span><br><span class="line">|   SwitchBank.txt</span><br><span class="line">|   SwitchBank.xml</span><br><span class="line">|   VelocityBank.bnk</span><br><span class="line">|   VelocityBank.json</span><br><span class="line">|   VelocityBank.txt</span><br><span class="line">|   VelocityBank.xml</span><br></pre></td></tr></table></figure>

<p>Among them, the four Init.* files are essential for Init’s Bank content. Each Bank generates four files: <code>.bnk</code>/<code>.json</code>/<code>.txt</code>/<code>.xml</code>, where the <code>.bnk</code> file is what UE needs to load the bank, and tests show that deleting the other files does not cause any issues.</p>
<ul>
<li>bnk: Data file, *.<strong>Bnk</strong> stores detailed event information, audio, and data structures required by other plugins. It can be simply understood as a container for storing data, allowing dynamic control over adding and unloading during runtime.</li>
<li>json: Descriptor file for recording what data and Events are in the current bank and the corresponding Event’s path in the WWise project.</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"> <span class="attr">&quot;SoundBanksInfo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Platform&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Windows&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;BasePlatform&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Windows&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;SchemaVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;11&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;SoundbankVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;134&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;RootPaths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">   <span class="attr">&quot;ProjectRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\Users\\lipengzha\\Desktop\\WWise\\WwiseDemoGame\\UnrealWwiseDemo\\&quot;</span><span class="punctuation">,</span></span><br><span class="line">   <span class="attr">&quot;SourceFilesRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\Users\\lipengzha\\Desktop\\WWise\\WwiseDemoGame\\UnrealWwiseDemo\\.cache\\Windows\\&quot;</span><span class="punctuation">,</span></span><br><span class="line">   <span class="attr">&quot;SoundBanksRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\Users\\lipengzha\\Desktop\\WWise\\WwiseDemoGame\\Content\\WwiseAudio\\Windows\\&quot;</span><span class="punctuation">,</span></span><br><span class="line">   <span class="attr">&quot;ExternalSourcesInputFile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">   <span class="attr">&quot;ExternalSourcesOutputRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\Users\\lipengzha\\Desktop\\WWise\\WwiseDemoGame\\UnrealWwiseDemo\\GeneratedSoundBanks\\Windows&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;SoundBanks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">   <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2001541346&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SFX&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ObjectPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\\SoundBanks\\Default Work Unit\\VelocityBank&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ShortName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;VelocityBank&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;VelocityBank.bnk&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;IncludedEvents&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">     <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2099597577&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PlayRederenceSoundTest&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ObjectPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\\Events\\Default Work Unit\\PlayRederenceSoundTest&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;DurationType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;OneShot&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;DurationMin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.338833&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;DurationMax&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.338833&quot;</span></span><br><span class="line">     <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">     <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3368745218&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;VelocityLoop&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ObjectPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\\Events\\Default Work Unit\\VelocityLoop&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;DurationType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Infinite&quot;</span></span><br><span class="line">     <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;IncludedMemoryFiles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">     <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;386490851&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Language&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SFX&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ShortName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Shotgun_Fire_01.wav&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;Path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SFX\\Shotgun_Fire_01_A07A4AEB.wem&quot;</span></span><br><span class="line">     <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">   <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>xml: Descriptor file containing the same information as json.</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SoundBanksInfo</span> <span class="attr">Platform</span>=<span class="string">&quot;Windows&quot;</span> <span class="attr">BasePlatform</span>=<span class="string">&quot;Windows&quot;</span> <span class="attr">SchemaVersion</span>=<span class="string">&quot;11&quot;</span> <span class="attr">SoundbankVersion</span>=<span class="string">&quot;134&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">RootPaths</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ProjectRoot</span>&gt;</span>C:\Users\lipengzha\Desktop\WWise\WwiseDemoGame\UnrealWwiseDemo\<span class="tag">&lt;/<span class="name">ProjectRoot</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">SourceFilesRoot</span>&gt;</span>C:\Users\lipengzha\Desktop\WWise\WwiseDemoGame\UnrealWwiseDemo\.cache\Windows\<span class="tag">&lt;/<span class="name">SourceFilesRoot</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">SoundBanksRoot</span>&gt;</span>C:\Users\lipengzha\Desktop\WWise\WwiseDemoGame\Content\WwiseAudio\Windows\<span class="tag">&lt;/<span class="name">SoundBanksRoot</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ExternalSourcesInputFile</span>&gt;</span><span class="tag">&lt;/<span class="name">ExternalSourcesInputFile</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ExternalSourcesOutputRoot</span>&gt;</span>C:\Users\lipengzha\Desktop\WWise\WwiseDemoGame\UnrealWwiseDemo\GeneratedSoundBanks\Windows<span class="tag">&lt;/<span class="name">ExternalSourcesOutputRoot</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">RootPaths</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">SoundBanks</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">SoundBank</span> <span class="attr">Id</span>=<span class="string">&quot;2001541346&quot;</span> <span class="attr">Language</span>=<span class="string">&quot;SFX&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ObjectPath</span>&gt;</span>\SoundBanks\Default Work Unit\VelocityBank<span class="tag">&lt;/<span class="name">ObjectPath</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">ShortName</span>&gt;</span>VelocityBank<span class="tag">&lt;/<span class="name">ShortName</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">Path</span>&gt;</span>VelocityBank.bnk<span class="tag">&lt;/<span class="name">Path</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">IncludedEvents</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Event</span> <span class="attr">Id</span>=<span class="string">&quot;2099597577&quot;</span> <span class="attr">Name</span>=<span class="string">&quot;PlayRederenceSoundTest&quot;</span> <span class="attr">ObjectPath</span>=<span class="string">&quot;\Events\Default Work Unit\PlayRederenceSoundTest&quot;</span> <span class="attr">DurationType</span>=<span class="string">&quot;OneShot&quot;</span> <span class="attr">DurationMin</span>=<span class="string">&quot;1.338833&quot;</span> <span class="attr">DurationMax</span>=<span class="string">&quot;1.338833&quot;</span>/&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">Event</span> <span class="attr">Id</span>=<span class="string">&quot;3368745218&quot;</span> <span class="attr">Name</span>=<span class="string">&quot;VelocityLoop&quot;</span> <span class="attr">ObjectPath</span>=<span class="string">&quot;\Events\Default Work Unit\VelocityLoop&quot;</span> <span class="attr">DurationType</span>=<span class="string">&quot;Infinite&quot;</span>/&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">IncludedEvents</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">IncludedMemoryFiles</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">File</span> <span class="attr">Id</span>=<span class="string">&quot;386490851&quot;</span> <span class="attr">Language</span>=<span class="string">&quot;SFX&quot;</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">ShortName</span>&gt;</span>Shotgun_Fire_01.wav<span class="tag">&lt;/<span class="name">ShortName</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">Path</span>&gt;</span>SFX\Shotgun_Fire_01_A07A4AEB.wem<span class="tag">&lt;/<span class="name">Path</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">IncludedMemoryFiles</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">SoundBank</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">SoundBanks</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">SoundBanksInfo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>txt: Also a descriptor file, but with fewer details compared to json and xml.</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Event	ID	Name			Wwise Object Path	Notes</span><br><span class="line">	2099597577	PlayRederenceSoundTest			\Default Work Unit\PlayRederenceSoundTest	</span><br><span class="line">	3368745218	VelocityLoop			\Default Work Unit\VelocityLoop	</span><br><span class="line"></span><br><span class="line">Game Parameter	ID	Name			Wwise Object Path	Notes</span><br><span class="line">	3519441192	Velocity			\Default Work Unit\Velocity	</span><br><span class="line"></span><br><span class="line">Source plug-ins	ID	Name	Type		Wwise Object Path	Notes</span><br><span class="line">	778067245	Wwise Tone Generator	Wwise Tone Generator		\Actor-Mixer Hierarchy\RTPCDemo\VelocityLoop\Wwise Tone Generator	</span><br><span class="line"></span><br><span class="line">In Memory Audio	ID	Name	Audio source file		Wwise Object Path	Notes	Data Size</span><br><span class="line">	386490851	RederenceSound	C:\Users\lipengzha\Desktop\WWise\WwiseDemoGame\UnrealWwiseDemo\.cache\Windows\SFX\Shotgun_Fire_01_A07A4AEB.wem		\Actor-Mixer Hierarchy\Default Work Unit\RederenceSound		257120</span><br></pre></td></tr></table></figure>

<p>The similar <code>Post*</code> actions in <code>UAkGameplayStatics</code> where the Actor is passed function to get the World, and then retrieve <code>AkComponent</code> from that Actor (if it doesn’t exist, create it and attach it to the Actor’s RootComponent):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">AkDeviceAndWorld</span></span><br><span class="line">&#123;</span><br><span class="line">	FAkAudioDevice* AkAudioDevice;</span><br><span class="line">	UWorld* CurrentWorld;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">AkDeviceAndWorld</span>(AActor* in_pActor) :</span><br><span class="line">		<span class="built_in">AkAudioDevice</span>(FAkAudioDevice::<span class="built_in">Get</span>()),</span><br><span class="line">		<span class="built_in">CurrentWorld</span>(in_pActor ? in_pActor-&gt;<span class="built_in">GetWorld</span>() : <span class="literal">nullptr</span>)</span><br><span class="line">	&#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">AkDeviceAndWorld</span>(UObject* in_pWorldContextObject) :</span><br><span class="line">		<span class="built_in">AkAudioDevice</span>(FAkAudioDevice::<span class="built_in">Get</span>()),</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UE_4_17_OR_LATER</span></span><br><span class="line">		<span class="built_in">CurrentWorld</span>(GEngine-&gt;<span class="built_in">GetWorldFromContextObject</span>(in_pWorldContextObject, EGetWorldErrorMode::ReturnNull))</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">		<span class="built_in">CurrentWorld</span>(GEngine-&gt;<span class="built_in">GetWorldFromContextObject</span>(in_pWorldContextObject))</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UE_4_17_OR_LATER</span></span></span><br><span class="line">	&#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">IsValid</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> (CurrentWorld &amp;&amp; CurrentWorld-&gt;<span class="built_in">AllowAudioPlayback</span>() &amp;&amp; AkAudioDevice); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Using the Event to specify the SoundBank, executing <code>Generate Selected Bank</code> workflow is as follows:</p>
<ol>
<li>Get the list of names of the selected SoundBank</li>
<li>Retrieve all <code>UAkAudioEvent</code> objects in the engine and analyze if the names of <code>RequireBank</code> from <code>AkSoundEvent</code> match the names obtained from the first step, thereby getting all <code>AkAudioEvents</code> in the SoundBank;</li>
<li>Based on the results of the above two analyses, generate <code>SoundBankDefinitionFile</code>, which is stored in the UE project directory, named <code>TempDefinitionFile.txt</code></li>
</ol>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">VelocityBank	&quot;PlayRederenceSoundTest&quot;</span><br><span class="line">VelocityBank	&quot;VelocityLoop&quot;</span><br><span class="line">ExtSrcBnk	&quot;Play_MyExtSrc&quot;</span><br><span class="line">AmbientBank	&quot;AmbientNoise_NotSpatialized&quot;</span><br><span class="line">AmbientBank	&quot;AmbientNoise_Spatialized&quot;</span><br><span class="line">ReverbBank	&quot;Fire_Weapon&quot;</span><br><span class="line">MatineeBank	&quot;Closed_Hi_Hat&quot;</span><br><span class="line">MatineeBank	&quot;Kick&quot;</span><br><span class="line">MatineeBank	&quot;Snare&quot;</span><br><span class="line">SubtitleBank	&quot;Play_Subtitles&quot;</span><br><span class="line">SwitchBank	&quot;Play_Tone&quot;</span><br></pre></td></tr></table></figure>

<p>This records the association between UE’s SoundBank objects and their associated <code>Event</code> as well as <code>Bus</code> names, passed to <code>WwiseCLI.exe</code> using the <code>-ImportDefinitionFile</code> parameter, allowing WWise to understand the correspondence between UE’s SoundBank and Event.</p>
<ol start="4">
<li>On the WWise side, based on the <code>ImportDefinitionFile</code>, it matches with Events and Bus in the WWise project, creating a SoundBank that contains the specified Events and generates json/xml/txt descriptor files.</li>
</ol>
<p>The loading process for UE using <code>LoadBank</code> should be:</p>
<ol>
<li>Retrieve the Bank’s name via the Bank object.</li>
<li>Look for the corresponding <code>bnk</code> file in the <code>WwiseSoundBankFolder</code> directory based on the Bank name.</li>
<li>Obtain the <code>bnk</code> file and proceed with loading.</li>
</ol>
<h2 id="Interaction-Between-UE-and-WWise"><a href="#Interaction-Between-UE-and-WWise" class="headerlink" title="Interaction Between UE and WWise"></a>Interaction Between UE and WWise</h2><p>In UE, the use of WWise API to play and control sound is introduced.</p>
<h3 id="PlaySoundAtLocation"><a href="#PlaySoundAtLocation" class="headerlink" title="PlaySoundAtLocation"></a>PlaySoundAtLocation</h3><p>The APIs are available in <code>UAkGameplayStatics</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Posts a Wwise Event at the specified location. This is a fire and forget sound, created on a temporary Wwise Game Object. Replication is also not handled at this point.</span></span><br><span class="line"><span class="comment"> * @param AkEvent - Wwise Event to post.</span></span><br><span class="line"><span class="comment"> * @param Location - Location from which to post the Wwise Event.</span></span><br><span class="line"><span class="comment"> * @param Orientation - Orientation of the event.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable, BlueprintCosmetic, Category=<span class="string">&quot;Audiokinetic&quot;</span>, meta=(WorldContext=<span class="string">&quot;WorldContextObject&quot;</span>, AdvancedDisplay = <span class="string">&quot;3&quot;</span>))</span><br><span class="line"><span class="function"><span class="type">static</span> int32 <span class="title">PostEventAtLocation</span><span class="params">(<span class="keyword">class</span> UAkAudioEvent* AkEvent, FVector Location, FRotator Orientation, <span class="type">const</span> FString&amp; EventName, UObject* WorldContextObject )</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Posts a Wwise Event by name at the specified location. This is a fire and forget sound, created on a temporary Wwise Game Object. Replication is also not handled at this point.</span></span><br><span class="line"><span class="comment"> * @param AkEvent - Wwise Event to post.</span></span><br><span class="line"><span class="comment"> * @param Location - Location from which to post the Wwise Event.</span></span><br><span class="line"><span class="comment"> * @param Orientation - Orientation of the event.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable, BlueprintCosmetic, Category=<span class="string">&quot;Audiokinetic&quot;</span>, meta=(WorldContext=<span class="string">&quot;WorldContextObject&quot;</span>, DeprecatedFunction, DeprecationMessage = <span class="string">&quot;Please use the \&quot;Event Name\&quot; field of PostEventAtLocation&quot;</span>))</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">PostEventAtLocationByName</span><span class="params">(<span class="type">const</span> FString&amp; EventName, FVector Location, FRotator Orientation, UObject* WorldContextObject )</span></span>;</span><br></pre></td></tr></table></figure>

<p>These two APIs can be used to play sounds at a specified location by passing resources of <code>AkAudioEvent</code> or the Event name. <code>PostEventAtLocationByName</code> is a wrapped version of <code>UAkGameplatStatics::PostEventAtLocation</code>, with AkAudioEvent being NULL.</p>
<h3 id="PostEvent"><a href="#PostEvent" class="headerlink" title="PostEvent"></a>PostEvent</h3><p>Sends a specified Wwise Event bound to the root component of the given Actor. If the incoming Actor does not have an <code>AkComponent</code> attached, one will be created on PostEvent and will be attached by default to that Actor’s RootComponent.</p>
<p>After <code>PostEvent</code>, if subsequent control of Event values is needed, like RTPC or Switch, the corresponding Actor must be passed in (since PostEvent essentially works through <code>AkComponent</code>):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">AkPlayingID <span class="title">FAkAudioDevice::PostEvent</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">	<span class="type">const</span> FString&amp; in_EventName,</span></span></span><br><span class="line"><span class="params"><span class="function">	UAkComponent* in_pComponent,</span></span></span><br><span class="line"><span class="params"><span class="function">	<span class="type">const</span> FOnAkPostEventCallback&amp; PostEventCallback,</span></span></span><br><span class="line"><span class="params"><span class="function">	AkUInt32 in_uFlags, <span class="comment">/*= 0*/</span></span></span></span><br><span class="line"><span class="params"><span class="function">	<span class="type">const</span> TArray&lt;AkExternalSourceInfo&gt;&amp; in_ExternalSources <span class="comment">/*= TArray&lt;AkExternalSourceInfo&gt;()*/</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">PostEvent</span>(in_EventName, in_pComponent, in_ExternalSources, [PostEventCallback, in_uFlags, <span class="keyword">this</span>](AkGameObjectID gameObjID) &#123;</span><br><span class="line">		<span class="keyword">return</span> CallbackManager-&gt;<span class="built_in">CreateCallbackPackage</span>(PostEventCallback, in_uFlags, gameObjID);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Currently, my understanding is that the Actor (with AkComponent) passed in serves as context for playing sounds in WWise, allowing further operations to control specific events through this context.</p>
<p>Furthermore, PostEvent has various types of callback functions, controlled through the mask values passed in, defined by the <code>EAkCallbackType</code> enum (bitmask):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> int32 <span class="title">PostEvent</span><span class="params">(	<span class="keyword">class</span> UAkAudioEvent* AkEvent, </span></span></span><br><span class="line"><span class="params"><span class="function">						<span class="keyword">class</span> AActor* Actor, </span></span></span><br><span class="line"><span class="params"><span class="function">						UPARAM(meta = (Bitmask, BitmaskEnum = EAkCallbackType)) int32 CallbackMask,</span></span></span><br><span class="line"><span class="params"><span class="function">						<span class="type">const</span> FOnAkPostEventCallback&amp; PostEventCallback,</span></span></span><br><span class="line"><span class="params"><span class="function">						<span class="type">const</span> TArray&lt;FAkExternalSourceInfo&gt;&amp; ExternalSources,</span></span></span><br><span class="line"><span class="params"><span class="function">						<span class="type">bool</span> bStopWhenAttachedToDestroyed = <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">						FString EventName = FString(<span class="string">&quot;&quot;</span>))</span></span>;</span><br></pre></td></tr></table></figure>

<p>Available values for <code>EAkCallbackType</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Type of callback. Used as a bitfield in methods AK::SoundEngine::PostEvent() and AK::SoundEngine::DynamicSequence::Open().</span></span><br><span class="line"><span class="built_in">UENUM</span>(BlueprintType, meta = (Bitmask))</span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">EAkCallbackType</span> : uint8</span><br><span class="line">&#123;</span><br><span class="line">	EndOfEvent = <span class="number">0</span>			<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Callback triggered when reaching the end of an event. AkCallbackInfo can be cast to AkEventCallbackInfo.&quot;</span>),</span><br><span class="line">	Marker = <span class="number">2</span>				<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Callback triggered when encountering a marker during playback. AkCallbackInfo can be cast to AkMarkerCallbackInfo.&quot;</span>),</span><br><span class="line">	Duration = <span class="number">3</span>			<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Callback triggered when the duration of the sound is known by the sound engine. AkCallbackInfo can be cast to AkDurationCallbackInfo.&quot;</span>),</span><br><span class="line"></span><br><span class="line">	Starvation = <span class="number">5</span>			<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Callback triggered when playback skips a frame due to stream starvation. AkCallbackInfo can be cast to AkEventCallbackInfo.&quot;</span>),</span><br><span class="line">	</span><br><span class="line">	MusicPlayStarted = <span class="number">7</span>	<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Callback triggered when a Play or Seek command has been executed (Seek commands are issued from AK::SoundEngine::SeekOnEvent()). Applies to objects of the Interactive-Music Hierarchy only. AkCallbackInfo can be cast to AkEventCallbackInfo.&quot;</span>),</span><br><span class="line"></span><br><span class="line">	MusicSyncBeat = <span class="number">8</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Beat. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncBar = <span class="number">9</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Bar. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncEntry = <span class="number">10</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Entry Cue. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncExit = <span class="number">11</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Exit Cue. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncGrid = <span class="number">12</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Grid. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncUserCue = <span class="number">13</span>	<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music Custom Cue. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line">	MusicSyncPoint = <span class="number">14</span>		<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications on Music switch transition synchronization point. AkCallbackInfo can be cast to AkMusicSyncCallbackInfo.&quot;</span>),</span><br><span class="line"></span><br><span class="line">	MIDIEvent = <span class="number">16</span>			<span class="built_in">UMETA</span>(ToolTip = <span class="string">&quot;Enable notifications for MIDI events. AkCallbackInfo can be cast to AkMIDIEventCallbackInfo.&quot;</span>),</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>EndOfEvent: Triggered when the event ends; can be cast to AkEventCallbackInfo</li>
<li>Marker: Triggered when encountering a marker; can be cast to AkMarkerCallbackInfo</li>
<li>Duration: Triggered when the Sound Engine knows the current sound duration; can be cast to AkDurationCallbackInfo</li>
<li>Starvation: Triggered when playback skips a frame due to stream starvation; can be cast to AkEventCallbackInfo</li>
<li>MusicPlayStarted: Triggered when a Play or Seek command is executed (Seek commands are issued from AK::SoundEngine::SeekOnEvent); applicable to objects in the Interactive-Music Hierarchy only; can be cast to AkEventCallbackInfo</li>
<li>MusicSyncBeat: Enable notifications on Music beat; can be cast to AkMusicSyncCallbackInfo</li>
<li>MusicSyncBar: Enable notifications on Music Bar; can be cast to AkMusicSyncCallbackInfo</li>
<li>MusicSyncEntry: Enable notifications on Music Entry; can be cast to AkMusicSyncCallbackInfo</li>
<li>MusicSyncExit: Enable notifications on Music Exit; can be cast to AkMusicSyncCallbackInfo</li>
<li>MusicSyncGrid: Enable notifications on Music Grid; can be cast to AkMusicSyncCallbackInfo</li>
<li>MusicSyncPoint: Enable notifications on Music switch transition synchronization point; can be cast to AkMusicSyncCallbackInfo</li>
<li>MIDIEvent: Enable notifications for MIDI events; can be cast to AkMIDIEventCallbackInfo</li>
</ul>
<h3 id="Marker"><a href="#Marker" class="headerlink" title="Marker"></a>Marker</h3><p>Audio added in the <code>Sound VFX</code> in the WWise editor can be edited to add Markers, which can be received in UE by setting the <code>CallbackMask</code> parameter to <code>EAkCallbackType::Marker</code> when calling <code>UAkGameplayStatics::PostEvent</code>. This allows receiving the location of each Marker hit during playback for performing game logic actions, such as displaying audio subtitles.</p>
<p>Listening in UE:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-wwise-callbak-marker.webp"></p>
<p>Moreover, the <code>Identifier</code> also starts from 0:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-wwise-callbak-marker-print.webp"></p>
<p>Adding Markers in WWise:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/Wwise-edit-marker.webp"></p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/Wwise-edit-marker2.webp"></p>
<p>In UE, when <code>PostEvent</code>, the value of the <code>CallbackMask</code> can be added along with <code>Marker</code>, allowing for receiving each encountered marker during playback in the associated event, useful for displaying subtitles while playing.</p>
<h3 id="RTPC"><a href="#RTPC" class="headerlink" title="RTPC"></a>RTPC</h3><blockquote>
<p>Real-time Parameter Controls (RTPC) allow real-time control of specific properties of various Wwise objects (including sound objects, containers, buses, effects, etc.) based on real-time parameter changes occurring in the game.</p>
</blockquote>
<p>RTPC can transfer values from the program to the WWise side, allowing WWise to control the sound based on the incoming values.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-wwise-SetRTPCValue.webp"></p>
<p>In WWise, RTPC:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/WWise-RTPC-view.webp"></p>
<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><p>Switches can be used in the engine to switch different modes, such as the sounds of players walking on different surfaces.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/library/edge/?source=SDK&id=concept_switch.html">Concept: Switch</a></li>
</ul>
<p>In <code>PostEvent</code> one <code>AkEvent</code>, the <code>SwitchGroup</code> and <code>SwitchState</code> can be passed along with the Actor passed at the time of PostEvent.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-wwise-post-event.webp"></p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/Wwise-Switch-view.webp"></p>
<h3 id="Sequencer"><a href="#Sequencer" class="headerlink" title="Sequencer"></a>Sequencer</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/library/2017.2.10_6745/?source=UE4&id=using__features__sequencer.html">Level Sequencer</a></li>
</ul>
<p>WWise provides support for use in Sequencer, enabling the use of <code>AkAudioEvents</code> and <code>AkAudioRTPC</code> to play and control Events within a Sequence.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-wwise-in-sequencer.webp"></p>
<h3 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/zh/library/2017.2.10_6745/?source=UE4&id=using__features__anim.html">Animation</a></li>
</ul>
<p>And can be used in animation notifications:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-add-wwise-ak-notifity-in-animation.webp"></p>
<p>Specify the Event for the notification:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/blog/posts/9809/ue-add-wwise-ak-notifity-in-animation-event.webp">## CommandLet<br>WWise provides Commandlet in UE for handling the batch generation of Banks.</p>
<p>Introduction to usage:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Commandlet allowing to generate Wwise SoundBanks.</span><br><span class="line">Usage: &lt;Editor.exe&gt; &lt;path_to_uproject&gt; -run=GenerateSoundBanks [-platforms=listOfPlatforms] [-banks=listOfBanks] [-wwiseCliPath=pathToWwiseCli]</span><br><span class="line">Parameters:</span><br><span class="line">   - platforms: (Optional) Comma separated list of platforms for which SoundBanks will be generated, as specified in the Wwise project. If not specified, SoundBanks will be generated for all platforms.</span><br><span class="line">   - banks: (Optional) Comma separated list of SoundBanks to generate. Bank names must correspond to a UAkAudioBank asset in the project. If not specified, all SoundBanks found in project will be generated.</span><br><span class="line">   - wwiseCliPath: (Optional) Full path to the Wwise command-line application to use to generate the SoundBanks. If not specified, the path found in the Wwise settings will be used.</span><br><span class="line">   - help: (Optional) Print this help message. This will quit the commandlet immediately.</span><br><span class="line">For more information, see https://www.audiokinetic.com/library/edge/?source=UE4&amp;id=using_features_generatecommandlet.html</span><br></pre></td></tr></table></figure>

<p>The Commandlet for generating SoundBank is:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Engine/Binaries/Win64/UE4Editor.exe <span class="string">&quot;D:/WwiseDemoGame.uproject&quot;</span> -run=GenerateSoundBanks -platforms=Windows,Android,iOS -<span class="built_in">wait</span></span><br></pre></td></tr></table></figure>

<p>The <code>-wait</code> parameter is included in the CommandLet to control waiting for user input after execution is complete, preventing the execution window from flashing and disappearing. When no specific SoundBank is designated for generation, all defined SoundBanks in the project will be generated. If you want to specify, you can use the format <code>-banks=aaa,bbb,ccc</code> and so on.</p>
<p>The final execution command is (you can see the <code>-ImportDefinitionFile</code> parameter):</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;C:\Program Files (x86)\Audiokinetic\Wwise 2019.1.9.7221\Authoring\x64\Release\bin\WwiseCLI.exe&quot;  &quot;D:/WwiseDemoGame/UnrealWwiseDemo/UnrealDemo.wproj&quot; -GenerateSoundBanks -Bank ExtSrcBnk -Bank AmbientBank -Bank ReverbBank -Bank VelocityBank -Bank MatineeBank -Bank SubtitleBank -Bank SwitchBank -ImportDefinitionFile &quot;D:/WwiseDemoGame/TempDefinitionFile.txt&quot; -Platform Windows -SoundBankPath Windows &quot;D:\WwiseDemoGame\Content\WwiseAudio\Windows&quot; -Platform Android -SoundBankPath Android &quot;D:\WwiseDemoGame\Content\WwiseAudio\Android&quot; -Platform iOS -SoundBankPath iOS &quot;D:\WwiseDemoGame\Content\WwiseAudio\iOS&quot;</span><br></pre></td></tr></table></figure>
<p>Breaking down the command:</p>
<ol>
<li>Path to WWiseCLI.exe</li>
<li><code>-GenerateSoundBanks</code>: Passed to WWiseCLI.exe indicating the function to generate SoundBank</li>
<li><code>-Bank</code>: Specify the name of the Bank</li>
<li><code>-ImportDefinitionFile</code>: Specify the <code>TempDefinitionFile.txt</code></li>
<li><code>-Platform</code>: Specify the platform</li>
<li><code>-SoundBankPath</code>: Specify the directory where the platform’s generated content will be saved</li>
</ol>
<h2 id="Command-Line-Parameters"><a href="#Command-Line-Parameters" class="headerlink" title="Command Line Parameters"></a>Command Line Parameters</h2><ul>
<li><code>-nosound</code>: Disable sound in WWise.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">FAkAudioDevice::EnsureInitialized</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// We don&#x27;t want sound in those cases.</span></span><br><span class="line">	<span class="keyword">if</span> (FParse::<span class="built_in">Param</span>(FCommandLine::<span class="built_in">Get</span>(), <span class="built_in">TEXT</span>(<span class="string">&quot;nosound&quot;</span>)) || FApp::<span class="built_in">IsBenchmarking</span>() || <span class="built_in">IsRunningDedicatedServer</span>() || <span class="built_in">IsRunningCommandlet</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Global-Pause-Music"><a href="#Global-Pause-Music" class="headerlink" title="Global Pause Music"></a>Global Pause Music</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/zh/library/edge/?source=SDK&id=workingwithsdks_system_calls.html">Handling System-Specific Events</a></li>
</ul>
<p>This can be achieved with the following code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// on enter background</span></span><br><span class="line">AK::SoundEngine::<span class="built_in">Suspend</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// on enter foreground</span></span><br><span class="line">AK::SoundEngine::<span class="built_in">WakeupFromSuspend</span>();</span><br><span class="line">AK::SoundEngine::<span class="built_in">RenderAudio</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Hot-Updating-WWise’s-Banks"><a href="#Hot-Updating-WWise’s-Banks" class="headerlink" title="Hot Updating WWise’s Banks"></a>Hot Updating WWise’s Banks</h2><p>From the above analysis, it can be seen that WWise generates Banks on a per-platform basis, creating corresponding folders for each platform. This requires us to include different external files based on different platforms during hot updates. <a target="_blank" rel="noopener" href="https://github.com/hxhb/HotPatcher">HotPatcher</a> already supports this feature, enabling specific platforms to contain special files.</p>
<h2 id="Disadvantages-of-WWise-Integration-into-UE"><a href="#Disadvantages-of-WWise-Integration-into-UE" class="headerlink" title="Disadvantages of WWise Integration into UE"></a>Disadvantages of WWise Integration into UE</h2><p>The official importation of Events and the process of specifying Banks is too cumbersome; each Event must be dragged into the Content Browser to create UE Event resources, followed by manually specifying RequireBank, which is quite troublesome. In fact, the WWise editor itself contains the functionality for Bank editing, but there is no official method provided in UE for batch generation of Event and Bank resources. This can be a point for amateur extension development, creating a batch import feature; this is a later topic, to be tackled when time permits.</p>
<h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><ul>
<li>Overview of concepts in WWise: <a target="_blank" rel="noopener" href="https://www.audiokinetic.com/zh/library/edge/?source=SDK&id=conceptsandterminology.html">Overview of Wwise Concepts</a></li>
<li><a target="_blank" rel="noopener" href="https://www.audiokinetic.com/zh/library/edge/?source=Help&id=dlc_considerations_and_limitations">DLC Considerations and Limitations</a></li>
</ul>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/9809/" target="_blank">UE integrated WWise: concept and code analysis</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2020/09/12 15:31<br/>
             
             <span>Word Count:</span><span class="page-count">12k Words</span><br/>
             
             <span>Link:</span><a href="/posts/9809/" target="_blank" title="UE integrated WWise: concept and code analysis">https://en.imzlp.com/posts/9809/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/9809/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/Wwise/" rel="tag"># Wwise</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/29551/" rel="prev" title="How to build your own knowledge system?">
      <i class="fa fa-chevron-left"></i> How to build your own knowledge system?
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/28513/" rel="next" title="UE import atlas: TexturePacker">
      UE import atlas: TexturePacker <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Integration-into-UE4"><span class="nav-number">1.</span> <span class="nav-text">Integration into UE4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Link-Libraries"><span class="nav-number">1.1.</span> <span class="nav-text">Link Libraries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WWise-Version-Issues"><span class="nav-number">1.2.</span> <span class="nav-text">WWise Version Issues</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Android-Support-for-armv7-and-arm64"><span class="nav-number">1.3.</span> <span class="nav-text">Android Support for armv7 and arm64</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copying-Android-Link-Libraries"><span class="nav-number">1.4.</span> <span class="nav-text">Copying Android Link Libraries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remote-Building-for-iOS"><span class="nav-number">1.5.</span> <span class="nav-text">Remote Building for iOS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WWise-Resources"><span class="nav-number">2.</span> <span class="nav-text">WWise Resources</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UAkAudioEvent"><span class="nav-number">2.1.</span> <span class="nav-text">UAkAudioEvent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UAkAudioBank"><span class="nav-number">2.2.</span> <span class="nav-text">UAkAudioBank</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-of-Bank-Generation"><span class="nav-number">2.3.</span> <span class="nav-text">Analysis of Bank Generation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interaction-Between-UE-and-WWise"><span class="nav-number">3.</span> <span class="nav-text">Interaction Between UE and WWise</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PlaySoundAtLocation"><span class="nav-number">3.1.</span> <span class="nav-text">PlaySoundAtLocation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PostEvent"><span class="nav-number">3.2.</span> <span class="nav-text">PostEvent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Marker"><span class="nav-number">3.3.</span> <span class="nav-text">Marker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RTPC"><span class="nav-number">3.4.</span> <span class="nav-text">RTPC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch"><span class="nav-number">3.5.</span> <span class="nav-text">Switch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sequencer"><span class="nav-number">3.6.</span> <span class="nav-text">Sequencer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Animation"><span class="nav-number">3.7.</span> <span class="nav-text">Animation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Command-Line-Parameters"><span class="nav-number">4.</span> <span class="nav-text">Command Line Parameters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Global-Pause-Music"><span class="nav-number">5.</span> <span class="nav-text">Global Pause Music</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hot-Updating-WWise%E2%80%99s-Banks"><span class="nav-number">6.</span> <span class="nav-text">Hot Updating WWise’s Banks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Disadvantages-of-WWise-Integration-into-UE"><span class="nav-number">7.</span> <span class="nav-text">Disadvantages of WWise Integration into UE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Documentation"><span class="nav-number">8.</span> <span class="nav-text">Documentation</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/9809/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="To do a good job, one must first sharpen their tools! AIGC tools represented by ChatGPT and Stable Diffusion have emerged, and the AI wave is sweeping across various industries. As developers, how to">
<meta property="og:type" content="article">
<meta property="og:title" content="Using AI to help with daily life and development exploration">
<meta property="og:url" content="https://en.imzlp.com/posts/71467/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="To do a good job, one must first sharpen their tools! AIGC tools represented by ChatGPT and Stable Diffusion have emerged, and the AI wave is sweeping across various industries. As developers, how to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424162642.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424163706.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155058.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155328.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424113422.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424211842.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424114035.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424141053.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424141747.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424142553.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424143240.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155328.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424162042.png">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424215604.png">
<meta property="article:published_time" content="2023-04-24T17:01:46.000Z">
<meta property="article:modified_time" content="2023-04-24T17:01:46.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="随笔">
<meta property="article:tag" content="循迹研究">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="GPT">
<meta property="article:tag" content="OpenAI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424162642.png">

<link rel="canonical" href="https://en.imzlp.com/posts/71467/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Using AI to help with daily life and development exploration | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/71467/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Using AI to help with daily life and development exploration<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2023-04-24-71467.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/71467/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        
          <div class="post-subtitle" style="text-align: center;line-height: 1;">
            <sub text-align="center" style="font-size: 15px;align-content: center;font-style: italic;bottom: 0em;">循迹研究：利用AI助力生活及开发探索</sub>
          </div>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-04-24 17:01 17:01:46:01" itemprop="dateCreated datePublished" datetime="2023-04-24T17:01:46+00:00">2023-04-24 17:01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/%E5%BE%AA%E8%BF%B9%E7%A0%94%E7%A9%B6/" itemprop="url" rel="index"><span itemprop="name">循迹研究</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/%E5%BE%AA%E8%BF%B9%E7%A0%94%E7%A9%B6/AI/" itemprop="url" rel="index"><span itemprop="name">AI</span></a>
                </span>
            </span>

          
            <span id="/posts/71467/" class="post-meta-item leancloud_visitors" data-flag-title="Using AI to help with daily life and development exploration" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>8.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>20 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>To do a good job, one must first sharpen their tools!</strong> AIGC tools represented by ChatGPT and Stable Diffusion have emerged, and the AI wave is sweeping across various industries. As developers, how to leverage AI capabilities to improve efficiency in tasks is a question worth studying.</p>
<p>It is crucial to note that the content generated by GPT may not be entirely accurate and can contain inaccuracies. However, its potential lies in the possibility of achieving a general-purpose AI assistant. No one can possess expert-level knowledge in all fields, but effectively utilizing GPT in unfamiliar domains can significantly lower the entry costs.</p>
<p>In this article, I will introduce some cases of using GPT to assist in work, life, and learning, as well as explore application scenarios for secondary development using the GPT API. At the end of the article, I will share some Prompts I use and recommend some useful GPT tools, as well as a solution for encapsulating Azure OpenAI services using Cloudflare Worker.</p>
<span id="more"></span>

<h2 id="API-Request"><a href="#API-Request" class="headerlink" title="API Request"></a>API Request</h2><p>You can apply for an OpenAI account to get a Key, but its free quota has a time limit, and recently the risk control is strict, making it easy to get banned.<br>It is recommended to apply for Azure-hosted OpenAI services, which are stable enough and available domestically. However, be aware of the differences in API calls between OpenAI and Azure. At the end of the article, I will provide a solution for Azure OpenAI services based on Cloudflare Worker.</p>
<p>Azure allows you to deploy models as needed:<br><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424162642.png"></p>
<p>Also, I have been granted access to try GPT-4 on Azure, which allows the use of the <code>GPT-4</code> and <code>GPT-4-32K</code> models, which are more powerful (and also more expensive) than <code>GPT-3.5</code>. </p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424163706.png"></p>
<p>Available GPT models include:</p>
<ul>
<li>gpt-3.5-turbo</li>
<li>gpt-4</li>
<li>gpt-4-32k</li>
</ul>
<p>This article will still use the official OpenAI API as an example. When you want to call the GPT API, you need to POST an HTTP request:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl --location &#x27;https://api.openai.com/v1/chat/completions&#x27; \</span><br><span class="line">--header &#x27;Content-Type: application/json&#x27; \</span><br><span class="line">--header &#x27;Authorization: Bearer sk-xxxxxxxxxxxxxxxxxxxxxxxxxx&#x27; \</span><br><span class="line">--data &#x27;&#123;</span><br><span class="line">    &quot;model&quot;: &quot;gpt-3.5-turbo&quot;,</span><br><span class="line">    &quot;messages&quot;: [&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Hello&quot;&#125;]</span><br><span class="line">&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>In <code>messages</code>, you can specify the role and content of the message. GPT offers three types of roles: <code>system</code>, <code>user</code>, and <code>assistant</code>.</p>
<ul>
<li>The content of <code>system</code> is a preset role for GPT, such as “You are a professional C++ developer. Please evaluate whether my C++ code adheres to the C++11 standard or above, and respond in Chinese.” This can be understood as the information to establish a persona for GPT.</li>
<li>The <code>user</code> part is the information that the user wants to provide to GPT, such as the content of a question.</li>
<li><code>assistant</code> is the information that GPT replies with.</li>
</ul>
<p>Using the above POST request as an example, GPT will respond with a JSON structure:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chatcmpl-78k8efoUk2bHIH3G2dUr29K2CKYPz&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;object&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chat.completion&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;created&quot;</span><span class="punctuation">:</span> <span class="number">1682318336</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;model&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gpt-35-turbo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;usage&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;prompt_tokens&quot;</span><span class="punctuation">:</span> <span class="number">9</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;completion_tokens&quot;</span><span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;total_tokens&quot;</span><span class="punctuation">:</span> <span class="number">19</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Hey there! How can I assist you today?&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stop&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>By parsing this structure, you can obtain the reply content from GPT.</p>
<blockquote>
<p>Note: When calling GPT’s API, you need to manage the context of the conversation yourself. This means that every time you chat, you have to include the complete conversation information in <code>messages</code>. When the number of chat rounds increases, it will consume more tokens, so you should control the amount of context prudently.</p>
</blockquote>
<h2 id="Daily-Usage"><a href="#Daily-Usage" class="headerlink" title="Daily Usage"></a>Daily Usage</h2><p>Currently, I frequently use GPT to handle tasks such as:</p>
<ol>
<li>Translation, checking grammar errors, explaining words</li>
<li>Explaining, checking, optimizing given code</li>
<li>Optimizing description wording</li>
<li>Summarizing documents</li>
<li>Providing viewpoints Q/A</li>
<li>What Is It, letting GPT identify what the content might be and generating a regular expression</li>
<li>Letting GPT assume a role to answer questions</li>
<li>Generating topic outlines</li>
</ol>
<p>Let’s illustrate a few examples.</p>
<h3 id="Generating-Code"><a href="#Generating-Code" class="headerlink" title="Generating Code"></a>Generating Code</h3><ul>
<li>Sometimes, I need to write Python scripts, but there are too many libraries. In such cases, I can describe the requirements and have GPT generate code for reference.</li>
</ul>
<p>Using the example of the above POST API implementation, the question:</p>
<figure class="highlight txt"><figcaption><span>Question</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Convert the following curl command to Python code using the requests library: curl --location &#x27;https://api.openai.com/v1/chat/completions&#x27; \ --header &#x27;Content-Type: application/json&#x27; \ --header &#x27;Authorization: Bearer sk-xxxxxxxxxxxxxxxxxxxxxxxxxx&#x27; \ --data &#x27;&#123; &quot;model&quot;: &quot;gpt-3.5-turbo&quot;, &quot;messages&quot;: [&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Hello&quot;&#125;] &#125;&#x27;</span><br></pre></td></tr></table></figure>
<p>And GPT’s response:<br><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155058.png"></p>
<p>Within seconds, it produced the output.</p>
<h3 id="Explaining-Words"><a href="#Explaining-Words" class="headerlink" title="Explaining Words"></a>Explaining Words</h3><p>You can also let GPT explain a word and output it in tabular form:</p>
<figure class="highlight text"><figcaption><span>Question</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Please return the following about Text in a table:</span><br><span class="line">Item|Result</span><br><span class="line">Translate to English</span><br><span class="line">Phonetic transcription</span><br><span class="line">Part of speech</span><br><span class="line">Word form</span><br><span class="line">Chinese explanation</span><br><span class="line">Root and affix</span><br><span class="line">Example sentence 1 (Eng-Ch)</span><br><span class="line">Example sentence 2</span><br><span class="line">Example sentence 3</span><br><span class="line">Text: &#123;&#123;Input&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155328.png"></p>
<h3 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it"></a>What is it</h3><p>Give GPT a piece of content, let it recognize what it is, and provide a regular expression for the content.</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Analyze what the input content might be. Reply in three parts: Maybe, Desc, Regex. Maybe should indicate what it is most likely to be (require accuracy), Desc should provide a description of this thing, and Regex should provide the retrieval regular expression. Input content: https://imzlp.com/posts/96336/</span><br></pre></td></tr></table></figure>

<p>GPT-4’s response:</p>
<blockquote>
<p><strong>Maybe</strong>: Blog article link<br><strong>Desc</strong>: This is a link to a blog post on imzlp.com, and the article ID is likely 96336.<br><strong>Regex</strong>: <code>https?:\/\/imzlp\.com\/posts\/\d+\/</code></p>
</blockquote>
<h3 id="Checking-Code-Errors"><a href="#Checking-Code-Errors" class="headerlink" title="Checking Code Errors"></a>Checking Code Errors</h3><p>Give GPT a piece of code and let it analyze whether there are any issues; here’s an example code with an out-of-bounds array access:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> iArry[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> index = <span class="number">0</span>;index &lt;= <span class="number">10</span>; ++index)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,iArry[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The prompt fed to GPT-4 was:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Go line-by-line and do a detailed inspection of my code looking for bugs. If you see a bug, identify it. Explain what the bug is and provide a fix.</span><br><span class="line">Respond using Chinese and as a well-formatted markdown file that is organized into sections. Make sure to use code blocks.</span><br><span class="line">Inspect this code:</span><br><span class="line">int iArry[10] = &#123;0&#125;;</span><br><span class="line">for(int index = 0;index &lt;= 10; ++index)</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;%d&quot;,iArry[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>GPT’s output:</p>
<p><strong>Problem 1: Array Out-of-Bounds</strong><br><strong>Problem Description</strong><br>In the given loop, the number of iterations should be less than the length of the array. The current condition <code>index &lt;= 10</code> will access the 11th element of the array, causing an out-of-bounds error.  </p>
<p><strong>Solution</strong><br>Change the loop condition to <code>index &lt; 10</code>:  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> iArry[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> index = <span class="number">0</span>; index &lt; <span class="number">10</span>; ++index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, iArry[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Problem 2: Poor Output Format</strong><br><strong>Problem Description</strong><br>The current <code>printf</code> call does not include a newline character, which causes all output integers to display on the same line, making the output hard to read.<br><strong>Solution</strong><br>Add a newline character <code>\n</code> to the <code>printf</code> function:  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> iArry[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> index = <span class="number">0</span>; index &lt; <span class="number">10</span>; ++index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, iArry[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Result</strong><br>The revised code after fixing:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> iArry[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> index = <span class="number">0</span>; index &lt; <span class="number">10</span>; ++index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, iArry[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The results are truly amazing.</p>
<h2 id="Development-Exploration"><a href="#Development-Exploration" class="headerlink" title="Development Exploration"></a>Development Exploration</h2><h3 id="Natural-Language-Parsing-of-Compile-Errors"><a href="#Natural-Language-Parsing-of-Compile-Errors" class="headerlink" title="Natural Language Parsing of Compile Errors"></a>Natural Language Parsing of Compile Errors</h3><p>During development, a common issue is handling cross-platform errors in code.</p>
<p>Usually, when code is submitted, the CI triggers an automatic compilation. If problems occur, it throws errors, and the submitter needs to check the compilation log on the CI platform before addressing the issues.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424113422.png"></p>
<p>I think this process can be empowered by AI.</p>
<blockquote>
<p>AI parses the error log and generates a natural language description and solution.</p>
</blockquote>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424211842.png"></p>
<p>First, the regular expression to detect compilation error logs: <code>\((\d+)\):\s+error</code>. It can detect texts like <code>(459): error</code>, which can help identify all errors in the compiler log file.</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HotPatcherRuntime\Private\FlibPakHelper.cpp(459): error C2440: &#x27;initializing&#x27;: cannot convert from &#x27;FSharedPakReader&#x27; to &#x27;FArchive *&#x27;</span><br></pre></td></tr></table></figure>
<p>Then, feeding it to GPT-4 provides a description of the error log:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Error:</span><br><span class="line">HotPatcherRuntime\...\FlibPakHelper.cpp(459): error C2440</span><br><span class="line">- Type Conversion: &#x27;initializing&#x27; cannot convert from &#x27;FSharedPakReader&#x27; to &#x27;FArchive *&#x27;</span><br><span class="line"></span><br><span class="line">Solution:</span><br><span class="line">- Check variable types and conversion methods;</span><br><span class="line">- Modify the type conversion method to comply with C++11 syntax standards.</span><br></pre></td></tr></table></figure>
<p>Automate this process with a script:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python summerize_log.py --<span class="built_in">log</span> D:\Client\Compiler.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424114035.png"></p>
<p>Providing English error logs, it can still respond in Chinese:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">D:/Client/Source/GWorld/Skill/SkillMgr.cpp(922,10): error: implicit conversion of nullptr constant to &#x27;bool&#x27; [-Werror,-Wnull-conversion]</span><br><span class="line">                  return nullptr;</span><br><span class="line">                  ~~~~~~ ^~~~~~~</span><br><span class="line">                         false</span><br><span class="line">D:/Client/Source/GWorld/Skill/SkillMgr.cpp(954,10): error: implicit conversion of nullptr constant to &#x27;bool&#x27; [-Werror,-Wnull-conversion]</span><br><span class="line">                  return nullptr;</span><br><span class="line">                  ~~~~~~ ^~~~~~~</span><br><span class="line">                         false</span><br></pre></td></tr></table></figure>

<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424141053.png"></p>
<p>Integrating this into the CI process would automatically organize error information and send it to the corresponding developer, saving time spent checking logs.</p>
<h3 id="AzureCV-Combined-with-GPT"><a href="#AzureCV-Combined-with-GPT" class="headerlink" title="AzureCV Combined with GPT"></a>AzureCV Combined with GPT</h3><p>Currently, GPT does not support multimodal modes (maybe it will in the future), such as sending images to GPT for content analysis.</p>
<p>However, at this stage, Azure CV’s image detection can be utilized to indirectly achieve this. After Azure CV recognizes the image information, we can feed it to GPT to generate a natural language description.</p>
<p>The main process is as follows:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424141747.png"></p>
<p>Azure CV’s visual API can obtain information in images. The latest model version is <a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/azure/cognitive-services/computer-vision/how-to/call-analyze-image-40?tabs=rest">Image Analysis 4.0 Analyze API (preview)</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl --location <span class="string">&#x27;https://azure-cv-asia.cognitiveservices.azure.com/computervision/imageanalysis:analyze?features=read%2Ccaption%2Ccaption%2Cobjects%2Ctags%2Cpeople&amp;api-version=2023-02-01-preview&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Ocp-Apim-Subscription-Key: &lt;AZURE_CV_KEY&gt;&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \</span><br><span class="line">--data <span class="string">&#x27;&#123;&quot;url&quot;: &quot;https://learn.microsoft.com/azure/cognitive-services/computer-vision/images/windows-kitchen.jpg&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>By controlling the <code>features</code> attributes, you can get information from different categories:</p>
<table>
<thead>
<tr>
<th align="left">URL parameter</th>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>features</code></td>
<td align="left"><code>Read</code></td>
<td align="left">Reads the visible text in the image and outputs it as structured JSON data.</td>
</tr>
<tr>
<td align="left"><code>features</code></td>
<td align="left"><code>Caption</code></td>
<td align="left">Describes the image content with a complete sentence in supported languages.</td>
</tr>
<tr>
<td align="left"><code>features</code></td>
<td align="left"><code>DenseCaption</code></td>
<td align="left">Generates detailed captions for individual regions in the image.</td>
</tr>
<tr>
<td align="left"><code>features</code></td>
<td align="left"><code>SmartCrops</code></td>
<td align="left">Finds the rectangle coordinates that would crop the image to a desired aspect ratio while preserving the area of interest.</td>
</tr>
<tr>
<td align="left"><code>features</code></td>
<td align="left"><code>Objects</code></td>
<td align="left">Detects various objects within an image, including the approximate location. The Objects argument is only available in English.</td>
</tr>
<tr>
<td align="left"><code>features</code></td>
<td align="left"><code>Tags</code></td>
<td align="left">Tags the image with a detailed list of words related to the image content.</td>
</tr>
</tbody></table>
<p>By analyzing the results of the POST request, you can obtain image descriptions and elements within the scene (tags and locations):</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424142553.png"></p>
<p>Parsing this result allows you to generate a prompt for GPT-4 describing an image:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">description: a person using a laptop</span><br><span class="line">layout:</span><br><span class="line">1. At the position of right up, there is a kitchen appliance</span><br><span class="line">2. At the position of horizontal middle down, there is a computer keyboard</span><br><span class="line">3. At the position of middle, there is a Laptop</span><br><span class="line">4. At the position of right vertical middle, there is a person</span><br><span class="line">Images have the following labels (numbers in brackets are weights):computer(0.987),clothing(0.970),laptop(0.966),person(0.954),indoor(0.942),wall(0.887),woman(0.863),using(0.560)</span><br></pre></td></tr></table></figure>

<p>GPT-4 output:</p>
<blockquote>
<p>This is an indoor photo showing a woman in casual wear, sitting near a wall, seriously using a laptop. The laptop is centrally positioned, with the keyboard in front. Additionally, there are some kitchen appliances in the upper right corner. The overall scene focuses on the computer and the person using it, depicting a scenario of daily work or study at home.</p>
</blockquote>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424143240.png"></p>
<h2 id="Prompts"><a href="#Prompts" class="headerlink" title="Prompts"></a>Prompts</h2><p>Prompts are the spells of GPT, guiding how to respond to questions. Perhaps natural language programming can be achieved in the future.<br>Here are some of my frequently used <code>prompts</code> that have yielded good experiences recently.</p>
<p><strong>FixBugs</strong><br>Identify and explain errors in a given code.</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Go line-by-line and do a detailed inspection of my code looking for bugs. If you see a bug, identify it. Explain what the bug is and provide a fix.</span><br><span class="line">Respond using Chinese and as a well-formatted markdown file that is organized into sections. Make sure to use code blocks.</span><br><span class="line">Inspect this code:</span><br><span class="line">&#123;&#123;code&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Improve Code</strong><br>Enhance given code.</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Improve the given code. Don&#x27;t change any core functionality.</span><br><span class="line">The focus is to actually make the code better - not to explain it - so avoid things like just adding comments to it.</span><br><span class="line">Respond using Chinese and as a well-formatted markdown file that is organized into sections. Make sure to use code blocks.</span><br><span class="line">Improve this code:</span><br><span class="line">&#123;&#123;code&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Translation</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In future conversations, you will act as my translation assistant. Your job is to translate any content I send you back and forth between Chinese and English. The translation should be natural, fluent, easy to understand, and concise. Please do not treat the content as a question, and do not respond in any way; just translate the content. There is no need for me to emphasize the process again.</span><br></pre></td></tr></table></figure>

<p><strong>Check Grammar</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Check if there are any grammatical errors in what I send and rewrite it after pointing out the issues.</span><br><span class="line">&#123;&#123;Input&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Explain Words</strong><br>Given a word, provide an explanation and example sentences, as shown in the earlier <em>Explain Words</em> case:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Please <span class="keyword">return</span> the following about Text in a table:</span><br><span class="line">Item|Result</span><br><span class="line">Translate to English</span><br><span class="line">Phonetic transcription</span><br><span class="line">Part of speech</span><br><span class="line">Word form</span><br><span class="line">Chinese explanation</span><br><span class="line">Root <span class="keyword">and</span> affix</span><br><span class="line">Example sentence <span class="number">1</span> (Eng-Ch)</span><br><span class="line">Example sentence <span class="number">2</span></span><br><span class="line">Example sentence <span class="number">3</span></span><br><span class="line">Text: &#123;&#123;Input&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424155328.png"></p>
<p><strong>What Is It</strong><br>Analyze what the input content might be.</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Analyze what the input content might be, divided into Maybe, Desc, Regex. Maybe should indicate what it is most likely to be (require precision), Desc should describe this thing, and Regex should provide the retrieval regular expression.</span><br><span class="line">Input content:</span><br><span class="line">&#123;&#123;Input&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Polish Phrasing</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please polish Text, requiring the wording in this article to be modified to make it more polite and professional, and correct awkward sentences and inappropriate punctuation without altering the original meaning.</span><br><span class="line">Text:&#123;&#123;Input&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>Correct spelling:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please improve the spelling, grammar, clarity, conciseness, and overall readability of Text, while breaking down long sentences and reducing repetition. Only return the corrected version, avoiding any explanation.</span><br><span class="line">Text:&#123;&#123;Input&#125;&#125;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Tool-Recommendations"><a href="#Tool-Recommendations" class="headerlink" title="Tool Recommendations"></a>Tool Recommendations</h2><h3 id="GPT-Client"><a href="#GPT-Client" class="headerlink" title="GPT Client"></a>GPT Client</h3><p>There are numerous web-based GPT wrappers; I currently use my self-deployed <a target="_blank" rel="noopener" href="https://www.chatbotui.com/">chatbox-ui</a>, which allows you to enter your OpenAI Key for a ChatGPT-like experience. The GitHub repository is: <a target="_blank" rel="noopener" href="https://github.com/mckaywrigley/chatbot-ui">mckaywrigley/chatbot-ui</a>.</p>
<p>Its advantage is the ability to create prompt presets, making it convenient to call these presets.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424162042.png"></p>
<p>For <strong>iOS</strong>, I recommend <a target="_blank" rel="noopener" href="https://apps.apple.com/app/opencat/id6445999201">OpenCat</a>, which supports a custom host and integrates Azure’s language synthesis.</p>
<h3 id="Worker-Encapsulation-of-Azure-Services"><a href="#Worker-Encapsulation-of-Azure-Services" class="headerlink" title="Worker Encapsulation of Azure Services"></a>Worker Encapsulation of Azure Services</h3><p>As already mentioned, the API invocation method for Azure-hosted OpenAI differs from the official OpenAI API, making it inconvenient to use Azure in third-party encapsulated applications.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request POST <span class="string">&#x27;https://&#123;resource-name&#125;.openai.azure.com/openai/deployments/&#123;model-name&#125;/chat/completions?api-version=2023-03-15-preview&#x27;</span> \  </span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \  </span><br><span class="line">--header <span class="string">&#x27;api-key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#x27;</span> \  </span><br><span class="line">--data-raw <span class="string">&#x27;&#123;  </span></span><br><span class="line"><span class="string">    &quot;model&quot;: &quot;gpt-4&quot;,  </span></span><br><span class="line"><span class="string">    &quot;messages&quot;: [&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Hello!&quot;&#125;]  </span></span><br><span class="line"><span class="string">  &#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>However, you can create an API proxy using <a target="_blank" rel="noopener" href="https://developers.cloudflare.com/workers/">Cloudflare Worker</a> to automatically forward HTTP requests, making the calls between Azure and OpenAI match.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230424215604.png"></p>
<p>The script is as follows:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The name of your Azure OpenAI Resource.</span></span><br><span class="line"><span class="keyword">const</span> resourceName=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The deployment name you chose when you deployed the model.</span></span><br><span class="line"><span class="comment">// const deployName=&quot;deployment-name&quot;</span></span><br><span class="line"><span class="comment">// The mapping of model name.</span></span><br><span class="line"><span class="keyword">const</span> mapper = &#123;</span><br><span class="line">  <span class="string">&#x27;gpt-3.5-turbo&#x27;</span>: <span class="string">&#x27;gpt-35-turbo&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;gpt-4&#x27;</span>: <span class="string">&#x27;gpt-4&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;gpt-4-32k&#x27;</span>: <span class="string">&#x27;gpt-4-32k&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;text-embedding-ada-002&#x27;</span>: <span class="string">&#x27;text-embedding-ada-002&#x27;</span></span><br><span class="line">  <span class="comment">// Other mapping rules can be added here.</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> apiVersion=<span class="string">&quot;2023-03-15-preview&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(<span class="title function_">handleRequest</span>(event.<span class="property">request</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleRequest</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (request.<span class="property">method</span> === <span class="string">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">handleOPTIONS</span>(request)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">  <span class="keyword">if</span> (url.<span class="property">pathname</span> === <span class="string">&#x27;/v1/chat/completions&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> path=<span class="string">&quot;chat/completions&quot;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url.<span class="property">pathname</span> === <span class="string">&#x27;/v1/completions&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> path=<span class="string">&quot;completions&quot;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url.<span class="property">pathname</span> === <span class="string">&#x27;/v1/models&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">handleModels</span>(request)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url.<span class="property">pathname</span> === <span class="string">&#x27;/v1/embeddings&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> path=<span class="string">&quot;embeddings&quot;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&#x27;404 Not Found&#x27;</span>, &#123; <span class="attr">status</span>: <span class="number">404</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Get the value of the model field and perform mapping.</span></span><br><span class="line">  <span class="keyword">let</span> deployName;</span><br><span class="line">  <span class="keyword">let</span> body;</span><br><span class="line">  <span class="keyword">if</span> (request.<span class="property">method</span> === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    body = <span class="keyword">await</span> request.<span class="title function_">json</span>();</span><br><span class="line">    <span class="keyword">const</span> modelName = body?.<span class="property">model</span>;</span><br><span class="line">    <span class="keyword">if</span> (modelName) &#123;</span><br><span class="line">      deployName = mapper[modelName] || modelName;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> fetchAPI = <span class="string">`https://<span class="subst">$&#123;resourceName&#125;</span>.openai.azure.com/openai/deployments/<span class="subst">$&#123;deployName&#125;</span>/<span class="subst">$&#123;path&#125;</span>?api-version=<span class="subst">$&#123;apiVersion&#125;</span>`</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> authKey = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&#x27;Authorization&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!authKey) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Not allowed&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="number">403</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> realKey = authKey.<span class="title function_">replace</span>(<span class="string">&#x27;Bearer &#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> payload = &#123;</span><br><span class="line">    <span class="attr">method</span>: request.<span class="property">method</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">      <span class="string">&quot;api-key&quot;</span>: realKey,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="keyword">typeof</span> body === <span class="string">&#x27;object&#x27;</span> ? <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(body) : <span class="string">&#x27;&#123;&#125;&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> &#123; readable, writable &#125; = <span class="keyword">new</span> <span class="title class_">TransformStream</span>()</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(fetchAPI, payload);</span><br><span class="line">  <span class="title function_">stream</span>(response.<span class="property">body</span>, writable);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(readable, response);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sleep</span>(<span class="params">ms</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, ms));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// support printer mode and add newline</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">stream</span>(<span class="params">readable, writable</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> reader = readable.<span class="title function_">getReader</span>();</span><br><span class="line">  <span class="keyword">const</span> writer = writable.<span class="title function_">getWriter</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> encoder = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>();</span><br><span class="line">  <span class="keyword">const</span> decoder = <span class="keyword">new</span> <span class="title class_">TextDecoder</span>();</span><br><span class="line">  <span class="keyword">const</span> newline = <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> delimiter = <span class="string">&quot;\n\n&quot;</span></span><br><span class="line">  <span class="keyword">const</span> encodedNewline = encoder.<span class="title function_">encode</span>(newline);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> buffer = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; value, done &#125; = <span class="keyword">await</span> reader.<span class="title function_">read</span>();</span><br><span class="line">    <span class="keyword">if</span> (done) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    buffer += decoder.<span class="title function_">decode</span>(value, &#123; <span class="attr">stream</span>: <span class="literal">true</span> &#125;); </span><br><span class="line">    <span class="keyword">let</span> lines = buffer.<span class="title function_">split</span>(delimiter);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lines.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">await</span> writer.<span class="title function_">write</span>(encoder.<span class="title function_">encode</span>(lines[i] + delimiter));</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">sleep</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    buffer = lines[lines.<span class="property">length</span> - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (buffer) &#123;</span><br><span class="line">    <span class="keyword">await</span> writer.<span class="title function_">write</span>(encoder.<span class="title function_">encode</span>(buffer));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">await</span> writer.<span class="title function_">write</span>(encodedNewline)</span><br><span class="line">  <span class="keyword">await</span> writer.<span class="title function_">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleModels</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="string">&quot;object&quot;</span>: <span class="string">&quot;list&quot;</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: [ &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;gpt-3.5-turbo&quot;</span>,</span><br><span class="line">      <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model&quot;</span>,</span><br><span class="line">      <span class="string">&quot;created&quot;</span>: <span class="number">1677610602</span>,</span><br><span class="line">      <span class="string">&quot;owned_by&quot;</span>: <span class="string">&quot;openai&quot;</span>,</span><br><span class="line">      <span class="string">&quot;permission&quot;</span>: [&#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;modelperm-M56FXnG1AsIr3SXq8BYPvXJA&quot;</span>,</span><br><span class="line">        <span class="string">&quot;object&quot;</span>: <span class="string">&quot;model_permission&quot;</span>,</span><br><span class="line">        <span class="string">&quot;created&quot;</span>: <span class="number">1679602088</span>,</span><br><span class="line">        <span class="string">&quot;allow_create_engine&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;allow_sampling&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;allow_logprobs&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;allow_search_indices&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;allow_view&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;allow_fine_tuning&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;organization&quot;</span>: <span class="string">&quot;*&quot;</span>,</span><br><span class="line">        <span class="string">&quot;group&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;is_blocking&quot;</span>: <span class="literal">false</span></span><br><span class="line">      &#125;],</span><br><span class="line">      <span class="string">&quot;root&quot;</span>: <span class="string">&quot;gpt-3.5-turbo&quot;</span>,</span><br><span class="line">      <span class="string">&quot;parent&quot;</span>: <span class="literal">null</span></span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data, <span class="literal">null</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(json, &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleOPTIONS</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="literal">null</span>, &#123;</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>: <span class="string">&#x27;*&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Additionally, you can bind a domain to Cloudflare Worker, allowing for an experience similar to OpenAI’s:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl --location <span class="string">&#x27;https://openai.imzlp.com/v1/chat/completions&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Authorization: Bearer xxxxxxxxxxxxxxxxxxxxxxxxx&#x27;</span> \</span><br><span class="line">--data <span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">    &quot;model&quot;: &quot;gpt-3.5-turbo&quot;,</span></span><br><span class="line"><span class="string">    &quot;messages&quot;: [&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Hello&quot;&#125;]</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>This seamlessly supports all GPT clients that allow modifying the API Host, as well as streaming messages, making it very convenient.</p>
<h3 id="Translate-EPUB-eBooks"><a href="#Translate-EPUB-eBooks" class="headerlink" title="Translate EPUB eBooks"></a>Translate EPUB eBooks</h3><p>You can use <a target="_blank" rel="noopener" href="https://github.com/yihong0618/bilingual_book_maker">bilingual_book_maker</a>.</p>
<p>Use the following command to translate:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python make_book.py --book_name test_books/animal_farm.epub --openai_key xxxxxxxxxxxxxx --api_base https://api.openai.com/v1 --language zh-hans --model openai --model_list gpt-4o-mini</span><br></pre></td></tr></table></figure>

<p>If it fails midway, you can continue with the <code>--resume</code> parameter:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python make_book.py --book_name test_books/8020.epub --openai_key sk-xxxxxxx --api_base https://api.openai.com/v1 --language zh-hans --model openai --model_list gpt-4o-mini --resume</span><br></pre></td></tr></table></figure>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/71467/" target="_blank">Using AI to help with daily life and development exploration</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2023/04/24 17:01<br/>
             
             <span>Word Count:</span><span class="page-count">8.1k Words</span><br/>
             
             <span>Link:</span><a href="/posts/71467/" target="_blank" title="Using AI to help with daily life and development exploration">https://en.imzlp.com/posts/71467/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/71467/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag"># 随笔</a>
              <a href="/tags/%E5%BE%AA%E8%BF%B9%E7%A0%94%E7%A9%B6/" rel="tag"># 循迹研究</a>
              <a href="/tags/AI/" rel="tag"># AI</a>
              <a href="/tags/GPT/" rel="tag"># GPT</a>
              <a href="/tags/OpenAI/" rel="tag"># OpenAI</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/50293/" rel="prev" title="UE build improvement: optimize the implementation of remote build IOS">
      <i class="fa fa-chevron-left"></i> UE build improvement: optimize the implementation of remote build IOS
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/96336/" rel="next" title="DevOps: CI/CD Practices for Unreal Engine">
      DevOps: CI/CD Practices for Unreal Engine <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#API-Request"><span class="nav-number">1.</span> <span class="nav-text">API Request</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Daily-Usage"><span class="nav-number">2.</span> <span class="nav-text">Daily Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Generating-Code"><span class="nav-number">2.1.</span> <span class="nav-text">Generating Code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Explaining-Words"><span class="nav-number">2.2.</span> <span class="nav-text">Explaining Words</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-it"><span class="nav-number">2.3.</span> <span class="nav-text">What is it</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Checking-Code-Errors"><span class="nav-number">2.4.</span> <span class="nav-text">Checking Code Errors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Development-Exploration"><span class="nav-number">3.</span> <span class="nav-text">Development Exploration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Natural-Language-Parsing-of-Compile-Errors"><span class="nav-number">3.1.</span> <span class="nav-text">Natural Language Parsing of Compile Errors</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AzureCV-Combined-with-GPT"><span class="nav-number">3.2.</span> <span class="nav-text">AzureCV Combined with GPT</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Prompts"><span class="nav-number">4.</span> <span class="nav-text">Prompts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-Recommendations"><span class="nav-number">5.</span> <span class="nav-text">Tool Recommendations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GPT-Client"><span class="nav-number">5.1.</span> <span class="nav-text">GPT Client</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Worker-Encapsulation-of-Azure-Services"><span class="nav-number">5.2.</span> <span class="nav-text">Worker Encapsulation of Azure Services</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Translate-EPUB-eBooks"><span class="nav-number">5.3.</span> <span class="nav-text">Translate EPUB eBooks</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/71467/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-tilt-brush.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-tilt-brush.png">
  <link rel="mask-icon" href="/images/favicon-32x32-tilt-brush.png" color="#222">
  <meta name="google-site-verification" content="ttIkhAIFZQM9Huj8roB0l95ePN2Tv2zv2wRFksi09WA">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Pacifico:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"en.imzlp.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"width":280},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"manual"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"code_unfold":{"enable":true,"CODE_MAX_HEIGHT":600},"path":"search.xml"};
  </script>

  <meta name="description" content="In the UE engine, a large number of configurations are set and controlled using ini files. For projects, understanding which of these can be updated can help establish rules for updating the project.">
<meta property="og:type" content="article">
<meta property="og:title" content="UE Hot Update: Config Overloading and Apply">
<meta property="og:url" content="https://en.imzlp.com/posts/9028/index.html">
<meta property="og:site_name" content="Z&#39;s Blog">
<meta property="og:description" content="In the UE engine, a large number of configurations are set and controlled using ini files. For projects, understanding which of these can be updated can help establish rules for updating the project.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img.imzlp.com/imgs/zlp/picgo/2022/202302051824733.webp">
<meta property="article:published_time" content="2021-10-18T14:57:38.000Z">
<meta property="article:modified_time" content="2021-10-18T14:57:38.000Z">
<meta property="article:author" content="LIPENGZHA">
<meta property="article:tag" content="UnrealEngine">
<meta property="article:tag" content="热更新">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.imzlp.com/imgs/zlp/picgo/2022/202302051824733.webp">

<link rel="canonical" href="https://en.imzlp.com/posts/9028/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>UE Hot Update: Config Overloading and Apply | Z's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDCJ41EFP5"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FDCJ41EFP5');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Z's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Z's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        
            
  <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-edit fa-fw"></i>Notes</a>

  </li>


      
        
            
  <li class="menu-item menu-item-essay">

    <a href="/essay/" rel="section"><i class="fas fa-feather-alt fa-fw"></i>Essay</a>

  </li>


      
        
            
  <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-inbox fa-fw"></i>Resources</a>

  </li>


      
        <li class="menu-item menu-item-friends">

    <a href="/friends/" rel="section"><i class="fas fa-link fa-fw"></i>Friends</a>

  </li>
        
            
  <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>


      
        <li class="menu-item menu-item-showcase">

    <a href="/showcase/" rel="section"><i class="fa fa-solid fa-trophy fa-fw"></i>ShowCase</a>

  </li>
        <li class="menu-item menu-item-changelog">

    <a href="/changelog/" rel="section"><i class="fa fa-history fa-fw"></i>Site Log</a>

  </li>
        <li class="menu-item menu-item-opensource">

    <a href="/opensource/" rel="section"><i class="fas fa-code-branch fa-fw"></i>Open Source</a>

  </li>
        <li class="menu-item menu-item-uewiki">

    <a href="https://ue5wiki.com/" rel="noopener" target="_blank"><i class="fab fa-wikipedia-w fa-fw"></i>Unreal Wiki</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>



<script type="text/javascript">
  let domain='en.imzlp.com';
  let domain_str = atob(domain);
  let pathname = location.pathname;
  if (domain_str!= location.host.toLowerCase()){
        console.log(`this host is not safe,jump to https://${domain_str}${pathname}`);
        location.href=`https://${domain_str}${pathname}`;
  }
</script>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <div class="l10n-header-widget">
    <script>
      // 获取当前页面的 URL
      const currentUrl = window.location.href;
      // 替换 URL 中的部分内容
      const jumpToL10nLink = currentUrl.replace('en.imzlp.com', 'imzlp.com');
      // 将 jumpToL10nLink 绑定到一个全局变量
      window.jumpToL10nLink = jumpToL10nLink;
    </script>

    <a href="#" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: none;" rel="noopener" target="_blank" onclick="window.open(window.jumpToL10nLink, '_blank'); return false;">
      <i class="fa fa-solid fa-language"></i>
    </a>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en"
  >
    <link itemprop="mainEntityOfPage" href="https://en.imzlp.com/posts/9028/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
      <meta itemprop="name" content="LIPENGZHA">
      <meta itemprop="description" content=""I think, therefore I am"">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Z's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          UE Hot Update: Config Overloading and Apply<a href="https://github.com/imzlp/blog-md/blob/en/_posts/2021-10-18-9028.md" class="post-edit-link" title="Edit this post" style="float: right;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a><a href="https://imzlp.com/posts/9028/" class="post-l10n-link" title="切换至中文版本" style="float: left;border-bottom: 0px;" rel="noopener" target="_blank"><i class="fa fa-solid fa-language"></i></a>
        </h1>

        
          <div class="post-subtitle" style="text-align: center;line-height: 1;">
            <sub text-align="center" style="font-size: 15px;align-content: center;font-style: italic;bottom: 0em;">UE热更新：Config的重载与应用</sub>
          </div>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-18 14:57 14:57:38:57" itemprop="dateCreated datePublished" datetime="2021-10-18T14:57:38+00:00">2021-10-18 14:57</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/" itemprop="url" rel="index"><span itemprop="name">UnrealEngine</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UnrealEngine/%E7%83%AD%E6%9B%B4%E6%96%B0/" itemprop="url" rel="index"><span itemprop="name">热更新</span></a>
                </span>
            </span>

          
            <span id="/posts/9028/" class="post-meta-item leancloud_visitors" data-flag-title="UE Hot Update: Config Overloading and Apply" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>8.1k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>20 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>In the UE engine, a large number of configurations are set and controlled using ini files. For projects, understanding which of these can be updated can help establish rules for updating the project. Moreover, many functionalities in UE are realized through configurations and dynamic switches, such as CVars, as well as Device Profiles settings for specific platforms or devices, which can similarly implement dynamic dispatch and application of configurations during hot updates.</p>
<p>This article analyzes the loading process of ini config from the engine mechanism, how different config modules are reloaded after hot updates, and how to apply them in projects, focusing on the runtime modification and reapplication of parameters in the engine or project based on ini configuration hot updates, enhancing the ability to update games.</p>
<span id="more"></span>

<p>Before studying how to update ini files, we first need to analyze how the engine loads ini and applies it to the game. Previously, I wrote an article analyzing the loading mechanism of GConfig: <a target="_blank" rel="noopener" href="https://imzlp.com/posts/2386/">Analyzing UE Code: GConfig Loading</a>. By default, ini files are loaded when the engine starts, and they are one of the first files to be loaded; subsequent engine module startups rely on these configurations. The official documentation: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.26/en-US/ProductionPipelines/ConfigurationFiles/">Configuration Files</a>.</p>
<p>The engine also has a loading phase for the order of Module loading called <code>PostConfigInit</code>, which ensures that modules are started only after the configuration files are loaded, avoiding cases where the configuration files cannot be read:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Phase at which this module should be loaded during startup.</span></span><br><span class="line"><span class="keyword">namespace</span> ELoadingPhase</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">enum</span> <span class="title class_">Type</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">/** As soon as possible - in other words, uplugin files are loadable from a pak file (as well as right after PlatformFile is set up in case pak files aren&#x27;t used) Used for plugins needed to read files (compression formats, etc) */</span></span><br><span class="line">    EarliestPossible,</span><br><span class="line">    <span class="comment">/** Loaded before the engine is fully initialized, immediately after the config system has been initialized.  Necessary only for very low-level hooks */</span></span><br><span class="line">    PostConfigInit,</span><br><span class="line">    <span class="comment">/** The first screen to be rendered after system splash screen */</span></span><br><span class="line">    PostSplashScreen,</span><br><span class="line">    <span class="comment">/** Loaded before coreUObject for setting up manual loading screens, used for our chunk patching system */</span></span><br><span class="line">    PreEarlyLoadingScreen,</span><br><span class="line">    <span class="comment">/** Loaded before the engine is fully initialized for modules that need to hook into the loading screen before it triggers */</span></span><br><span class="line">    PreLoadingScreen,</span><br><span class="line">    <span class="comment">/** Right before the default phase */</span></span><br><span class="line">    PreDefault,</span><br><span class="line">    <span class="comment">/** Loaded at the default loading point during startup (during engine init, after game modules are loaded.) */</span></span><br><span class="line">    Default,</span><br><span class="line">    <span class="comment">/** Right after the default phase */</span></span><br><span class="line">    PostDefault,</span><br><span class="line">    <span class="comment">/** After the engine has been initialized */</span></span><br><span class="line">    PostEngineInit,</span><br><span class="line">    <span class="comment">/** Do not automatically load this module */</span></span><br><span class="line">    None,</span><br><span class="line">    <span class="comment">// <span class="doctag">NOTE:</span> If you add a new value, make sure to update the ToString() method below!</span></span><br><span class="line">    Max</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>The code that starts the engine:</p>
<figure class="highlight cpp"><figcaption><span>Runtime\Launch\Private\LaunchEngineLoop.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">FEngineLoop::AppInit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">SCOPED_BOOT_TIMING</span>(<span class="string">&quot;FConfigCacheIni::InitializeConfigSystem&quot;</span>);</span><br><span class="line">    <span class="built_in">LLM_SCOPE</span>(ELLMTag::ConfigSystem);</span><br><span class="line">    <span class="comment">// init config system</span></span><br><span class="line">    FConfigCacheIni::<span class="built_in">InitializeConfigSystem</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  FDelayedAutoRegisterHelper::<span class="built_in">RunAndClearDelayedAutoRegisterDelegates</span>(EDelayedRegisterRunPhase::IniSystemReady);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Load &quot;asap&quot; plugin modules</span></span><br><span class="line">  IPluginManager&amp;  PluginManager = IPluginManager::<span class="built_in">Get</span>();</span><br><span class="line">  IProjectManager&amp; ProjectManager = IProjectManager::<span class="built_in">Get</span>();</span><br><span class="line">  <span class="keyword">if</span> (!ProjectManager.<span class="built_in">LoadModulesForProject</span>(ELoadingPhase::EarliestPossible) || !PluginManager.<span class="built_in">LoadModulesForEnabledPlugins</span>(ELoadingPhase::EarliestPossible))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>At the end of the <code>FEngineLoop::AppInit</code> function, <code>FCoreDelegates::OnInit.Broadcast();</code> is executed. This Delegate is bound to <code>InitUObject()</code> in <code>FCoreUObjectModule&#39;s</code> StartupModule, which initializes UObject in the engine. At this stage, the Config has also been fully loaded, so creating UObject can correctly read data from Config.</p>
<p>The article <a target="_blank" rel="noopener" href="https://imzlp.com/posts/2386/">Analyzing UE Code: GConfig Loading</a> describes the ini file loading process performed by <code>FConfigCacheIni::InitializeConfigSystem</code>, which we will not repeat here. It can be understood that after the execution completes, the Config is in a usable state.</p>
<h3 id="Hierarchy-and-Priority-of-Ini-Files"><a href="#Hierarchy-and-Priority-of-Ini-Files" class="headerlink" title="Hierarchy and Priority of Ini Files"></a>Hierarchy and Priority of Ini Files</h3><p>Here are several aspects to note regarding updating UE’s ini files:</p>
<ol>
<li>Configurations of the same category in UE are composed of multiple levels of ini file hierarchy.</li>
<li>Ini files at different levels have different priorities, where higher priority values will overwrite lower priority ones.</li>
</ol>
<p>Taking the Engine configuration as an example, there are 28 configurational files that can be configured within the engine, and other category configurations like Game/Input/DeviceProfiles, etc., are similar (UE4.25):</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211011112250.webp" alt="Engine"><br><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211012153156.webp" alt="DeviceProfiles"></p>
<p>These files (if they exist) can all be loaded and are arranged in ascending order of priority. This means that options in <code>PROJECT_DIR/Config/DefaultEngine.ini</code> can replace those in <code>ENGINE_DIR/Config/BaseEngine.ini</code>.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211012191346.webp"></p>
<p>In typical project development, by default, the project attributes are usually configured in <code>DefaultEngine.ini</code>, while configurations for a specific platform are in <code>Config/Windows/WindowsEngine.ini</code>. It is rare to have so many configuration files, which can lead to a certain degree of confusion.</p>
<p>Thus, during updates, one can directly use <code>Config/Default*.ini</code> and <code>Config/PLATFORM/PLATFORM*.ini</code> for updates. It’s also possible to use files that originally did not exist for updates, such as if <code>Config/UserEngine.ini</code> did not exist in the project, one can write the needed configuration changes to this file during updates and read them during runtime to <strong>append to the engine</strong>, and it is also supported in the automatic mounting method since the priority of <code>Config/User*.ini</code> is the highest.</p>
<p>To enable ini updates, one must implement:</p>
<ol>
<li>Packing specified ini files during updates.</li>
<li>Being able to obtain the already loaded FConfigFile instances in the engine based on the update information and append the new configurations.</li>
<li>Updating the data in UObject objects that use the new configurations.</li>
</ol>
<h3 id="Loading-Config-in-UObject"><a href="#Loading-Config-in-UObject" class="headerlink" title="Loading Config in UObject"></a>Loading Config in UObject</h3><p>Before handling updates, it’s necessary to understand the process of loading config in UObject (only CDO of classes marked as <code>Config</code> will execute loading). The stack is as follows:</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/image-20210918155129906.webp" alt="UObject loading data from Ini"></p>
<p>The general process is:</p>
<ol>
<li>Check whether UClass has the <code>CLASS_Config</code> flag.</li>
<li>Check whether the Property has the <code>CPF_Config</code> flag.</li>
<li>Deserialize the attributes of CDO from strings.</li>
</ol>
<p>For example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UCLASS</span>(config=GameUserSettings)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ENGINE_API</span> UGameConfig : <span class="keyword">public</span> UObject</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">UPROPERTY</span>(Config)</span><br><span class="line">  FString GCloudGameID;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210918170331.webp"></p>
<p>In this class, the UCLASS is appended with <code>Config</code>, and UHT generates the <code>CLASS_Config</code> flag for its UClass. Furthermore, the data member <code>ival</code> of this class also adds <code>Config</code> in <code>UPROPERTY</code>, increasing <code>CPF_Config</code> flag for the current property’s <code>FProperty</code>, thus achieving unity between code and loading.</p>
<p>The specific loading implementation can be found in the <code>CoreUObject\Private\UObject\Obj.cpp</code> file’s <code>LoadConfig</code> function.</p>
<p>When creating non-CDO objects, all properties are copied from CDO (after the constructor executes):</p>
<figure class="highlight cpp"><figcaption><span>UObjectGlobals.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Binary initialize object properties to zero or defaults.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FObjectInitializer::InitProperties</span><span class="params">(UObject* Obj, UClass* DefaultsClass, UObject* DefaultData, <span class="type">bool</span> bCopyTransientsFromClassDefaults)</span></span>;</span><br></pre></td></tr></table></figure>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210918171756.webp"></p>
<p>Therefore, the use of Config tagged by UObject affects game use in two steps:</p>
<ol>
<li>Load ini at engine startup, create CDO, and read configurations from ini.</li>
<li>When creating Non-CDO objects, copy data from CDO.</li>
</ol>
<p>If one wishes to override the configuration values in ini, they cannot be directly written in the constructor because the timing of LoadConfig occurs later than the constructor. However, one can override the <code>PostInitProperties</code> function, which is called after LoadConfig:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PostInitProperties</span><span class="params">()</span><span class="keyword">override</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="Updating-Configuration-Values-in-UObject"><a href="#Updating-Configuration-Values-in-UObject" class="headerlink" title="Updating Configuration Values in UObject"></a>Updating Configuration Values in UObject</h3><p>In terms of the need for hot updates, for the Config used by UObject, we can intervene in the process before the object is created to modify the CDO, and after the CDO is created, we can also call ReloadConfig on the objects to reload from file.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">UFlibUGConfigReloadHelper::ReloadIniFile</span><span class="params">(<span class="type">const</span> FString&amp; StrippedName,<span class="type">const</span> FString&amp; File)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  FConfigFile* ConfigFile = <span class="built_in">GetConfigFile</span>(StrippedName);</span><br><span class="line">  <span class="keyword">if</span>(!ConfigFile)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!ConfigFile-&gt;<span class="built_in">Combine</span>(File))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  TArray&lt;UObject*&gt; Classes;</span><br><span class="line">  <span class="built_in">GetObjectsOfClass</span>(UClass::<span class="built_in">StaticClass</span>(), Classes, <span class="literal">true</span>, RF_NoFlags);</span><br><span class="line">  <span class="keyword">for</span> (UObject* ClassObject : Classes)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (UClass* <span class="type">const</span> Class = <span class="built_in">Cast</span>&lt;UClass&gt;(ClassObject))</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (Class-&gt;<span class="built_in">HasAnyClassFlags</span>(CLASS_Config) &amp;&amp;</span><br><span class="line">      Class-&gt;ClassConfigName.<span class="built_in">IsEqual</span>(*StrippedName))</span><br><span class="line">      &#123;</span><br><span class="line">        TArray&lt;UObject*&gt; Objects;</span><br><span class="line">        <span class="built_in">GetObjectsOfClass</span>(Class, Objects, <span class="literal">true</span>, RF_NoFlags);</span><br><span class="line">        <span class="keyword">for</span> (UObject* Object : Objects)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">if</span> (!Object-&gt;<span class="built_in">IsPendingKill</span>())</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">// Force a reload of the config vars</span></span><br><span class="line">            Object-&gt;<span class="built_in">ReloadConfig</span>();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As shown in the code, first obtain all UClasses that have the Config flag in the engine, and ensure that the ini name bound to the Class matches with the ini that needs to be reloaded. Then iterate through each instance of UClass and call ReloadConfig on them.</p>
<blockquote>
<p>Note: In the above code, the corresponding <code>FConfigFile</code> instance is modified first because the old ini file is already loaded at engine startup and stored in <code>FConfigFile</code>. Before calling ReloadConfig, it needs to be updated first, so that ReloadConfig can read new data from GConfig.</p>
</blockquote>
<h3 id="Console-Variables"><a href="#Console-Variables" class="headerlink" title="Console Variables"></a>Console Variables</h3><p>In UE, Console Variables can be used as a way to pass data between modules. In my previous notes, I mentioned ways to obtain and modify Console Variables at runtime: <a target="_blank" rel="noopener" href="https://imzlp.com/notes/ue/#%E8%AE%BE%E7%BD%AEConsoleVariables%E5%80%BC%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F">Various Ways to Set ConsoleVariables Values</a>.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211015123511.webp"></p>
<p>There are two methods for automatically applying Console Variable values during engine startup:</p>
<ol>
<li>Settings can be made in <code>Engine/Config/ConsoleVariables.ini</code> under <code>[Startup]</code>:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Startup]</span><br><span class="line">r.ShaderPipelineCache.Enabled=0</span><br><span class="line">r.ShaderPipelineCache.LogPSO=0</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Specifying them in the Engine category ini hierarchy (like <code>DefaultEngine.ini</code>), under <code>[ConsoleVariables]</code>:</li>
</ol>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[ConsoleVariables]</span></span><br><span class="line"><span class="attr">r.ShaderPipelineCache.Enabled</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">r.ShaderPipelineCache.LogPSO</span>=<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>When we update the Engine category’s FConfigCache, we can call the following function:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">::<span class="built_in">ApplyCVarSettingsFromIni</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;ConsoleVariables&quot;</span>), *GEngineIni, ECVF_SetBySystemSettingsIni);</span><br></pre></td></tr></table></figure>
<p>to apply the latest CVars values from <code>[ConsoleVariables]</code>. If one wishes to update both settings in <code>[Startup]</code> of <code>ConsoleVariable.ini</code> and the settings in <code>[ConsoleVariables]</code>, one can call:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FConfigCacheIni::<span class="built_in">LoadConsoleVariablesFromINI</span>();</span><br></pre></td></tr></table></figure>
<p>This will first apply from <code>[Startup]</code>, followed by applying from <code>[ConsoleVariables]</code>.</p>
<p>The update process steps are:</p>
<ol>
<li>Reload the Engine category ini files.</li>
<li>Call the ApplyCVarSettingsFromIni function.</li>
</ol>
<h3 id="Device-Profiles"><a href="#Device-Profiles" class="headerlink" title="Device Profiles"></a>Device Profiles</h3><p>Device Profiles is a method in UE for setting parameters for specific platforms or devices. The official documentation: <a target="_blank" rel="noopener" href="https://docs.unrealengine.com/4.27/en-US/SharingAndReleasing/DeviceProfiles/">Setting Device Profiles</a>. It can be used to achieve performance and parameter adaptations across different platforms and devices.</p>
<p>The default provided configurations of platform/device names with ini platform names in the engine: <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/99b6e203a15d04fc7bbbf554c421a985c1ccb8f1/Engine/Config/BaseDeviceProfiles.ini#L6">BaseDeviceProfiles.ini#L6</a> are stored under <code>DeviceProfiles</code> in <code>*DeviceProfiles.ini</code>, with the values of <code>DeviceProfileNameAndTypes</code>. The <a target="_blank" rel="noopener" href="https://github.com/EpicGames/UnrealEngine/blob/99b6e203a15d04fc7bbbf554c421a985c1ccb8f1/Engine/Config/BaseDeviceProfiles.ini">BaseDeviceProfiles.ini</a> includes dependencies for profiles, device specifications, iOS device mappings, specific device configurations, etc., and settings in your own project can refer to these.</p>
<p>Moreover, UE’s Device Profiles support inheritance, like iPhoneX-&gt;IOS_High-&gt;IOS-&gt;Mobile, which conveniently allows configuration reuse.<br><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20210610101046.webp"></p>
<p>The <code>UDeviceProfile</code> class is also marked as <code>Config</code> and is <code>perObjectConfig</code>, meaning each object’s configuration will be saved and loaded separately. In simple terms, the loading of Device Profiles is essentially the creation of many objects, each saving its configuration information for its platform or device. The Name passed in <code>NewObject&lt;UDeviceProfile&gt;</code> is the platform name.</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211012162513.webp"></p>
<p>When creating a UDeviceProfile, it automatically loads from the ini (stack of <code>NewObject&lt;UDeviceProfile&gt;</code>):</p>
<p><img data-src="https://img.imzlp.com/imgs/zlp/picgo/2021/20211012164511.webp"></p>
<p>Since the loading of Device Profiles configurations also follows the default LoadConfig process, we can update UDeviceProfiles following the steps in <strong>Updating Configuration Values in UObject</strong>; we can obtain all UDeviceProfile instances and call ReloadConfig on them and also call it on their Parent Profiles (Parent Profiles are also UDeviceProfile objects):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UFlibUGConfigReloadHelper::RecursiveReloadDeviceProfile</span><span class="params">(UDeviceProfile* Profile)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!Profile-&gt;<span class="built_in">IsPendingKill</span>())</span><br><span class="line">  &#123;</span><br><span class="line">    Profile-&gt;<span class="built_in">LoadConfig</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(Profile-&gt;Parent &amp;&amp; !Profile-&gt;<span class="built_in">IsPendingKill</span>())</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">RecursiveReloadDeviceProfile</span>(<span class="built_in">Cast</span>&lt;UDeviceProfile&gt;(Profile-&gt;Parent));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UFlibUGConfigReloadHelper::ReloadDeviceProfiles</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (UObject* Profile : UDeviceProfileManager::<span class="built_in">Get</span>().Profiles)</span><br><span class="line">  &#123;</span><br><span class="line">    UDeviceProfile* <span class="type">const</span> DeviceProfile = <span class="built_in">Cast</span>&lt;UDeviceProfile&gt;(Profile);</span><br><span class="line">    <span class="keyword">if</span>(!DeviceProfile-&gt;<span class="built_in">IsPendingKill</span>())</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">RecursiveReloadDeviceProfile</span>(DeviceProfile);</span><br><span class="line">      DeviceProfile-&gt;<span class="built_in">ValidateProfile</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// UDeviceProfileManager::Get().OnManagerUpdated().Broadcast();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>After that, one can call <code>ReapplyDeviceProfile</code> from <code>UDeviceProfileManager</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UDeviceProfileManager::<span class="built_in">Get</span>().<span class="built_in">ReapplyDeviceProfile</span>();</span><br></pre></td></tr></table></figure>

<h3 id="GameUserSettings"><a href="#GameUserSettings" class="headerlink" title="GameUserSettings"></a>GameUserSettings</h3><p>After overriding the configuration of <code>GameUserSettings</code>, one can call <code>ApplySettings</code> for application:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UFlibUGConfigReloadHelper::ReapplyGameUserSettings</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  GEngine-&gt;<span class="built_in">GetGameUserSettings</span>()-&gt;<span class="built_in">LoadSettings</span>(<span class="literal">true</span>);</span><br><span class="line">  GEngine-&gt;<span class="built_in">GetGameUserSettings</span>()-&gt;<span class="built_in">ApplySettings</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>ApplySettings</code> code is as follows:</p>
<figure class="highlight cpp"><figcaption><span>GameUserSettings.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UGameUserSettings::ApplySettings</span><span class="params">(<span class="type">bool</span> bCheckForCommandLineOverrides)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">ApplyResolutionSettings</span>(bCheckForCommandLineOverrides);</span><br><span class="line">  <span class="built_in">ApplyNonResolutionSettings</span>();</span><br><span class="line">  <span class="built_in">RequestUIUpdate</span>();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">SaveSettings</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>The loading of various configuration files in UE is actually based on the hierarchical update of UE’s ini files. First, the values in GConfig need to be updated, and then applied to different modules. This article enumerates several different configurations’ reloading and application; other unlisted situations can be handled in the same way.</p>

    </div>

    
    
        
        
          
            <blockquote class="blockquote-center">
              
                The article is finished. If you have any questions, please comment and communicate.
              
            <br/>
            
                <div class="qr-code" onclick="return false">
                    <script src="/js/qrcode.min.js"></script>
                    <div id="qrcode">
                      
                        <img src="https://imzlp.com/images/wechat-qrcode.webp">
                      
                    <p>Scan the QR code on WeChat and follow me.</p>
                    </div>
                </div>
            
            </blockquote>
          
        

        
          <div class="postCopyright" style="clear:both;">
             <span>Title:</span><a href="/posts/9028/" target="_blank">UE Hot Update: Config Overloading and Apply</a><br/>
             <span>Author:</span><a href="/about" target="_blank" title="查看 LIPENGZHA 的资料">LIPENGZHA</a><br/>
             <span>Publish Date:</span>2021/10/18 14:57<br/>
             
             <span>Word Count:</span><span class="page-count">8.1k Words</span><br/>
             
             <span>Link:</span><a href="/posts/9028/" target="_blank" title="UE Hot Update: Config Overloading and Apply">https://en.imzlp.com/posts/9028/</a>
             <span class="copy-path" data-clipboard-text="Link: https://en.imzlp.com/posts/9028/ Author: LIPENGZHA" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
             <script src="/js/jquery.min.js"></script>
             <script src="/js/clipboard.min.js"></script>
             <script> var clipboard = new Clipboard('.copy-path'); </script>
             <br/>
             
             <span>License:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a><br/>
             
             <span>Reprinting of the full article is prohibited.</span>
          </div>
        
    

        
  <div class="reward-container">
    <div>Your donation will encourage me to keep creating!</div>
    <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
      Donate
    </button>
    <div id="qr" style="display: none;">
        
        <div style="display: inline-block;">
          <img src="/images/reward/wechatpay.webp" alt="LIPENGZHA WeChat Pay">
          <p>WeChat Pay</p>
        </div>

    </div>
  </div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/UnrealEngine/" rel="tag"># UnrealEngine</a>
              <a href="/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/" rel="tag"># 热更新</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/26919/" rel="prev" title="Details Panel Customization in Unreal Engine">
      <i class="fa fa-chevron-left"></i> Details Panel Customization in Unreal Engine
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/11750/" rel="next" title="UE Resource Scanning and inspection tool ResScannerUE">
      UE Resource Scanning and inspection tool ResScannerUE <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utteranc">utteranc</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utteranc" id="comment-utteranc">
              
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="hxhb/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hierarchy-and-Priority-of-Ini-Files"><span class="nav-number">1.</span> <span class="nav-text">Hierarchy and Priority of Ini Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Loading-Config-in-UObject"><span class="nav-number">2.</span> <span class="nav-text">Loading Config in UObject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Updating-Configuration-Values-in-UObject"><span class="nav-number">3.</span> <span class="nav-text">Updating Configuration Values in UObject</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Console-Variables"><span class="nav-number">4.</span> <span class="nav-text">Console Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Device-Profiles"><span class="nav-number">5.</span> <span class="nav-text">Device Profiles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GameUserSettings"><span class="nav-number">6.</span> <span class="nav-text">GameUserSettings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Conclusion"><span class="nav-number">7.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person" oncontextmenu="return false" οndragstart="return false">
    <img class="site-author-image" itemprop="image" alt="LIPENGZHA"
      src="https://img.imzlp.com/imgs/zlp/picgo/2023/202304152112902.webp">
  <p class="site-author-name" itemprop="name">LIPENGZHA</p>
  <div class="site-description" itemprop="description">"I think, therefore I am"</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
             
          <span class="site-state-item-count">190</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">95</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">190</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hxhb" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hxhb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://linkedin.com/in/lipengzha" title="Linkedin → https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;lipengzha" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/imzlp" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;imzlp" rel="noopener" target="_blank"><i class="fa fa-custom zhihu fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat-qrcode-offical.webp" title="微信公众号 → &#x2F;images&#x2F;wechat-qrcode-offical.webp"><i class="fab fa-weixin fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:imzlp@foxmail.com" title="E-Mail → mailto:imzlp@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://consolehelp.imzlp.com/" title="https:&#x2F;&#x2F;consolehelp.imzlp.com&#x2F;" rel="noopener" target="_blank">UE Console Help</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/opensource/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;opensource&#x2F;" rel="noopener" target="_blank">Open Source Projects</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://imzlp.com/posts/11515/" title="https:&#x2F;&#x2F;imzlp.com&#x2F;posts&#x2F;11515&#x2F;" rel="noopener" target="_blank">UE C++ API Dash Documents</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ue5wiki.com/" title="https:&#x2F;&#x2F;ue5wiki.com&#x2F;" rel="noopener" target="_blank">Unreal Engine Wiki</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LIPENGZHA</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.5m</span>
</div>
  <div class="powered-by-other">
    
	    <center>Github Pages | Actions | NeXT | Cloudflare | Hexo Deploy</center>
      
  </div>

<script>
function checkWebp(callback) {
    var img = new Image();
    img.onload = function () { callback((img.width > 0) && (img.height > 0)); };
    img.onerror = function () { callback(false); };
    img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
function showImage(useWebp) {
    var imgs = [].slice.call(document.querySelectorAll('img'));
    imgs.forEach(function (e) {
        if (!useWebp) {
            var src = e.getAttribute('data-src')
            src = src.replace(/\.webp$/, '.png');
            e.setAttribute('data-src', src);
        }
    });
}
checkWebp(showImage);
</script>

        








      </div>
    </footer>
  </div>

  
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/animejs/3.2.1/anime.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.5.1/jquery.min.js"></script>
  <script src="//lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/lozad.js/1.16.0/lozad.min.js"></script>
  <script src="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>



<script src="/js/code-unfold.js"></script>

  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  
  <script src="//img.imzlp.com/imgs/zlp/picgo/2021/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://en.imzlp.com/posts/9028/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    var requiredFields = 'nick';
    requiredFields = requiredFields.split(',');
    
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oCE6RMVkVoi5MgUhvFsn1EvV-gzGzoHsz',
      appKey     : 'K9SOaNYJ8PV6xaoFggWG5xvv',
      placeholder: "Leave something behind~",
      avatar     : 'robohash',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields: requiredFields
    });
  }, window.Valine);
});
</script>

</body>
</html>
